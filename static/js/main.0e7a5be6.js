/*! For license information please see main.0e7a5be6.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,s={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:s,_owner:a.current}}t.Fragment=s,t.jsx=u,t.jsxs=u},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var E=Array.isArray,_=Object.prototype.hasOwnProperty,S={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!x.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:S.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function L(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+I(l,0):s,E(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),L(o,t,i,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",E(e))for(var u=0;u<e.length;u++){var c=s+I(a=e[u],u);l+=L(a,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=L(a=a.value,t,i,c=s+I(a,u++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return L(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},D={transition:null},R={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:D,ReactCurrentOwner:S};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)_.call(t,u)&&!x.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<i&&0>s(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,d=null,p=3,f=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function E(e){if(m=!1,w(e),!g)if(null!==r(u))g=!0,D(_);else{var t=r(c);null!==t&&R(E,t.startTime-e)}}function _(e,n){g=!1,m&&(m=!1,y(C),C=-1),f=!0;var s=p;try{for(w(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!L());){var o=d.callback;if("function"===typeof o){d.callback=null,p=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(u)&&i(u),w(n)}else i(u);d=r(u)}if(null!==d)var l=!0;else{var h=r(c);null!==h&&R(E,h.startTime-n),l=!1}return l}finally{d=null,p=s,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,x=!1,k=null,C=-1,T=5,I=-1;function L(){return!(t.unstable_now()-I<T)}function P(){if(null!==k){var e=t.unstable_now();I=e;var n=!0;try{n=k(!0,e)}finally{n?S():(x=!1,k=null)}}else x=!1}if("function"===typeof b)S=function(){b(P)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,A=O.port2;O.port1.onmessage=P,S=function(){A.postMessage(null)}}else S=function(){v(P,0)};function D(e){k=e,x||(x=!0,S())}function R(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,D(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(c,e),null===r(u)&&e===r(c)&&(m?(y(C),C=-1):m=!0,R(E,s-o))):(e.sortIndex=a,n(u,e),g||f||(g=!0,D(_))),e},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},324:e=>{e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var s=Object.keys(e),o=Object.keys(t);if(s.length!==o.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),l=0;l<s.length;l++){var u=s[l];if(!a(u))return!1;var c=e[u],h=t[u];if(!1===(i=n?n.call(r,c,h,u):void 0)||void 0===i&&c!==h)return!1}return!0}},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{"use strict";e.exports=n(153)},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function g(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(f,e)||!h.call(p,e)&&(d.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var N,j=Object.assign;function U(e){if(void 0===N)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||""}return"\n"+N+e}var F=!1;function z(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function V(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case _:return"Portal";case k:return"Profiler";case x:return"StrictMode";case L:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Se=null,xe=null;function ke(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(s(280));var t=e.stateNode;t&&(t=Ei(t),_e(e.stateNode,e.type,t))}}function Ce(e){Se?xe?xe.push(e):xe=[e]:Se=e}function Te(){if(Se){var e=Se,t=xe;if(xe=Se=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ie(e,t){return e(t)}function Le(){}var Pe=!1;function Oe(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ie(e,t,n)}finally{Pe=!1,(null!==Se||null!==xe)&&(Le(),Te())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=Ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var De=!1;if(c)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){De=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ce){De=!1}function Me(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Ne=!1,je=null,Ue=!1,Fe=null,ze={onError:function(e){Ne=!0,je=e}};function Ve(e,t,n,r,i,s,o,a,l){Ne=!1,je=null,Me.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,_t,St,xt,kt,Ct=!1,Tt=[],It=null,Lt=null,Pt=null,Ot=new Map,At=new Map,Dt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Lt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Nt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void kt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function zt(){Ct=!1,null!==It&&Ut(It)&&(It=null),null!==Lt&&Ut(Lt)&&(Lt=null),null!==Pt&&Ut(Pt)&&(Pt=null),Ot.forEach(Ft),At.forEach(Ft)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Bt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Vt(It,e),null!==Lt&&Vt(Lt,e),null!==Pt&&Vt(Pt,e),Ot.forEach(t),At.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)jt(n),null===n.blockedOn&&Dt.shift()}var $t=w.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=bt,s=$t.transition;$t.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,$t.transition=s}}function qt(e,t,n,r){var i=bt,s=$t.transition;$t.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,$t.transition=s}}function Kt(e,t,n,r){if(Wt){var i=Qt(e,t,n,r);if(null===i)Wr(e,t,r,Gt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Nt(It,e,t,n,r,i),!0;case"dragenter":return Lt=Nt(Lt,e,t,n,r,i),!0;case"mouseover":return Pt=Nt(Pt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ot.set(s,Nt(Ot.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,At.set(s,Nt(At.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&Et(s),null===(s=Qt(e,t,n,r))&&Wr(e,t,r,Gt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=yi(e=Ee(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=sn(un),hn=j({},un,{view:0,detail:0}),dn=sn(hn),pn=j({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=sn(pn),gn=sn(j({},pn,{dataTransfer:0})),mn=sn(j({},hn,{relatedTarget:0})),vn=sn(j({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(j({},un,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function kn(){return xn}var Cn=j({},hn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=sn(Cn),In=sn(j({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ln=sn(j({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Pn=sn(j({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=j({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=sn(On),Dn=[9,13,27,32],Rn=c&&"CompositionEvent"in window,Mn=null;c&&"documentMode"in document&&(Mn=document.documentMode);var Nn=c&&"TextEvent"in window&&!Mn,jn=c&&(!Rn||Mn&&8<Mn&&11>=Mn),Un=String.fromCharCode(32),Fn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function Hn(e,t,n,r){Ce(r),0<(t=qr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Kn=null;function Gn(e){Ur(e,0)}function Qn(e){if(K(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(c){var Xn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Kn=qn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Hn(t,Kn,e,Ee(e)),Oe(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function sr(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cr(n,s);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==G(r)||("selectionStart"in(r=mr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=qr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},Sr={},xr={};function kr(e){if(Sr[e])return Sr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return Sr[e]=n[t];return e}c&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Cr=kr("animationend"),Tr=kr("animationiteration"),Ir=kr("animationstart"),Lr=kr("transitionend"),Pr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Pr.set(e,t),l(t,[e])}for(var Dr=0;Dr<Or.length;Dr++){var Rr=Or[Dr];Ar(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Ar(Cr,"onAnimationEnd"),Ar(Tr,"onAnimationIteration"),Ar(Ir,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Lr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,u){if(Ve.apply(this,arguments),Ne){if(!Ne)throw Error(s(198));var c=je;Ne=!1,je=null,Ue||(Ue=!0,Fe=c)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;jr(i,a,u),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;jr(i,a,u),s=l}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||($r(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),$r(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Nr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,zr("selectionchange",!1,t))}}function $r(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=qt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=yi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Oe((function(){var r=s,i=Ee(n),o=[];e:{var a=Pr.get(e);if(void 0!==a){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Ln;break;case Cr:case Tr:case Ir:l=vn;break;case Lr:l=Pn;break;case"scroll":l=dn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==a?a+"Capture":null:a;c=[];for(var p,f=r;null!==f;){var g=(p=f).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==d&&(null!=(g=Ae(f,d))&&c.push(Hr(f,g,p)))),h)break;f=f.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[fi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(h=Be(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=fn,g="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,g="onPointerLeave",d="onPointerEnter",f="pointer"),h=null==l?a:wi(l),p=null==u?a:wi(u),(a=new c(g,f+"leave",l,n,i)).target=h,a.relatedTarget=p,g=null,yi(i)===r&&((c=new c(d,f+"enter",u,n,i)).target=p,c.relatedTarget=h,g=c),h=g,l&&u)e:{for(d=u,f=0,p=c=l;p;p=Kr(p))f++;for(p=0,g=d;g;g=Kr(g))p++;for(;0<f-p;)c=Kr(c),f--;for(;0<p-f;)d=Kr(d),p--;for(;f--;){if(c===d||null!==d&&c===d.alternate)break e;c=Kr(c),d=Kr(d)}c=null}else c=null;null!==l&&Gr(o,a,l,c,!1),null!==u&&null!==h&&Gr(o,h,u,c,!0)}if("select"===(l=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Yn;else if(Wn(a))if(Jn)m=or;else{m=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=sr);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wi(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(o,n,i)}var y;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,Bn=!0)),0<(v=qr(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=Nn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Rn&&zn(e,t)?(e=en(),Zt=Xt=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Ur(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ae(e,n))&&r.unshift(Hr(e,s,i)),null!=(s=Ae(e,t))&&r.push(Hr(e,s,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Ae(n,s))&&o.unshift(Hr(n,l,a)):i||null!=(l=Ae(n,s))&&o.push(Hr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,pi="__reactProps$"+hi,fi="__reactContainer$"+hi,gi="__reactEvents$"+hi,mi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Ei(e){return e[pi]||null}var _i=[],Si=-1;function xi(e){return{current:e}}function ki(e){0>Si||(e.current=_i[Si],_i[Si]=null,Si--)}function Ci(e,t){Si++,_i[Si]=e.current,e.current=t}var Ti={},Ii=xi(Ti),Li=xi(!1),Pi=Ti;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){ki(Li),ki(Ii)}function Ri(e,t,n){if(Ii.current!==Ti)throw Error(s(168));Ci(Ii,t),Ci(Li,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,$(e)||"Unknown",i));return j({},n,r)}function Ni(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Pi=Ii.current,Ci(Ii,e),Ci(Li,Li.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Mi(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,ki(Li),ki(Ii),Ci(Ii,e)):ki(Li),Ci(Li,n)}var Ui=null,Fi=!1,zi=!1;function Vi(e){null===Ui?Ui=[e]:Ui.push(e)}function Bi(){if(!zi&&null!==Ui){zi=!0;var e=0,t=bt;try{var n=Ui;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Fi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ke(Ze,Bi),i}finally{bt=t,zi=!1}}return null}var $i=[],Wi=0,Hi=null,qi=0,Ki=[],Gi=0,Qi=null,Yi=1,Ji="";function Xi(e,t){$i[Wi++]=qi,$i[Wi++]=Hi,Hi=e,qi=t}function Zi(e,t,n){Ki[Gi++]=Yi,Ki[Gi++]=Ji,Ki[Gi++]=Qi,Qi=e;var r=Yi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Ji=s+e}else Yi=1<<s|n<<i|r,Ji=e}function es(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ts(e){for(;e===Hi;)Hi=$i[--Wi],$i[Wi]=null,qi=$i[--Wi],$i[Wi]=null;for(;e===Qi;)Qi=Ki[--Gi],Ki[Gi]=null,Ji=Ki[--Gi],Ki[Gi]=null,Yi=Ki[--Gi],Ki[Gi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Ou(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ou(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function us(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ui(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function cs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return cs(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=ui(t.nextSibling)}if(cs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ui(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ui(e.nextSibling)}function ps(){rs=ns=null,is=!1}function fs(e){null===ss?ss=[e]:ss.push(e)}var gs=w.ReactCurrentBatchConfig;function ms(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Du(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=ju(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===S?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===A&&ys(s)===t.type)?((r=i(t,n.props)).ref=ms(e,t,n),r.return=e,r):((r=Ru(n.type,n.key,n.props,null,e.mode,r)).ref=ms(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Mu(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=ju(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Ru(t.type,t.key,t.props,null,e.mode,n)).ref=ms(e,null,t),n.return=e,n;case _:return(t=Uu(t,e.mode,n)).return=e,t;case A:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mu(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?u(e,t,n,r):null;case _:return n.key===i?c(e,t,n,r):null;case A:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:h(e,t,n,r,null);vs(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return f(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return h(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function g(i,s,a,l){for(var u=null,c=null,h=s,g=s=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=p(i,h,a[g],l);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&t(i,h),s=o(v,s,g),null===c?u=v:c.sibling=v,c=v,h=m}if(g===a.length)return n(i,h),is&&Xi(i,g),u;if(null===h){for(;g<a.length;g++)null!==(h=d(i,a[g],l))&&(s=o(h,s,g),null===c?u=h:c.sibling=h,c=h);return is&&Xi(i,g),u}for(h=r(i,h);g<a.length;g++)null!==(m=f(h,i,g,a[g],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),s=o(m,s,g),null===c?u=m:c.sibling=m,c=m);return e&&h.forEach((function(e){return t(i,e)})),is&&Xi(i,g),u}function m(i,a,l,u){var c=M(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var h=c=null,g=a,m=a=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=p(i,g,y.value,u);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(i,g),a=o(b,a,m),null===h?c=b:h.sibling=b,h=b,g=v}if(y.done)return n(i,g),is&&Xi(i,m),c;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=d(i,y.value,u))&&(a=o(y,a,m),null===h?c=y:h.sibling=y,h=y);return is&&Xi(i,m),c}for(g=r(i,g);!y.done;m++,y=l.next())null!==(y=f(g,i,m,y.value,u))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),a=o(y,a,m),null===h?c=y:h.sibling=y,h=y);return e&&g.forEach((function(e){return t(i,e)})),is&&Xi(i,m),c}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case E:e:{for(var u=o.key,c=s;null!==c;){if(c.key===u){if((u=o.type)===S){if(7===c.tag){n(r,c.sibling),(s=i(c,o.props.children)).return=r,r=s;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===A&&ys(u)===c.type){n(r,c.sibling),(s=i(c,o.props)).ref=ms(r,c,o),s.return=r,r=s;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===S?((s=Mu(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Ru(o.type,o.key,o.props,null,r.mode,l)).ref=ms(r,s,o),l.return=r,r=l)}return a(r);case _:e:{for(c=o.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Uu(o,r.mode,l)).return=r,r=s}return a(r);case A:return e(r,s,(c=o._init)(o._payload),l)}if(te(o))return g(r,s,o,l);if(M(o))return m(r,s,o,l);vs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=ju(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var ws=bs(!0),Es=bs(!1),_s=xi(null),Ss=null,xs=null,ks=null;function Cs(){ks=xs=Ss=null}function Ts(e){var t=_s.current;ki(_s),e._currentValue=t}function Is(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ls(e,t){Ss=e,ks=xs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Ps(e){var t=e._currentValue;if(ks!==e)if(e={context:e,memoizedValue:t,next:null},null===xs){if(null===Ss)throw Error(s(308));xs=e,Ss.dependencies={lanes:0,firstContext:e}}else xs=xs.next=e;return t}var Os=null;function As(e){null===Os?Os=[e]:Os.push(e)}function Ds(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,As(t)):(n.next=i.next,i.next=n),t.interleaved=n,Rs(e,r)}function Rs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ms=!1;function Ns(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function js(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Us(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Il)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Rs(e,n)}return null===(i=r.interleaved)?(t.next=t,As(r)):(t.next=i.next,i.next=t),r.interleaved=t,Rs(e,n)}function zs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Vs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var i=e.updateQueue;Ms=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?s=u:o.next=u,o=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,c=u=l=null,a=s;;){var d=a.lane,p=a.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,g=a;switch(d=t,p=n,g.tag){case 1:if("function"===typeof(f=g.payload)){h=f.call(p,h,d);break e}h=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(d="function"===typeof(f=g.payload)?f.call(p,h,d):f)||void 0===d)break e;h=j({},h,d);break e;case 2:Ms=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=p,l=h):c=c.next=p,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Nl|=o,e.lanes=o,e.memoizedState=h}}function $s(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Ws={},Hs=xi(Ws),qs=xi(Ws),Ks=xi(Ws);function Gs(e){if(e===Ws)throw Error(s(174));return e}function Qs(e,t){switch(Ci(Ks,t),Ci(qs,e),Ci(Hs,Ws),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Hs),Ci(Hs,t)}function Ys(){ki(Hs),ki(qs),ki(Ks)}function Js(e){Gs(Ks.current);var t=Gs(Hs.current),n=le(t,e.type);t!==n&&(Ci(qs,e),Ci(Hs,n))}function Xs(e){qs.current===e&&(ki(Hs),ki(qs))}var Zs=xi(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=w.ReactCurrentDispatcher,io=w.ReactCurrentBatchConfig,so=0,oo=null,ao=null,lo=null,uo=!1,co=!1,ho=0,po=0;function fo(){throw Error(s(321))}function go(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function mo(e,t,n,r,i,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:ea,e=n(r,i),co){o=0;do{if(co=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=ao=null,t.updateQueue=null,ro.current=ta,e=n(r,i)}while(co)}if(ro.current=Xo,t=null!==ao&&null!==ao.next,so=0,lo=ao=oo=null,uo=!1,t)throw Error(s(300));return e}function vo(){var e=0!==ho;return ho=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function bo(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function wo(e,t){return"function"===typeof t?t(e):t}function Eo(e){var t=bo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ao,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,u=null,c=o;do{var h=c.lane;if((so&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,a=r):u=u.next=d,oo.lanes|=h,Nl|=h}c=c.next}while(null!==c&&c!==o);null===u?a=r:u.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Nl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _o(e){var t=bo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(ba=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function So(){}function xo(e,t){var n=oo,r=bo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,ba=!0),r=r.queue,No(To.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Oo(9,Co.bind(null,n,r,i,t),void 0,null),null===Ll)throw Error(s(349));0!==(30&so)||ko(n,t,i)}return i}function ko(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Co(e,t,n,r){t.value=n,t.getSnapshot=r,Io(t)&&Lo(e)}function To(e,t,n){return n((function(){Io(t)&&Lo(e)}))}function Io(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Lo(e){var t=Rs(e,1);null!==t&&nu(t,e,1,-1)}function Po(e){var t=yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Go.bind(null,oo,e),[t.memoizedState,e]}function Oo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ao(){return bo().memoizedState}function Do(e,t,n,r){var i=yo();oo.flags|=e,i.memoizedState=Oo(1|t,n,void 0,void 0===r?null:r)}function Ro(e,t,n,r){var i=bo();r=void 0===r?null:r;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==r&&go(r,o.deps))return void(i.memoizedState=Oo(t,n,s,r))}oo.flags|=e,i.memoizedState=Oo(1|t,n,s,r)}function Mo(e,t){return Do(8390656,8,e,t)}function No(e,t){return Ro(2048,8,e,t)}function jo(e,t){return Ro(4,2,e,t)}function Uo(e,t){return Ro(4,4,e,t)}function Fo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ro(4,4,Fo.bind(null,t,e),n)}function Vo(){}function Bo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&go(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $o(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&go(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wo(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=gt(),oo.lanes|=n,Nl|=n,e.baseState=!0),t)}function Ho(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{bt=n,io.transition=r}}function qo(){return bo().memoizedState}function Ko(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qo(e))Yo(t,n);else if(null!==(n=Ds(e,t,n,r))){nu(n,e,r,eu()),Jo(n,t,r)}}function Go(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))Yo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,As(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Ds(e,t,i,r))&&(nu(n,e,r,i=eu()),Jo(n,t,r))}}function Qo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Yo(e,t){co=uo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Xo={readContext:Ps,useCallback:fo,useContext:fo,useEffect:fo,useImperativeHandle:fo,useInsertionEffect:fo,useLayoutEffect:fo,useMemo:fo,useReducer:fo,useRef:fo,useState:fo,useDebugValue:fo,useDeferredValue:fo,useTransition:fo,useMutableSource:fo,useSyncExternalStore:fo,useId:fo,unstable_isNewReconciler:!1},Zo={readContext:Ps,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:Ps,useEffect:Mo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4194308,4,Fo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Do(4194308,4,e,t)},useInsertionEffect:function(e,t){return Do(4,2,e,t)},useMemo:function(e,t){var n=yo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ko.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:Po,useDebugValue:Vo,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=Po(!1),t=e[0];return e=Ho.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=yo();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Ll)throw Error(s(349));0!==(30&so)||ko(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Mo(To.bind(null,r,o,e),[e]),r.flags|=2048,Oo(9,Co.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=yo(),t=Ll.identifierPrefix;if(is){var n=Ji;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ps,useCallback:Bo,useContext:Ps,useEffect:No,useImperativeHandle:zo,useInsertionEffect:jo,useLayoutEffect:Uo,useMemo:$o,useReducer:Eo,useRef:Ao,useState:function(){return Eo(wo)},useDebugValue:Vo,useDeferredValue:function(e){return Wo(bo(),ao.memoizedState,e)},useTransition:function(){return[Eo(wo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:xo,useId:qo,unstable_isNewReconciler:!1},ta={readContext:Ps,useCallback:Bo,useContext:Ps,useEffect:No,useImperativeHandle:zo,useInsertionEffect:jo,useLayoutEffect:Uo,useMemo:$o,useReducer:_o,useRef:Ao,useState:function(){return _o(wo)},useDebugValue:Vo,useDeferredValue:function(e){var t=bo();return null===ao?t.memoizedState=e:Wo(t,ao.memoizedState,e)},useTransition:function(){return[_o(wo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:xo,useId:qo,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),s=Us(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Fs(e,s,i))&&(nu(t,e,i,r),zs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),s=Us(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Fs(e,s,i))&&(nu(t,e,i,r),zs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Us(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Fs(e,i,r))&&(nu(t,e,r,n),zs(t,e,r))}};function sa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function oa(e,t,n){var r=!1,i=Ti,s=t.contextType;return"object"===typeof s&&null!==s?s=Ps(s):(i=Ai(t)?Pi:Ii.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ti),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ns(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ps(s):(s=Ai(t)?Pi:Ii.current,i.context=Oi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ra(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),Bs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ua(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ca(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var da="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Us(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Hl=r),ha(0,t)},n}function fa(e,t,n){(n=Us(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new da;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ku.bind(null,e,t,n),t.then(e,e))}function ma(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Us(-1,1)).tag=2,Fs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ya=w.ReactCurrentOwner,ba=!1;function wa(e,t,n,r){t.child=null===e?Es(t,null,n,r):ws(t,e.child,n,r)}function Ea(e,t,n,r,i){n=n.render;var s=t.ref;return Ls(t,i),r=mo(e,t,n,r,s,i),n=vo(),null===e||ba?(is&&n&&es(t),t.flags|=1,wa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function _a(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Au(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ru(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Sa(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Wa(e,t,i)}return t.flags|=1,(e=Du(s,r)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Wa(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return Ca(e,t,n,r,i)}function xa(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Dl,Al),Al|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Dl,Al),Al|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ci(Dl,Al),Al|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ci(Dl,Al),Al|=r;return wa(e,t,i,n),t.child}function ka(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ca(e,t,n,r,i){var s=Ai(n)?Pi:Ii.current;return s=Oi(t,s),Ls(t,i),n=mo(e,t,n,r,s,i),r=vo(),null===e||ba?(is&&r&&es(t),t.flags|=1,wa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function Ta(e,t,n,r,i){if(Ai(n)){var s=!0;Ni(t)}else s=!1;if(Ls(t,i),null===t.stateNode)$a(e,t),oa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ps(u):u=Oi(t,u=Ai(n)?Pi:Ii.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==u)&&aa(t,o,r,u),Ms=!1;var d=t.memoizedState;o.state=d,Bs(t,r,o,i),l=t.memoizedState,a!==r||d!==l||Li.current||Ms?("function"===typeof c&&(ra(t,n,c,r),l=t.memoizedState),(a=Ms||sa(t,n,a,r,d,l,u))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,js(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:na(t.type,a),o.props=u,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ps(l):l=Oi(t,l=Ai(n)?Pi:Ii.current);var p=n.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&aa(t,o,r,l),Ms=!1,d=t.memoizedState,o.state=d,Bs(t,r,o,i);var f=t.memoizedState;a!==h||d!==f||Li.current||Ms?("function"===typeof p&&(ra(t,n,p,r),f=t.memoizedState),(u=Ms||sa(t,n,u,r,d,f,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ia(e,t,n,r,s,i)}function Ia(e,t,n,r,i,s){ka(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Wa(e,t,s);r=t.stateNode,ya.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,a,s)):wa(e,t,a,s),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function La(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),Qs(e,t.containerInfo)}function Pa(e,t,n,r,i){return ps(),fs(i),t.flags|=256,wa(e,t,n,r),t.child}var Oa,Aa,Da,Ra,Ma={dehydrated:null,treeContext:null,retryLane:0};function Na(e){return{baseLanes:e,cachePool:null,transitions:null}}function ja(e,t,n){var r,i=t.pendingProps,o=Zs.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ci(Zs,1&o),null===e)return us(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Nu(l,i,0,null),e=Mu(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Na(n),t.memoizedState=Ma,e):Ua(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Fa(e,t,a,r=ca(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Nu({mode:"visible",children:r.children},i,0,null),(o=Mu(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,a),t.child.memoizedState=Na(a),t.memoizedState=Ma,o);if(0===(1&t.mode))return Fa(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Fa(e,t,a,r=ca(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Ll)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Rs(e,i),nu(r,e,i,-1))}return gu(),Fa(e,t,a,r=ca(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tu.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ui(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Ki[Gi++]=Yi,Ki[Gi++]=Ji,Ki[Gi++]=Qi,Yi=e.id,Ji=e.overflow,Qi=t),t=Ua(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Du(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Du(r,a):(a=Mu(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Na(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ma,i}return e=(a=e.child).sibling,i=Du(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ua(e,t){return(t=Nu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fa(e,t,n,r){return null!==r&&fs(r),ws(t,e.child,null,n),(e=Ua(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function za(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Is(e.return,t,n)}function Va(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ba(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,n,t);else if(19===e.tag)za(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Va(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Va(t,!0,n,null,s);break;case"together":Va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $a(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Nl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Du(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Du(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ha(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ka(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qa(t),null;case 1:case 17:return Ai(t.type)&&Di(),qa(t),null;case 3:return r=t.stateNode,Ys(),ki(Li),ki(Ii),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ou(ss),ss=null))),Aa(e,t),qa(t),null;case 5:Xs(t);var i=Gs(Ks.current);if(n=t.type,null!==e&&null!=t.stateNode)Da(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return qa(t),null}if(e=Gs(Hs.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[pi]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Fr(Mr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Y(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,u,e),i=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":q(r),Z(r,o,!0);break;case"textarea":q(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[pi]=r,Oa(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Fr(Mr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ye(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Fr("scroll",e):null!=c&&b(e,o,c,l))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qa(t),null;case 6:if(e&&null!=t.stateNode)Ra(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Gs(Ks.current),Gs(Hs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return qa(t),null;case 13:if(ki(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),ps(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qa(t),o=!1}else null!==ss&&(ou(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Rl&&(Rl=3):gu())),null!==t.updateQueue&&(t.flags|=4),qa(t),null);case 4:return Ys(),Aa(e,t),null===e&&Br(t.stateNode.containerInfo),qa(t),null;case 10:return Ts(t.type._context),qa(t),null;case 19:if(ki(Zs),null===(o=t.memoizedState))return qa(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ha(o,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Ha(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Bl&&(t.flags|=128,r=!0,Ha(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ha(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return qa(t),null}else 2*Je()-o.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Ha(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=Zs.current,Ci(Zs,r?1&n|2:1&n),t):(qa(t),null);case 22:case 23:return hu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Al)&&(qa(t),6&t.subtreeFlags&&(t.flags|=8192)):qa(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ga(e,t){switch(ts(t),t.tag){case 1:return Ai(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ys(),ki(Li),ki(Ii),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xs(t),null;case 13:if(ki(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(Zs),null;case 4:return Ys(),null;case 10:return Ts(t.type._context),null;case 22:case 23:return hu(),null;default:return null}}Oa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Aa=function(){},Da=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Gs(Hs.current);var s,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Fr("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ra=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qa=!1,Ya=!1,Ja="function"===typeof WeakSet?WeakSet:Set,Xa=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){xu(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){xu(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[pi],delete t[gi],delete t[mi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ya||Za(n,t);case 6:var r=cl,i=hl;cl=null,dl(e,t,n),hl=i,null!==(cl=r)&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(cl,n.stateNode));break;case 4:r=cl,i=hl,cl=n.stateNode.containerInfo,hl=!0,dl(e,t,n),cl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Ya&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(n,t,o),i=i.next}while(i!==r)}dl(e,t,n);break;case 1:if(!Ya&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xu(n,t,a)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Ya=(r=Ya)||null!==n.memoizedState,dl(e,t,n),Ya=r):dl(e,t,n);break;default:dl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=Iu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,hl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===cl)throw Error(s(160));pl(o,a,i),cl=null,hl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){xu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(m){xu(e,e.return,m)}try{nl(5,e,e.return)}catch(m){xu(e,e.return,m)}}break;case 1:gl(t,e),vl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(gl(t,e),vl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){xu(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(i,o),be(l,a);var c=be(l,o);for(a=0;a<u.length;a+=2){var h=u[a],d=u[a+1];"style"===h?me(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,c)}switch(l){case"input":X(i,o);break;case"textarea":se(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?ne(i,!!o.multiple,f,!1):p!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[pi]=o}catch(m){xu(e,e.return,m)}}break;case 6:if(gl(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){xu(e,e.return,m)}}break;case 3:if(gl(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){xu(e,e.return,m)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=Je())),4&r&&fl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ya=(c=Ya)||h,gl(t,e),Ya=c):gl(t,e),vl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Xa=e,h=e.child;null!==h;){for(d=Xa=h;null!==Xa;){switch(f=(p=Xa).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Za(p,p.return);var g=p.stateNode;if("function"===typeof g.componentWillUnmount){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){xu(r,n,m)}}break;case 5:Za(p,p.return);break;case 22:if(null!==p.memoizedState){El(d);continue}}null!==f?(f.return=p,Xa=f):El(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ge("display",a))}catch(m){xu(e,e.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){xu(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),vl(e),4&r&&fl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ul(e,al(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,al(e),o);break;default:throw Error(s(161))}}catch(a){xu(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Xa=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Xa;){var i=Xa,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qa;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ya;a=Qa;var u=Ya;if(Qa=o,(Ya=l)&&!u)for(Xa=i;null!==Xa;)l=(o=Xa).child,22===o.tag&&null!==o.memoizedState?_l(i):null!==l?(l.return=o,Xa=l):_l(i);for(;null!==s;)Xa=s,bl(s,t,n),s=s.sibling;Xa=i,Qa=a,Ya=u}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Xa=s):wl(e)}}function wl(e){for(;null!==Xa;){var t=Xa;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ya||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ya)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&$s(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}$s(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(s(163))}Ya||512&t.flags&&il(t)}catch(p){xu(t,t.return,p)}}if(t===e){Xa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xa=n;break}Xa=t.return}}function El(e){for(;null!==Xa;){var t=Xa;if(t===e){Xa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xa=n;break}Xa=t.return}}function _l(e){for(;null!==Xa;){var t=Xa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){xu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){xu(t,i,l)}}var s=t.return;try{il(t)}catch(l){xu(t,s,l)}break;case 5:var o=t.return;try{il(t)}catch(l){xu(t,o,l)}}}catch(l){xu(t,t.return,l)}if(t===e){Xa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Xa=a;break}Xa=t.return}}var Sl,xl=Math.ceil,kl=w.ReactCurrentDispatcher,Cl=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,Il=0,Ll=null,Pl=null,Ol=0,Al=0,Dl=xi(0),Rl=0,Ml=null,Nl=0,jl=0,Ul=0,Fl=null,zl=null,Vl=0,Bl=1/0,$l=null,Wl=!1,Hl=null,ql=null,Kl=!1,Gl=null,Ql=0,Yl=0,Jl=null,Xl=-1,Zl=0;function eu(){return 0!==(6&Il)?Je():-1!==Xl?Xl:Xl=Je()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==Ol?Ol&-Ol:null!==gs.transition?(0===Zl&&(Zl=gt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nu(e,t,n,r){if(50<Yl)throw Yl=0,Jl=null,Error(s(185));vt(e,n,r),0!==(2&Il)&&e===Ll||(e===Ll&&(0===(2&Il)&&(jl|=n),4===Rl&&au(e,Ol)),ru(e,r),1===n&&0===Il&&0===(1&t.mode)&&(Bl=Je()+500,Fi&&Bi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=pt(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Ll?Ol:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Fi=!0,Vi(e)}(lu.bind(null,e)):Vi(lu.bind(null,e)),oi((function(){0===(6&Il)&&Bi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Lu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Xl=-1,Zl=0,0!==(6&Il))throw Error(s(327));var n=e.callbackNode;if(_u()&&e.callbackNode!==n)return null;var r=dt(e,e===Ll?Ol:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mu(e,r);else{t=r;var i=Il;Il|=2;var o=fu();for(Ll===e&&Ol===t||($l=null,Bl=Je()+500,du(e,t));;)try{yu();break}catch(l){pu(e,l)}Cs(),kl.current=o,Il=i,null!==Pl?t=0:(Ll=null,Ol=0,t=Rl)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=su(e,i))),1===t)throw n=Ml,du(e,0),au(e,r),ru(e,Je()),n;if(6===t)au(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mu(e,r))&&(0!==(o=ft(e))&&(r=o,t=su(e,o))),1===t))throw n=Ml,du(e,0),au(e,r),ru(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Eu(e,zl,$l);break;case 3:if(au(e,r),(130023424&r)===r&&10<(t=Vl+500-Je())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Eu.bind(null,e,zl,$l),t);break}Eu(e,zl,$l);break;case 4:if(au(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xl(r/1960))-r)){e.timeoutHandle=ri(Eu.bind(null,e,zl,$l),r);break}Eu(e,zl,$l);break;default:throw Error(s(329))}}}return ru(e,Je()),e.callbackNode===n?iu.bind(null,e):null}function su(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(du(e,t).flags|=256),2!==(e=mu(e,t))&&(t=zl,zl=n,null!==t&&ou(t)),e}function ou(e){null===zl?zl=e:zl.push.apply(zl,e)}function au(e,t){for(t&=~Ul,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Il))throw Error(s(327));_u();var t=dt(e,0);if(0===(1&t))return ru(e,Je()),null;var n=mu(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=su(e,r))}if(1===n)throw n=Ml,du(e,0),au(e,t),ru(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Eu(e,zl,$l),ru(e,Je()),null}function uu(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(Bl=Je()+500,Fi&&Bi())}}function cu(e){null!==Gl&&0===Gl.tag&&0===(6&Il)&&_u();var t=Il;Il|=1;var n=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=n,0===(6&(Il=t))&&Bi()}}function hu(){Al=Dl.current,ki(Dl)}function du(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:Ys(),ki(Li),ki(Ii),no();break;case 5:Xs(r);break;case 4:Ys();break;case 13:case 19:ki(Zs);break;case 10:Ts(r.type._context);break;case 22:case 23:hu()}n=n.return}if(Ll=e,Pl=e=Du(e.current,null),Ol=Al=t,Rl=0,Ml=null,Ul=jl=Nl=0,zl=Fl=null,null!==Os){for(t=0;t<Os.length;t++)if(null!==(r=(n=Os[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Os=null}return e}function pu(e,t){for(;;){var n=Pl;try{if(Cs(),ro.current=Xo,uo){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}uo=!1}if(so=0,lo=ao=oo=null,co=!1,ho=0,Cl.current=null,null===n||null===n.return){Rl=1,Ml=t,Pl=null;break}e:{var o=e,a=n.return,l=n,u=t;if(t=Ol,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=ma(a);if(null!==f){f.flags&=-257,va(f,a,l,0,t),1&f.mode&&ga(o,c,t),u=c;var g=(t=f).updateQueue;if(null===g){var m=new Set;m.add(u),t.updateQueue=m}else g.add(u);break e}if(0===(1&t)){ga(o,c,t),gu();break e}u=Error(s(426))}else if(is&&1&l.mode){var v=ma(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),fs(ua(u,l));break e}}o=u=ua(u,l),4!==Rl&&(Rl=2),null===Fl?Fl=[o]:Fl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Vs(o,pa(0,u,t));break e;case 1:l=u;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Vs(o,fa(o,l,t));break e}}o=o.return}while(null!==o)}wu(n)}catch(w){t=w,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function fu(){var e=kl.current;return kl.current=Xo,null===e?Xo:e}function gu(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Ll||0===(268435455&Nl)&&0===(268435455&jl)||au(Ll,Ol)}function mu(e,t){var n=Il;Il|=2;var r=fu();for(Ll===e&&Ol===t||($l=null,du(e,t));;)try{vu();break}catch(i){pu(e,i)}if(Cs(),Il=n,kl.current=r,null!==Pl)throw Error(s(261));return Ll=null,Ol=0,Rl}function vu(){for(;null!==Pl;)bu(Pl)}function yu(){for(;null!==Pl&&!Qe();)bu(Pl)}function bu(e){var t=Sl(e.alternate,e,Al);e.memoizedProps=e.pendingProps,null===t?wu(e):Pl=t,Cl.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ka(n,t,Al)))return void(Pl=n)}else{if(null!==(n=Ga(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Rl=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Rl&&(Rl=5)}function Eu(e,t,n){var r=bt,i=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,r){do{_u()}while(null!==Gl);if(0!==(6&Il))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Ll&&(Pl=Ll=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Lu(tt,(function(){return _u(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tl.transition,Tl.transition=null;var a=bt;bt=1;var l=Il;Il|=4,Cl.current=null,function(e,t){if(ei=Wt,pr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(E){n=null;break e}var a=0,l=-1,u=-1,c=0,h=0,d=e,p=null;t:for(;;){for(var f;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(u=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(f=d.firstChild);)p=d,d=f;for(;;){if(d===e)break t;if(p===n&&++c===i&&(l=a),p===o&&++h===r&&(u=a),null!==(f=d.nextSibling))break;p=(d=p).parentNode}d=f}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Xa=t;null!==Xa;)if(e=(t=Xa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xa=e;else for(;null!==Xa;){t=Xa;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:na(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(E){xu(t,t.return,E)}if(null!==(e=t.sibling)){e.return=t.return,Xa=e;break}Xa=t.return}g=tl,tl=!1}(e,n),ml(n,e),fr(ti),Wt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Ye(),Il=l,bt=a,Tl.transition=o}else e.current=n;if(Kl&&(Kl=!1,Gl=e,Ql=i),o=e.pendingLanes,0===o&&(ql=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Hl,Hl=null,e;0!==(1&Ql)&&0!==e.tag&&_u(),o=e.pendingLanes,0!==(1&o)?e===Jl?Yl++:(Yl=0,Jl=e):Yl=0,Bi()}(e,t,n,r)}finally{Tl.transition=i,bt=r}return null}function _u(){if(null!==Gl){var e=wt(Ql),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Ql=0,0!==(6&Il))throw Error(s(331));var i=Il;for(Il|=4,Xa=e.current;null!==Xa;){var o=Xa,a=o.child;if(0!==(16&Xa.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Xa=c;null!==Xa;){var h=Xa;switch(h.tag){case 0:case 11:case 15:nl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Xa=d;else for(;null!==Xa;){var p=(h=Xa).sibling,f=h.return;if(sl(h),h===c){Xa=null;break}if(null!==p){p.return=f,Xa=p;break}Xa=f}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Xa=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Xa=a;else e:for(;null!==Xa;){if(0!==(2048&(o=Xa).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Xa=y;break e}Xa=o.return}}var b=e.current;for(Xa=b;null!==Xa;){var w=(a=Xa).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Xa=w;else e:for(a=b;null!==Xa;){if(0!==(2048&(l=Xa).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(_){xu(l,l.return,_)}if(l===a){Xa=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,Xa=E;break e}Xa=l.return}}if(Il=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,Tl.transition=t}}return!1}function Su(e,t,n){e=Fs(e,t=pa(0,t=ua(n,t),1),1),t=eu(),null!==e&&(vt(e,1,t),ru(e,t))}function xu(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=Fs(t,e=fa(t,e=ua(n,e),1),1),e=eu(),null!==t&&(vt(t,1,e),ru(t,e));break}}t=t.return}}function ku(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Ll===e&&(Ol&n)===n&&(4===Rl||3===Rl&&(130023424&Ol)===Ol&&500>Je()-Vl?du(e,0):Ul|=n),ru(e,t)}function Cu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Rs(e,t))&&(vt(e,t,n),ru(e,n))}function Tu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function Iu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Cu(e,n)}function Lu(e,t){return Ke(e,t)}function Pu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ou(e,t,n,r){return new Pu(e,t,n,r)}function Au(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Du(e,t){var n=e.alternate;return null===n?((n=Ou(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ru(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Au(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return Mu(n.children,i,o,t);case x:a=8,i|=8;break;case k:return(e=Ou(12,n,t,2|i)).elementType=k,e.lanes=o,e;case L:return(e=Ou(13,n,t,i)).elementType=L,e.lanes=o,e;case P:return(e=Ou(19,n,t,i)).elementType=P,e.lanes=o,e;case D:return Nu(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:a=10;break e;case T:a=9;break e;case I:a=11;break e;case O:a=14;break e;case A:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ou(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mu(e,t,n,r){return(e=Ou(7,e,r,t)).lanes=n,e}function Nu(e,t,n,r){return(e=Ou(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function ju(e,t,n){return(e=Ou(6,e,null,t)).lanes=n,e}function Uu(e,t,n){return(t=Ou(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zu(e,t,n,r,i,s,o,a,l){return e=new Fu(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Ou(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ns(s),e}function Vu(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Mi(e,n,t)}return t}function Bu(e,t,n,r,i,s,o,a,l){return(e=zu(n,r,!0,e,0,s,0,a,l)).context=Vu(null),n=e.current,(s=Us(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,Fs(n,s,i),e.current.lanes=i,vt(e,i,r),ru(e,r),e}function $u(e,t,n,r){var i=t.current,s=eu(),o=tu(i);return n=Vu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Us(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fs(i,t,o))&&(nu(e,i,o,s),zs(e,i,o)),o}function Wu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qu(e,t){Hu(e,t),(e=e.alternate)&&Hu(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Li.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:La(t),ps();break;case 5:Js(t);break;case 1:Ai(t.type)&&Ni(t);break;case 4:Qs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(_s,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ja(e,t,n):(Ci(Zs,1&Zs.current),null!==(e=Wa(e,t,n))?e.sibling:null);Ci(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ba(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,xa(e,t,n)}return Wa(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,is&&0!==(1048576&t.flags)&&Zi(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$a(e,t),e=t.pendingProps;var i=Oi(t,Ii.current);Ls(t,n),i=mo(null,t,r,e,i,n);var o=vo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(o=!0,Ni(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ns(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=Ia(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),wa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch($a(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Au(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===O)return 14}return 2}(r),e=na(r,e),i){case 0:t=Ca(null,t,r,e,n);break e;case 1:t=Ta(null,t,r,e,n);break e;case 11:t=Ea(null,t,r,e,n);break e;case 14:t=_a(null,t,r,na(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(La(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,js(e,t),Bs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pa(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=Pa(e,t,r,n,i=ua(Error(s(424)),t));break e}for(rs=ui(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Es(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),r===i){t=Wa(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return Js(t),null===e&&us(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),ka(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&us(t),null;case 13:return ja(e,t,n);case 4:return Qs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Ci(_s,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Li.current){t=Wa(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Us(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Is(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Is(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}wa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ls(t,n),r=r(i=Ps(i)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),_a(e,t,r,i=na(r.type,i),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),$a(e,t),t.tag=1,Ai(r)?(e=!0,Ni(t)):e=!1,Ls(t,n),oa(t,r,i),la(t,r,i,n),Ia(null,t,r,!0,e,n);case 19:return Ba(e,t,n);case 22:return xa(e,t,n)}throw Error(s(156,t.tag))};var Ku="function"===typeof reportError?reportError:function(e){console.error(e)};function Gu(e){this._internalRoot=e}function Qu(e){this._internalRoot=e}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xu(){}function Zu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Wu(o);a.call(e)}}$u(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Wu(o);s.call(e)}}var o=Bu(t,r,e,0,null,!1,0,"",Xu);return e._reactRootContainer=o,e[fi]=o.current,Br(8===e.nodeType?e.parentNode:e),cu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Wu(l);a.call(e)}}var l=zu(e,0,!1,null,0,!1,0,"",Xu);return e._reactRootContainer=l,e[fi]=l.current,Br(8===e.nodeType?e.parentNode:e),cu((function(){$u(t,l,n,r)})),l}(n,t,e,i,r);return Wu(o)}Qu.prototype.render=Gu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));$u(e,t,null,null)},Qu.prototype.unmount=Gu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){$u(null,e,null,null)})),t[fi]=null}},Qu.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&jt(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,Je()),0===(6&Il)&&(Bl=Je()+500,Bi()))}break;case 13:cu((function(){var t=Rs(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),qu(e,1)}},_t=function(e){if(13===e.tag){var t=Rs(e,134217728);if(null!==t)nu(t,e,134217728,eu());qu(e,134217728)}},St=function(e){if(13===e.tag){var t=tu(e),n=Rs(e,t);if(null!==n)nu(n,e,t,eu());qu(e,t)}},xt=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ei(r);if(!i)throw Error(s(90));K(r),X(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=uu,Le=cu;var ec={usingClientEntryPoint:!1,Events:[bi,wi,Ei,Ce,Te,uu]},tc={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),st=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yu(e))throw Error(s(299));var n=!1,r="",i=Ku;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zu(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Gu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Ju(t))throw Error(s(200));return Zu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yu(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Ku;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Bu(t,null,e,1,null!=n?n:null,i,0,o,a),e[fi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qu(t)},t.render=function(e,t,n){if(!Ju(t))throw Error(s(200));return Zu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ju(e))throw Error(s(40));return!!e._reactRootContainer&&(cu((function(){Zu(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ju(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".224345c8.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="memories-website:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==s)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var h=u[c];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(p);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/memories-website/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],l=r[2],u=0;if(o.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);u<o.length;u++)s=o[u],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkmemories_website=self.webpackChunkmemories_website||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.nc=void 0,(()=>{"use strict";var e,t=n(43),r=n.t(t,2),i=n(391),s=n(950),o=n.t(s,2);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const l="popstate";function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,r){return void 0===n&&(n=null),a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(t,n,r,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:o=!1}=i,c=s.history,f=e.Pop,g=null,m=v();function v(){return(c.state||{idx:null}).idx}function y(){f=e.Pop;let t=v(),n=null==t?null:t-m;m=t,g&&g({action:f,location:w.location,delta:n})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),u(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,c.replaceState(a({},c.state,{idx:m}),""));let w={get action(){return f},get location(){return t(s,c)},listen(e){if(g)throw new Error("A history only accepts one active listener");return s.addEventListener(l,y),g=e,()=>{s.removeEventListener(l,y),g=null}},createHref:e=>n(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){f=e.Push;let i=d(w.location,t,n);r&&r(i,t),m=v()+1;let a=h(i,m),l=w.createHref(i);try{c.pushState(a,"",l)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;s.location.assign(l)}o&&g&&g({action:f,location:w.location,delta:1})},replace:function(t,n){f=e.Replace;let i=d(w.location,t,n);r&&r(i,t),m=v();let s=h(i,m),a=w.createHref(i);c.replaceState(s,"",a),o&&g&&g({action:f,location:w.location,delta:0})},go:e=>c.go(e)};return w}var m;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,r){let i=A(("string"===typeof t?f(t):t).pathname||"/",n);if(null==i)return null;let s=b(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=O(i);o=L(s[a],e,r)}return o}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(u(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=j([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),b(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:I(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of w(e.path))i(e,t,r);else i(e,t)})),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=w(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const E=/^:[\w-]+$/,_=3,S=2,x=1,k=10,C=-2,T=e=>"*"===e;function I(e,t){let n=e.split("/"),r=n.length;return n.some(T)&&(r+=C),t&&(r+=S),n.filter((e=>!T(e))).reduce(((e,t)=>e+(E.test(t)?_:""===t?x:k)),r)}function L(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,u="/"===s?t:t.slice(s.length)||"/",c=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),h=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(i,c.params),o.push({params:i,pathname:j([s,c.pathname]),pathnameBase:U(j([s,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(s=j([s,c.pathnameBase]))}return o}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function O(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function A(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function D(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function R(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function M(e,t){let n=R(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function N(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=f(e):(i=a({},e),u(!i.pathname||!i.pathname.includes("?"),D("?","pathname","search",i)),u(!i.pathname||!i.pathname.includes("#"),D("#","pathname","hash",i)),u(!i.search||!i.search.includes("#"),D("#","search","hash",i)));let s,o=""===e||""===i.pathname,l=o?"/":i.pathname;if(null==l)s=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?f(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:F(r),hash:z(i)}}(i,s),h=l&&"/"!==l&&l.endsWith("/"),d=(o||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!h&&!d||(c.pathname+="/"),c}const j=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],$=(new Set(B),["get",...B]);new Set($),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}const H=t.createContext(null);const q=t.createContext(null);const K=t.createContext(null);const G=t.createContext(null);const Q=t.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=t.createContext(null);function J(){return null!=t.useContext(G)}function X(){return J()||u(!1),t.useContext(G).location}function Z(e){t.useContext(K).static||t.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=t.useContext(Q);return e?function(){let{router:e}=ce(le.UseNavigateStable),n=de(ue.UseNavigateStable),r=t.useRef(!1);return Z((()=>{r.current=!0})),t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,W({fromRouteId:n},i)))}),[e,n])}():function(){J()||u(!1);let e=t.useContext(H),{basename:n,future:r,navigator:i}=t.useContext(K),{matches:s}=t.useContext(Q),{pathname:o}=X(),a=JSON.stringify(M(s,r.v7_relativeSplatPath)),l=t.useRef(!1);return Z((()=>{l.current=!0})),t.useCallback((function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void i.go(t);let s=N(t,JSON.parse(a),o,"path"===r.relative);null==e&&"/"!==n&&(s.pathname="/"===s.pathname?n:j([n,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)}),[n,i,a,o,e])}()}function te(e,n){let{relative:r}=void 0===n?{}:n,{future:i}=t.useContext(K),{matches:s}=t.useContext(Q),{pathname:o}=X(),a=JSON.stringify(M(s,i.v7_relativeSplatPath));return t.useMemo((()=>N(e,JSON.parse(a),o,"path"===r)),[e,a,o,r])}function ne(n,r,i,s){J()||u(!1);let{navigator:o,static:a}=t.useContext(K),{matches:l}=t.useContext(Q),c=l[l.length-1],h=c?c.params:{},d=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let p,g=X();if(r){var m;let e="string"===typeof r?f(r):r;"/"===d||(null==(m=e.pathname)?void 0:m.startsWith(d))||u(!1),p=e}else p=g;let y=p.pathname||"/",b=y;if("/"!==d){let e=d.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=!a&&i&&i.matches&&i.matches.length>0?i.matches:v(n,{pathname:b});let E=ae(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},h,e.params),pathname:j([d,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:j([d,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,i,s);return r&&E?t.createElement(G.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:e.Pop}},E):E}function re(){let e=function(){var e;let n=t.useContext(Y),r=he(ue.UseRouteError),i=de(ue.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=V(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,null)}const ie=t.createElement(re,null);class se extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(Q.Provider,{value:this.props.routeContext},t.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:n,match:r,children:i}=e,s=t.useContext(H);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(Q.Provider,{value:n},i)}function ae(e,n,r,i){var s;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var o;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(o=i)&&o.v7_partialHydration&&0===n.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let a=e,l=null==(s=r)?void 0:s.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||u(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,h=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){c=!0,a=h>=0?a.slice(0,h+1):[a[0]];break}}}return a.reduceRight(((e,i,s)=>{let o,u=!1,d=null,p=null;var f;r&&(o=l&&i.route.id?l[i.route.id]:void 0,d=i.route.errorElement||ie,c&&(h<0&&0===s?(f="route-fallback",!1||pe[f]||(pe[f]=!0),u=!0,p=null):h===s&&(u=!0,p=i.route.hydrateFallbackElement||null)));let g=n.concat(a.slice(0,s+1)),m=()=>{let n;return n=o?d:u?p:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(oe,{match:i,routeContext:{outlet:e,matches:g,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?t.createElement(se,{location:r.location,revalidation:r.revalidation,component:d,error:o,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function ce(e){let n=t.useContext(H);return n||u(!1),n}function he(e){let n=t.useContext(q);return n||u(!1),n}function de(e){let n=function(){let e=t.useContext(Q);return e||u(!1),e}(),r=n.matches[n.matches.length-1];return r.route.id||u(!1),r.route.id}const pe={};function fe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}r.startTransition;function ge(e){let{to:n,replace:r,state:i,relative:s}=e;J()||u(!1);let{future:o,static:a}=t.useContext(K),{matches:l}=t.useContext(Q),{pathname:c}=X(),h=ee(),d=N(n,M(l,o.v7_relativeSplatPath),c,"path"===s),p=JSON.stringify(d);return t.useEffect((()=>h(JSON.parse(p),{replace:r,state:i,relative:s})),[h,p,s,r,i]),null}function me(e){u(!1)}function ve(n){let{basename:r="/",children:i=null,location:s,navigationType:o=e.Pop,navigator:a,static:l=!1,future:c}=n;J()&&u(!1);let h=r.replace(/^\/*/,"/"),d=t.useMemo((()=>({basename:h,navigator:a,static:l,future:W({v7_relativeSplatPath:!1},c)})),[h,c,a,l]);"string"===typeof s&&(s=f(s));let{pathname:p="/",search:g="",hash:m="",state:v=null,key:y="default"}=s,b=t.useMemo((()=>{let e=A(p,h);return null==e?null:{location:{pathname:e,search:g,hash:m,state:v,key:y},navigationType:o}}),[h,p,g,m,v,y,o]);return null==b?null:t.createElement(K.Provider,{value:d},t.createElement(G.Provider,{children:i,value:b}))}function ye(e){let{children:t,location:n}=e;return ne(be(t),n)}new Promise((()=>{}));t.Component;function be(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let s=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,be(e.props.children,s));e.type!==me&&u(!1),e.props.index&&e.props.children&&u(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=be(e.props.children,s)),r.push(o)})),r}function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we.apply(this,arguments)}function Ee(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const _e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(KC){}new Map;const Se=r.startTransition;o.flushSync,r.useId;function xe(e){let{basename:n,children:r,future:i,window:s}=e,o=t.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),g((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=f(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),d("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:p(t))}),(function(e,t){c("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),a)));let l=o.current,[u,h]=t.useState({action:l.action,location:l.location}),{v7_startTransition:m}=i||{},v=t.useCallback((e=>{m&&Se?Se((()=>h(e))):h(e)}),[h,m]);return t.useLayoutEffect((()=>l.listen(v)),[l,v]),t.useEffect((()=>fe(i)),[i]),t.createElement(ve,{basename:n,children:r,location:u.location,navigationType:u.action,navigator:l,future:i})}const ke="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=t.forwardRef((function(e,n){let r,{onClick:i,relative:s,reloadDocument:o,replace:a,state:l,target:c,to:h,preventScrollReset:d,viewTransition:f}=e,g=Ee(e,_e),{basename:m}=t.useContext(K),v=!1;if("string"===typeof h&&Ce.test(h)&&(r=h,ke))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=A(t.pathname,m);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:v=!0}catch(KC){}let y=function(e,n){let{relative:r}=void 0===n?{}:n;J()||u(!1);let{basename:i,navigator:s}=t.useContext(K),{hash:o,pathname:a,search:l}=te(e,{relative:r}),c=a;return"/"!==i&&(c="/"===a?i:j([i,a])),s.createHref({pathname:c,search:l,hash:o})}(h,{relative:s}),b=function(e,n){let{target:r,replace:i,state:s,preventScrollReset:o,relative:a,viewTransition:l}=void 0===n?{}:n,u=ee(),c=X(),h=te(e,{relative:a});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:p(c)===p(h);u(e,{replace:n,state:s,preventScrollReset:o,relative:a,viewTransition:l})}}),[c,u,h,i,s,r,e,o,a,l])}(h,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});return t.createElement("a",we({},g,{href:r||y,onClick:v||o?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:n,target:c}))}));var Ie,Le;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ie||(Ie={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Le||(Le={}));var Pe=function(){return Pe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Pe.apply(this,arguments)};Object.create;function Oe(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var Ae=n(324),De=n.n(Ae),Re="-ms-",Me="-moz-",Ne="-webkit-",je="comm",Ue="rule",Fe="decl",ze="@keyframes",Ve=Math.abs,Be=String.fromCharCode,$e=Object.assign;function We(e){return e.trim()}function He(e,t){return(e=t.exec(e))?e[0]:e}function qe(e,t,n){return e.replace(t,n)}function Ke(e,t,n){return e.indexOf(t,n)}function Ge(e,t){return 0|e.charCodeAt(t)}function Qe(e,t,n){return e.slice(t,n)}function Ye(e){return e.length}function Je(e){return e.length}function Xe(e,t){return t.push(e),e}function Ze(e,t){return e.filter((function(e){return!He(e,t)}))}var et=1,tt=1,nt=0,rt=0,it=0,st="";function ot(e,t,n,r,i,s,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:et,column:tt,length:o,return:"",siblings:a}}function at(e,t){return $e(ot("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function lt(e){for(;e.root;)e=at(e.root,{children:[e]});Xe(e,e.siblings)}function ut(){return it=rt>0?Ge(st,--rt):0,tt--,10===it&&(tt=1,et--),it}function ct(){return it=rt<nt?Ge(st,rt++):0,tt++,10===it&&(tt=1,et++),it}function ht(){return Ge(st,rt)}function dt(){return rt}function pt(e,t){return Qe(st,e,t)}function ft(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function gt(e){return et=tt=1,nt=Ye(st=e),rt=0,[]}function mt(e){return st="",e}function vt(e){return We(pt(rt-1,wt(91===e?e+2:40===e?e+1:e)))}function yt(e){for(;(it=ht())&&it<33;)ct();return ft(e)>2||ft(it)>3?"":" "}function bt(e,t){for(;--t&&ct()&&!(it<48||it>102||it>57&&it<65||it>70&&it<97););return pt(e,dt()+(t<6&&32==ht()&&32==ct()))}function wt(e){for(;ct();)switch(it){case e:return rt;case 34:case 39:34!==e&&39!==e&&wt(it);break;case 40:41===e&&wt(e);break;case 92:ct()}return rt}function Et(e,t){for(;ct()&&e+it!==57&&(e+it!==84||47!==ht()););return"/*"+pt(t,rt-1)+"*"+Be(47===e?e:ct())}function _t(e){for(;!ft(ht());)ct();return pt(e,rt)}function St(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function xt(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Fe:return e.return=e.return||e.value;case je:return"";case ze:return e.return=e.value+"{"+St(e.children,r)+"}";case Ue:if(!Ye(e.value=e.props.join(",")))return""}return Ye(n=St(e.children,r))?e.return=e.value+"{"+n+"}":""}function kt(e,t,n){switch(function(e,t){return 45^Ge(e,0)?(((t<<2^Ge(e,0))<<2^Ge(e,1))<<2^Ge(e,2))<<2^Ge(e,3):0}(e,t)){case 5103:return Ne+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ne+e+e;case 4789:return Me+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Ne+e+Me+e+Re+e+e;case 5936:switch(Ge(e,t+11)){case 114:return Ne+e+Re+qe(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Ne+e+Re+qe(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Ne+e+Re+qe(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return Ne+e+Re+e+e;case 6165:return Ne+e+Re+"flex-"+e+e;case 5187:return Ne+e+qe(e,/(\w+).+(:[^]+)/,Ne+"box-$1$2"+Re+"flex-$1$2")+e;case 5443:return Ne+e+Re+"flex-item-"+qe(e,/flex-|-self/g,"")+(He(e,/flex-|baseline/)?"":Re+"grid-row-"+qe(e,/flex-|-self/g,""))+e;case 4675:return Ne+e+Re+"flex-line-pack"+qe(e,/align-content|flex-|-self/g,"")+e;case 5548:return Ne+e+Re+qe(e,"shrink","negative")+e;case 5292:return Ne+e+Re+qe(e,"basis","preferred-size")+e;case 6060:return Ne+"box-"+qe(e,"-grow","")+Ne+e+Re+qe(e,"grow","positive")+e;case 4554:return Ne+qe(e,/([^-])(transform)/g,"$1"+Ne+"$2")+e;case 6187:return qe(qe(qe(e,/(zoom-|grab)/,Ne+"$1"),/(image-set)/,Ne+"$1"),e,"")+e;case 5495:case 3959:return qe(e,/(image-set\([^]*)/,Ne+"$1$`$1");case 4968:return qe(qe(e,/(.+:)(flex-)?(.*)/,Ne+"box-pack:$3"+Re+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ne+e+e;case 4200:if(!He(e,/flex-|baseline/))return Re+"grid-column-align"+Qe(e,t)+e;break;case 2592:case 3360:return Re+qe(e,"template-","")+e;case 4384:case 3616:return n&&n.some((function(e,n){return t=n,He(e.props,/grid-\w+-end/)}))?~Ke(e+(n=n[t].value),"span",0)?e:Re+qe(e,"-start","")+e+Re+"grid-row-span:"+(~Ke(n,"span",0)?He(n,/\d+/):+He(n,/\d+/)-+He(e,/\d+/))+";":Re+qe(e,"-start","")+e;case 4896:case 4128:return n&&n.some((function(e){return He(e.props,/grid-\w+-start/)}))?e:Re+qe(qe(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return qe(e,/(.+)-inline(.+)/,Ne+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ye(e)-1-t>6)switch(Ge(e,t+1)){case 109:if(45!==Ge(e,t+4))break;case 102:return qe(e,/(.+:)(.+)-([^]+)/,"$1"+Ne+"$2-$3$1"+Me+(108==Ge(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Ke(e,"stretch",0)?kt(qe(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return qe(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,n,r,i,s,o,a){return Re+n+":"+r+a+(i?Re+n+"-span:"+(s?o:+o-+r)+a:"")+e}));case 4949:if(121===Ge(e,t+6))return qe(e,":",":"+Ne)+e;break;case 6444:switch(Ge(e,45===Ge(e,14)?18:11)){case 120:return qe(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Ne+(45===Ge(e,14)?"inline-":"")+"box$3$1"+Ne+"$2$3$1"+Re+"$2box$3")+e;case 100:return qe(e,":",":"+Re)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return qe(e,"scroll-","scroll-snap-")+e}return e}function Ct(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Fe:return void(e.return=kt(e.value,e.length,n));case ze:return St([at(e,{value:qe(e.value,"@","@"+Ne)})],r);case Ue:if(e.length)return function(e,t){return e.map(t).join("")}(n=e.props,(function(t){switch(He(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":lt(at(e,{props:[qe(t,/:(read-\w+)/,":-moz-$1")]})),lt(at(e,{props:[t]})),$e(e,{props:Ze(n,r)});break;case"::placeholder":lt(at(e,{props:[qe(t,/:(plac\w+)/,":"+Ne+"input-$1")]})),lt(at(e,{props:[qe(t,/:(plac\w+)/,":-moz-$1")]})),lt(at(e,{props:[qe(t,/:(plac\w+)/,Re+"input-$1")]})),lt(at(e,{props:[t]})),$e(e,{props:Ze(n,r)})}return""}))}}function Tt(e){return mt(It("",null,null,null,[""],e=gt(e),0,[0],e))}function It(e,t,n,r,i,s,o,a,l){for(var u=0,c=0,h=o,d=0,p=0,f=0,g=1,m=1,v=1,y=0,b="",w=i,E=s,_=r,S=b;m;)switch(f=y,y=ct()){case 40:if(108!=f&&58==Ge(S,h-1)){-1!=Ke(S+=qe(vt(y),"&","&\f"),"&\f",Ve(u?a[u-1]:0))&&(v=-1);break}case 34:case 39:case 91:S+=vt(y);break;case 9:case 10:case 13:case 32:S+=yt(f);break;case 92:S+=bt(dt()-1,7);continue;case 47:switch(ht()){case 42:case 47:Xe(Pt(Et(ct(),dt()),t,n,l),l);break;default:S+="/"}break;case 123*g:a[u++]=Ye(S)*v;case 125*g:case 59:case 0:switch(y){case 0:case 125:m=0;case 59+c:-1==v&&(S=qe(S,/\f/g,"")),p>0&&Ye(S)-h&&Xe(p>32?Ot(S+";",r,n,h-1,l):Ot(qe(S," ","")+";",r,n,h-2,l),l);break;case 59:S+=";";default:if(Xe(_=Lt(S,t,n,u,c,i,a,b,w=[],E=[],h,s),s),123===y)if(0===c)It(S,t,_,_,w,s,h,a,E);else switch(99===d&&110===Ge(S,3)?100:d){case 100:case 108:case 109:case 115:It(e,_,_,r&&Xe(Lt(e,_,_,0,0,i,a,b,i,w=[],h,E),E),i,E,h,a,r?w:E);break;default:It(S,_,_,_,[""],E,0,a,E)}}u=c=p=0,g=v=1,b=S="",h=o;break;case 58:h=1+Ye(S),p=f;default:if(g<1)if(123==y)--g;else if(125==y&&0==g++&&125==ut())continue;switch(S+=Be(y),y*g){case 38:v=c>0?1:(S+="\f",-1);break;case 44:a[u++]=(Ye(S)-1)*v,v=1;break;case 64:45===ht()&&(S+=vt(ct())),d=ht(),c=h=Ye(b=S+=_t(dt())),y++;break;case 45:45===f&&2==Ye(S)&&(g=0)}}return s}function Lt(e,t,n,r,i,s,o,a,l,u,c,h){for(var d=i-1,p=0===i?s:[""],f=Je(p),g=0,m=0,v=0;g<r;++g)for(var y=0,b=Qe(e,d+1,d=Ve(m=o[g])),w=e;y<f;++y)(w=We(m>0?p[y]+" "+b:qe(b,/&\f/g,p[y])))&&(l[v++]=w);return ot(e,t,n,0===i?Ue:a,l,u,c,h)}function Pt(e,t,n,r){return ot(e,t,n,je,Be(it),Qe(e,2,-2),0,r)}function Ot(e,t,n,r,i){return ot(e,t,n,Fe,Qe(e,0,r),Qe(e,r+1,-1),r,i)}var At={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Dt="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/memories-website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyDiV0sSiuFWEfwe8K6K5Ud-yglJEOODSqo"}&&({NODE_ENV:"production",PUBLIC_URL:"/memories-website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyDiV0sSiuFWEfwe8K6K5Ud-yglJEOODSqo"}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/memories-website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyDiV0sSiuFWEfwe8K6K5Ud-yglJEOODSqo"}.SC_ATTR)||"data-styled",Rt="active",Mt="data-styled-version",Nt="6.1.15",jt="/*!sc*/\n",Ut="undefined"!=typeof window&&"HTMLElement"in window,Ft=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/memories-website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyDiV0sSiuFWEfwe8K6K5Ud-yglJEOODSqo"}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/memories-website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyDiV0sSiuFWEfwe8K6K5Ud-yglJEOODSqo"}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/memories-website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyDiV0sSiuFWEfwe8K6K5Ud-yglJEOODSqo"}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/memories-website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyDiV0sSiuFWEfwe8K6K5Ud-yglJEOODSqo"}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/memories-website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyDiV0sSiuFWEfwe8K6K5Ud-yglJEOODSqo"}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/memories-website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyDiV0sSiuFWEfwe8K6K5Ud-yglJEOODSqo"}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/memories-website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyDiV0sSiuFWEfwe8K6K5Ud-yglJEOODSqo"}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/memories-website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyDiV0sSiuFWEfwe8K6K5Ud-yglJEOODSqo"}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/memories-website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyDiV0sSiuFWEfwe8K6K5Ud-yglJEOODSqo"}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/memories-website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyDiV0sSiuFWEfwe8K6K5Ud-yglJEOODSqo"}.SC_DISABLE_SPEEDY)),zt=(new Set,Object.freeze([])),Vt=Object.freeze({});function Bt(e,t,n){return void 0===n&&(n=Vt),e.theme!==n.theme&&e.theme||t||n.theme}var $t=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Wt=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Ht=/(^-|-$)/g;function qt(e){return e.replace(Wt,"-").replace(Ht,"")}var Kt=/(a)(d)/gi,Gt=function(e){return String.fromCharCode(e+(e>25?39:97))};function Qt(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Gt(t%52)+n;return(Gt(t%52)+n).replace(Kt,"$1-$2")}var Yt,Jt=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Xt=function(e){return Jt(5381,e)};function Zt(e){return Qt(Xt(e)>>>0)}function en(e){return e.displayName||e.name||"Component"}function tn(e){return"string"==typeof e&&!0}var nn="function"==typeof Symbol&&Symbol.for,rn=nn?Symbol.for("react.memo"):60115,sn=nn?Symbol.for("react.forward_ref"):60112,on={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},an={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ln={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},un=((Yt={})[sn]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Yt[rn]=ln,Yt);function cn(e){return("type"in(t=e)&&t.type.$$typeof)===rn?ln:"$$typeof"in e?un[e.$$typeof]:on;var t}var hn=Object.defineProperty,dn=Object.getOwnPropertyNames,pn=Object.getOwnPropertySymbols,fn=Object.getOwnPropertyDescriptor,gn=Object.getPrototypeOf,mn=Object.prototype;function vn(e,t,n){if("string"!=typeof t){if(mn){var r=gn(t);r&&r!==mn&&vn(e,r,n)}var i=dn(t);pn&&(i=i.concat(pn(t)));for(var s=cn(e),o=cn(t),a=0;a<i.length;++a){var l=i[a];if(!(l in an||n&&n[l]||o&&l in o||s&&l in s)){var u=fn(t,l);try{hn(e,l,u)}catch(e){}}}}return e}function yn(e){return"function"==typeof e}function bn(e){return"object"==typeof e&&"styledComponentId"in e}function wn(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function En(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function _n(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Sn(e,t,n){if(void 0===n&&(n=!1),!n&&!_n(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=Sn(e[r],t[r]);else if(_n(t))for(var r in t)e[r]=Sn(e[r],t[r]);return e}function xn(e,t){Object.defineProperty(e,"toString",{value:t})}function kn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var Cn=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)if((i<<=1)<0)throw kn(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var s=r;s<i;s++)this.groupSizes[s]=0}for(var o=this.indexOfGroup(e+1),a=(s=0,t.length);s<a;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,s=r;s<i;s++)t+="".concat(this.tag.getRule(s)).concat(jt);return t},e}(),Tn=new Map,In=new Map,Ln=1,Pn=function(e){if(Tn.has(e))return Tn.get(e);for(;In.has(Ln);)Ln++;var t=Ln++;return Tn.set(e,t),In.set(t,e),t},On=function(e,t){Ln=t+1,Tn.set(e,t),In.set(t,e)},An="style[".concat(Dt,"][").concat(Mt,'="').concat(Nt,'"]'),Dn=new RegExp("^".concat(Dt,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Rn=function(e,t,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&e.registerName(t,r)},Mn=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split(jt),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(Dn);if(l){var u=0|parseInt(l[1],10),c=l[2];0!==u&&(On(c,u),Rn(e,c,l[3]),e.getTag().insertRules(u,i)),i.length=0}else i.push(a)}}},Nn=function(e){for(var t=document.querySelectorAll(An),n=0,r=t.length;n<r;n++){var i=t[n];i&&i.getAttribute(Dt)!==Rt&&(Mn(e,i),i.parentNode&&i.parentNode.removeChild(i))}};function jn(){return n.nc}var Un=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){var t=Array.from(e.querySelectorAll("style[".concat(Dt,"]")));return t[t.length-1]}(n),s=void 0!==i?i.nextSibling:null;r.setAttribute(Dt,Rt),r.setAttribute(Mt,Nt);var o=jn();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},Fn=function(){function e(e){this.element=Un(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}throw kn(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),zn=function(){function e(e){this.element=Un(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Vn=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Bn=Ut,$n={isServer:!Ut,useCSSOMInjection:!Ft},Wn=function(){function e(e,t,n){void 0===e&&(e=Vt),void 0===t&&(t={});var r=this;this.options=Pe(Pe({},$n),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&Ut&&Bn&&(Bn=!1,Nn(this)),xn(this,(function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=function(n){var i=function(e){return In.get(e)}(n);if(void 0===i)return"continue";var s=e.names.get(i),o=t.getGroup(n);if(void 0===s||!s.size||0===o.length)return"continue";var a="".concat(Dt,".g").concat(n,'[id="').concat(i,'"]'),l="";void 0!==s&&s.forEach((function(e){e.length>0&&(l+="".concat(e,","))})),r+="".concat(o).concat(a,'{content:"').concat(l,'"}').concat(jt)},s=0;s<n;s++)i(s);return r}(r)}))}return e.registerId=function(e){return Pn(e)},e.prototype.rehydrate=function(){!this.server&&Ut&&Nn(this)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(Pe(Pe({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new Vn(n):t?new Fn(n):new zn(n)}(this.options),new Cn(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(Pn(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(Pn(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(Pn(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),Hn=/&/g,qn=/^\s*\/\/.*$/gm;function Kn(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=Kn(e.children,t)),e}))}function Gn(e){var t,n,r,i=void 0===e?Vt:e,s=i.options,o=void 0===s?Vt:s,a=i.plugins,l=void 0===a?zt:a,u=function(e,r,i){return i.startsWith(n)&&i.endsWith(n)&&i.replaceAll(n,"").length>0?".".concat(t):e},c=l.slice();c.push((function(e){e.type===Ue&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(Hn,n).replace(r,u))})),o.prefix&&c.push(Ct),c.push(xt);var h=function(e,i,s,a){void 0===i&&(i=""),void 0===s&&(s=""),void 0===a&&(a="&"),t=a,n=i,r=new RegExp("\\".concat(n,"\\b"),"g");var l=e.replace(qn,""),u=Tt(s||i?"".concat(s," ").concat(i," { ").concat(l," }"):l);o.namespace&&(u=Kn(u,o.namespace));var h,d=[];return St(u,function(e){var t=Je(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}(c.concat((h=function(e){return d.push(e)},function(e){e.root||(e=e.return)&&h(e)})))),d};return h.hash=l.length?l.reduce((function(e,t){return t.name||kn(15),Jt(e,t.name)}),5381).toString():"",h}var Qn=new Wn,Yn=Gn(),Jn=t.createContext({shouldForwardProp:void 0,styleSheet:Qn,stylis:Yn}),Xn=(Jn.Consumer,t.createContext(void 0));function Zn(){return(0,t.useContext)(Jn)}function er(e){var n=(0,t.useState)(e.stylisPlugins),r=n[0],i=n[1],s=Zn().styleSheet,o=(0,t.useMemo)((function(){var t=s;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target,s]),a=(0,t.useMemo)((function(){return Gn({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:r})}),[e.enableVendorPrefixes,e.namespace,r]);(0,t.useEffect)((function(){De()(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]);var l=(0,t.useMemo)((function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:o,stylis:a}}),[e.shouldForwardProp,o,a]);return t.createElement(Jn.Provider,{value:l},t.createElement(Xn.Provider,{value:a},e.children))}var tr=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Yn);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,xn(this,(function(){throw kn(12,String(n.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=Yn),this.name+e.hash},e}(),nr=function(e){return e>="A"&&e<="Z"};function rr(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;nr(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var ir=function(e){return null==e||!1===e||""===e},sr=function(e){var t,n,r=[];for(var i in e){var s=e[i];e.hasOwnProperty(i)&&!ir(s)&&(Array.isArray(s)&&s.isCss||yn(s)?r.push("".concat(rr(i),":"),s,";"):_n(s)?r.push.apply(r,Oe(Oe(["".concat(i," {")],sr(s),!1),["}"],!1)):r.push("".concat(rr(i),": ").concat((t=i,null==(n=s)||"boolean"==typeof n||""===n?"":"number"!=typeof n||0===n||t in At||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function or(e,t,n,r){return ir(e)?[]:bn(e)?[".".concat(e.styledComponentId)]:yn(e)?!yn(i=e)||i.prototype&&i.prototype.isReactComponent||!t?[e]:or(e(t),t,n,r):e instanceof tr?n?(e.inject(n,r),[e.getName(r)]):[e]:_n(e)?sr(e):Array.isArray(e)?Array.prototype.concat.apply(zt,e.map((function(e){return or(e,t,n,r)}))):[e.toString()];var i}function ar(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(yn(n)&&!bn(n))return!1}return!0}var lr=Xt(Nt),ur=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&ar(e),this.componentId=t,this.baseHash=Jt(lr,t),this.baseStyle=n,Wn.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=wn(r,this.staticRulesId);else{var i=En(or(this.rules,e,t,n)),s=Qt(Jt(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,s)){var o=n(i,".".concat(s),void 0,this.componentId);t.insertRules(this.componentId,s,o)}r=wn(r,s),this.staticRulesId=s}else{for(var a=Jt(this.baseHash,n.hash),l="",u=0;u<this.rules.length;u++){var c=this.rules[u];if("string"==typeof c)l+=c;else if(c){var h=En(or(c,e,t,n));a=Jt(a,h+u),l+=h}}if(l){var d=Qt(a>>>0);t.hasNameForId(this.componentId,d)||t.insertRules(this.componentId,d,n(l,".".concat(d),void 0,this.componentId)),r=wn(r,d)}}return r},e}(),cr=t.createContext(void 0);cr.Consumer;var hr={};new Set;function dr(e,n,r){var i=bn(e),s=e,o=!tn(e),a=n.attrs,l=void 0===a?zt:a,u=n.componentId,c=void 0===u?function(e,t){var n="string"!=typeof e?"sc":qt(e);hr[n]=(hr[n]||0)+1;var r="".concat(n,"-").concat(Zt(Nt+n+hr[n]));return t?"".concat(t,"-").concat(r):r}(n.displayName,n.parentComponentId):u,h=n.displayName,d=void 0===h?function(e){return tn(e)?"styled.".concat(e):"Styled(".concat(en(e),")")}(e):h,p=n.displayName&&n.componentId?"".concat(qt(n.displayName),"-").concat(n.componentId):n.componentId||c,f=i&&s.attrs?s.attrs.concat(l).filter(Boolean):l,g=n.shouldForwardProp;if(i&&s.shouldForwardProp){var m=s.shouldForwardProp;if(n.shouldForwardProp){var v=n.shouldForwardProp;g=function(e,t){return m(e,t)&&v(e,t)}}else g=m}var y=new ur(r,p,i?s.componentStyle:void 0);function b(e,n){return function(e,n,r){var i=e.attrs,s=e.componentStyle,o=e.defaultProps,a=e.foldedComponentIds,l=e.styledComponentId,u=e.target,c=t.useContext(cr),h=Zn(),d=e.shouldForwardProp||h.shouldForwardProp,p=Bt(n,c,o)||Vt,f=function(e,t,n){for(var r,i=Pe(Pe({},t),{className:void 0,theme:n}),s=0;s<e.length;s+=1){var o=yn(r=e[s])?r(i):r;for(var a in o)i[a]="className"===a?wn(i[a],o[a]):"style"===a?Pe(Pe({},i[a]),o[a]):o[a]}return t.className&&(i.className=wn(i.className,t.className)),i}(i,n,p),g=f.as||u,m={};for(var v in f)void 0===f[v]||"$"===v[0]||"as"===v||"theme"===v&&f.theme===p||("forwardedAs"===v?m.as=f.forwardedAs:d&&!d(v,g)||(m[v]=f[v]));var y=function(e,t){var n=Zn();return e.generateAndInjectStyles(t,n.styleSheet,n.stylis)}(s,f),b=wn(a,l);return y&&(b+=" "+y),f.className&&(b+=" "+f.className),m[tn(g)&&!$t.has(g)?"class":"className"]=b,r&&(m.ref=r),(0,t.createElement)(g,m)}(w,e,n)}b.displayName=d;var w=t.forwardRef(b);return w.attrs=f,w.componentStyle=y,w.displayName=d,w.shouldForwardProp=g,w.foldedComponentIds=i?wn(s.foldedComponentIds,s.styledComponentId):"",w.styledComponentId=p,w.target=i?s.target:e,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)Sn(e,i[r],!0);return e}({},s.defaultProps,e):e}}),xn(w,(function(){return".".concat(w.styledComponentId)})),o&&vn(w,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function pr(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var fr=function(e){return Object.assign(e,{isCss:!0})};function gr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(yn(e)||_n(e))return fr(or(pr(zt,Oe([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?or(r):fr(or(pr(r,t)))}function mr(e,t,n){if(void 0===n&&(n=Vt),!t)throw kn(1,t);var r=function(r){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return e(t,n,gr.apply(void 0,Oe([r],i,!1)))};return r.attrs=function(r){return mr(e,t,Pe(Pe({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return mr(e,t,Pe(Pe({},n),r))},r}var vr=function(e){return mr(dr,e)},yr=vr;$t.forEach((function(e){yr[e]=vr(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=ar(e),Wn.registerId(this.componentId+1)}e.prototype.createStyles=function(e,t,n,r){var i=r(En(or(this.rules,t,n,r)),""),s=this.componentId+e;n.insertRules(s,s,i)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,r){e>2&&Wn.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();(function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=jn(),r=En([n&&'nonce="'.concat(n,'"'),"".concat(Dt,'="true"'),"".concat(Mt,'="').concat(Nt,'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw kn(2);return e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)throw kn(2);var r=e.instance.toString();if(!r)return[];var i=((n={})[Dt]="",n[Mt]=Nt,n.dangerouslySetInnerHTML={__html:r},n),s=jn();return s&&(i.nonce=s),[t.createElement("style",Pe({},i,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new Wn({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw kn(2);return t.createElement(er,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw kn(3)}})(),"__sc-".concat(Dt,"__");const br=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},wr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(br(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new Er;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Er extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _r=function(e){return function(e){const t=br(e);return wr.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Sr=function(e){try{return wr.decodeString(e,!0)}catch(KC){console.error("base64Decode failed: ",KC)}return null};const xr=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,kr=()=>{try{return xr()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/memories-website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyDiV0sSiuFWEfwe8K6K5Ud-yglJEOODSqo"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(KC){return}const t=e&&Sr(e[1]);return t&&JSON.parse(t)})()}catch(KC){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${KC}`)}},Cr=e=>{var t,n;return null===(n=null===(t=kr())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Tr=e=>{const t=Cr(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ir=()=>{var e;return null===(e=kr())||void 0===e?void 0:e.config},Lr=e=>{var t;return null===(t=kr())||void 0===t?void 0:t[`_${e}`]};class Pr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Or(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[_r(JSON.stringify({alg:"none",type:"JWT"})),_r(JSON.stringify(s)),""].join(".")}function Ar(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Dr(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Rr(){return!function(){var e;const t=null===(e=kr())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(KC){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Mr(){try{return"object"===typeof indexedDB}catch(KC){return!1}}function Nr(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class jr extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ur.prototype.create)}}class Ur{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(Fr,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new jr(n,s,t)}}const Fr=/\{\$([^}]+)}/g;function zr(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Vr(n)&&Vr(s)){if(!zr(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Vr(e){return null!==e&&"object"===typeof e}function Br(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function $r(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Wr(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Hr{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=qr),void 0===r.error&&(r.error=qr),void 0===r.complete&&(r.complete=qr);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(KC){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(KC){"undefined"!==typeof console&&console.error&&console.error(KC)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function qr(){}function Kr(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function Gr(e){return e&&e._delegate?e._delegate:e}class Qr{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Yr="[DEFAULT]";class Jr{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Pr;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(KC){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(KC){if(r)return null;throw KC}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Yr})}catch(KC){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(KC){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yr;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yr;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Xr(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yr;return this.component?this.component.multipleInstances?e:Yr:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function Xr(e){return e===Yr?void 0:e}class Zr{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Jr(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ei=[];var ti;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ti||(ti={}));const ni={debug:ti.DEBUG,verbose:ti.VERBOSE,info:ti.INFO,warn:ti.WARN,error:ti.ERROR,silent:ti.SILENT},ri=ti.INFO,ii={[ti.DEBUG]:"log",[ti.VERBOSE]:"log",[ti.INFO]:"info",[ti.WARN]:"warn",[ti.ERROR]:"error"},si=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=ii[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r](`[${n}]  ${e.name}:`,...s)};class oi{constructor(e){this.name=e,this._logLevel=ri,this._logHandler=si,this._userLogHandler=null,ei.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ti))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?ni[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ti.DEBUG,...t),this._logHandler(this,ti.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ti.VERBOSE,...t),this._logHandler(this,ti.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ti.INFO,...t),this._logHandler(this,ti.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ti.WARN,...t),this._logHandler(this,ti.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ti.ERROR,...t),this._logHandler(this,ti.ERROR,...t)}}let ai,li;const ui=new WeakMap,ci=new WeakMap,hi=new WeakMap,di=new WeakMap,pi=new WeakMap;let fi={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ci.get(e);if("objectStoreNames"===t)return e.objectStoreNames||hi.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vi(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function gi(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(li||(li=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(yi(this),n),vi(ui.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return vi(e.apply(yi(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(yi(this),t,...r);return hi.set(s,t.sort?t.sort():[t]),vi(s)}}function mi(e){return"function"===typeof e?gi(e):(e instanceof IDBTransaction&&function(e){if(ci.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));ci.set(e,t)}(e),t=e,(ai||(ai=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,fi):e);var t}function vi(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(vi(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&ui.set(t,e)})).catch((()=>{})),pi.set(t,e),t}(e);if(di.has(e))return di.get(e);const t=mi(e);return t!==e&&(di.set(e,t),pi.set(t,e)),t}const yi=e=>pi.get(e);function bi(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=vi(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(vi(o.result),e.oldVersion,e.newVersion,vi(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}const wi=["get","getKey","getAll","getAllKeys","count"],Ei=["put","add","delete","clear"],_i=new Map;function Si(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(_i.get(t))return _i.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Ei.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!wi.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return _i.set(t,s),s}fi=(e=>({...e,get:(t,n,r)=>Si(t,n)||e.get(t,n,r),has:(t,n)=>!!Si(t,n)||e.has(t,n)}))(fi);class xi{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const ki="@firebase/app",Ci="0.10.13",Ti=new oi("@firebase/app"),Ii="@firebase/app-compat",Li="@firebase/analytics-compat",Pi="@firebase/analytics",Oi="@firebase/app-check-compat",Ai="@firebase/app-check",Di="@firebase/auth",Ri="@firebase/auth-compat",Mi="@firebase/database",Ni="@firebase/data-connect",ji="@firebase/database-compat",Ui="@firebase/functions",Fi="@firebase/functions-compat",zi="@firebase/installations",Vi="@firebase/installations-compat",Bi="@firebase/messaging",$i="@firebase/messaging-compat",Wi="@firebase/performance",Hi="@firebase/performance-compat",qi="@firebase/remote-config",Ki="@firebase/remote-config-compat",Gi="@firebase/storage",Qi="@firebase/storage-compat",Yi="@firebase/firestore",Ji="@firebase/vertexai-preview",Xi="@firebase/firestore-compat",Zi="firebase",es="[DEFAULT]",ts={[ki]:"fire-core",[Ii]:"fire-core-compat",[Pi]:"fire-analytics",[Li]:"fire-analytics-compat",[Ai]:"fire-app-check",[Oi]:"fire-app-check-compat",[Di]:"fire-auth",[Ri]:"fire-auth-compat",[Mi]:"fire-rtdb",[Ni]:"fire-data-connect",[ji]:"fire-rtdb-compat",[Ui]:"fire-fn",[Fi]:"fire-fn-compat",[zi]:"fire-iid",[Vi]:"fire-iid-compat",[Bi]:"fire-fcm",[$i]:"fire-fcm-compat",[Wi]:"fire-perf",[Hi]:"fire-perf-compat",[qi]:"fire-rc",[Ki]:"fire-rc-compat",[Gi]:"fire-gcs",[Qi]:"fire-gcs-compat",[Yi]:"fire-fst",[Xi]:"fire-fst-compat",[Ji]:"fire-vertex","fire-js":"fire-js",[Zi]:"fire-js-all"},ns=new Map,rs=new Map,is=new Map;function ss(e,t){try{e.container.addComponent(t)}catch(KC){Ti.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,KC)}}function os(e){const t=e.name;if(is.has(t))return Ti.debug(`There were multiple attempts to register component ${t}.`),!1;is.set(t,e);for(const n of ns.values())ss(n,e);for(const n of rs.values())ss(n,e);return!0}function as(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ls(e){return void 0!==e.settings}const us=new Ur("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class cs{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Qr("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw us.create("app-deleted",{appName:this._name})}}const hs="10.14.1";function ds(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:es,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw us.create("bad-app-name",{appName:String(i)});if(n||(n=Ir()),!n)throw us.create("no-options");const s=ns.get(i);if(s){if(zr(n,s.options)&&zr(r,s.config))return s;throw us.create("duplicate-app",{appName:i})}const o=new Zr(i);for(const l of is.values())o.addComponent(l);const a=new cs(n,r,o);return ns.set(i,a),a}function ps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es;const t=ns.get(e);if(!t&&e===es&&Ir())return ds();if(!t)throw us.create("no-app",{appName:e});return t}function fs(e,t,n){var r;let i=null!==(r=ts[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Ti.warn(e.join(" "))}os(new Qr(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const gs="firebase-heartbeat-store";let ms=null;function vs(){return ms||(ms=bi("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(gs)}catch(KC){console.warn(KC)}}}).catch((e=>{throw us.create("idb-open",{originalErrorMessage:e.message})}))),ms}async function ys(e,t){try{const n=(await vs()).transaction(gs,"readwrite"),r=n.objectStore(gs);await r.put(t,bs(e)),await n.done}catch(KC){if(KC instanceof jr)Ti.warn(KC.message);else{const t=us.create("idb-set",{originalErrorMessage:null===KC||void 0===KC?void 0:KC.message});Ti.warn(t.message)}}}function bs(e){return`${e.name}!${e.options.appId}`}class ws{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new _s(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Es();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(KC){Ti.warn(KC)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Es(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Ss(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ss(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=_r(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(KC){return Ti.warn(KC),""}}}function Es(){return(new Date).toISOString().substring(0,10)}class _s{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Mr()&&Nr().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await vs()).transaction(gs),n=await t.objectStore(gs).get(bs(e));return await t.done,n}catch(KC){if(KC instanceof jr)Ti.warn(KC.message);else{const t=us.create("idb-get",{originalErrorMessage:null===KC||void 0===KC?void 0:KC.message});Ti.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ys(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ys(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ss(e){return _r(JSON.stringify({version:2,heartbeats:e})).length}var xs;xs="",os(new Qr("platform-logger",(e=>new xi(e)),"PRIVATE")),os(new Qr("heartbeat",(e=>new ws(e)),"PRIVATE")),fs(ki,Ci,xs),fs(ki,Ci,"esm2017"),fs("fire-js","");function ks(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Cs(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ts=Cs,Is=new Ur("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ls=new oi("@firebase/auth");function Ps(e){if(Ls.logLevel<=ti.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ls.error(`Auth (${hs}): ${e}`,...n)}}function Os(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ms(e,...n)}function As(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ms(e,...n)}function Ds(e,t,n){const r=Object.assign(Object.assign({},Ts()),{[t]:n});return new Ur("auth","Firebase",r).create(t,{appName:e.name})}function Rs(e){return Ds(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ms(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Is.create(e,...n)}function Ns(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ms(t,...r)}}function js(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ps(t),new Error(t)}function Us(e,t){e||js(t)}function Fs(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function zs(){return"http:"===Vs()||"https:"===Vs()}function Vs(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Bs{constructor(e,t){this.shortDelay=e,this.longDelay=t,Us(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ar())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(zs()||Dr()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function $s(e,t){Us(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Ws{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void js("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void js("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void js("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Hs={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},qs=new Bs(3e4,6e4);function Ks(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Gs(e,t,n,r){return Qs(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=Br(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Ws.fetch()(Js(e,e.config.apiHost,n,o),l)}))}async function Qs(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Hs),t);try{const t=new Zs(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw eo(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw eo(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw eo(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw eo(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Ds(e,a,o);Os(e,a)}}catch(KC){if(KC instanceof jr)throw KC;Os(e,"network-request-failed",{message:String(KC)})}}async function Ys(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Gs(e,t,n,r,i);return"mfaPendingCredential"in s&&Os(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Js(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?$s(e.config,i):`${e.config.apiScheme}://${i}`}function Xs(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Zs{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(As(this.auth,"network-request-failed"))),qs.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function eo(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=As(e,t,r);return i.customData._tokenResponse=n,i}function to(e){return void 0!==e&&void 0!==e.enterprise}class no{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Xs(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function ro(e,t){return Gs(e,"GET","/v2/recaptchaConfig",Ks(e,t))}async function io(e,t){return Gs(e,"POST","/v1/accounts:lookup",t)}function so(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(KC){}}function oo(e){return 1e3*Number(e)}function ao(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Ps("JWT malformed, contained fewer than 3 sections"),null;try{const e=Sr(n);return e?JSON.parse(e):(Ps("Failed to decode base64 JWT payload"),null)}catch(KC){return Ps("Caught error parsing JWT payload as JSON",null===KC||void 0===KC?void 0:KC.toString()),null}}function lo(e){const t=ao(e);return Ns(t,"internal-error"),Ns("undefined"!==typeof t.exp,"internal-error"),Ns("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function uo(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(KC){throw KC instanceof jr&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(KC)&&e.auth.currentUser===e&&await e.auth.signOut(),KC}}class co{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(KC){return void("auth/network-request-failed"===(null===KC||void 0===KC?void 0:KC.code)&&this.schedule(!0))}this.schedule()}}class ho{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=so(this.lastLoginAt),this.creationTime=so(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function po(e){var t;const n=e.auth,r=await e.getIdToken(),i=await uo(e,io(n,{idToken:r}));Ns(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?fo(s.providerUserInfo):[],a=(l=e.providerData,u=o,[...l.filter((e=>!u.some((t=>t.providerId===e.providerId)))),...u]);var l,u;const c=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!c&&h,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ho(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,p)}function fo(e){return e.map((e=>{var{providerId:t}=e,n=ks(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ns(e.idToken,"internal-error"),Ns("undefined"!==typeof e.idToken,"internal-error"),Ns("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):lo(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ns(0!==e.length,"internal-error");const t=lo(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Ns(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Qs(e,{},(async()=>{const n=Br({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Js(e,r,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Ws.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new go;return n&&(Ns("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Ns("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Ns("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new go,this.toJSON())}_performRefresh(){return js("not implemented")}}function mo(e,t){Ns("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class vo{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=ks(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new co(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ho(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await uo(this,this.stsTokenManager.getToken(this.auth,e));return Ns(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Gr(e),r=await n.getIdToken(t),i=ao(r);Ns(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:so(oo(i.auth_time)),issuedAtTime:so(oo(i.iat)),expirationTime:so(oo(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Gr(e);await po(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Ns(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new vo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ns(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await po(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ls(this.auth.app))return Promise.reject(Rs(this.auth));const e=await this.getIdToken();return await uo(this,async function(e,t){return Gs(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,f=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:E,stsTokenManager:_}=t;Ns(y&&_,e,"internal-error");const S=go.fromJSON(this.name,_);Ns("string"===typeof y,e,"internal-error"),mo(c,e.name),mo(h,e.name),Ns("boolean"===typeof b,e,"internal-error"),Ns("boolean"===typeof w,e,"internal-error"),mo(d,e.name),mo(p,e.name),mo(f,e.name),mo(g,e.name),mo(m,e.name),mo(v,e.name);const x=new vo({uid:y,auth:e,email:h,emailVerified:b,displayName:c,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:f,stsTokenManager:S,createdAt:m,lastLoginAt:v});return E&&Array.isArray(E)&&(x.providerData=E.map((e=>Object.assign({},e)))),g&&(x._redirectEventId=g),x}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new go;r.updateFromServerResponse(t);const i=new vo({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await po(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Ns(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?fo(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),o=new go;o.updateFromIdToken(n);const a=new vo({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new ho(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const yo=new Map;function bo(e){Us(e instanceof Function,"Expected a class definition");let t=yo.get(e);return t?(Us(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,yo.set(e,t),t)}class wo{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}wo.type="NONE";const Eo=wo;function _o(e,t,n){return`firebase:${e}:${t}:${n}`}class So{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=_o(this.userKey,r.apiKey,i),this.fullPersistenceKey=_o("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new So(bo(Eo),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||bo(Eo);const s=_o(n,e.config.apiKey,e.name);let o=null;for(const u of t)try{const t=await u._get(s);if(t){const n=vo._fromJSON(e,t);u!==i&&(o=n),i=u;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new So(i,e,n)):new So(i,e,n)}}function xo(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Io(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ko(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Po(t))return"Blackberry";if(Oo(t))return"Webos";if(Co(t))return"Safari";if((t.includes("chrome/")||To(t))&&!t.includes("edge/"))return"Chrome";if(Lo(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ko(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar();return/firefox\//i.test(e)}function Co(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function To(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar();return/crios\//i.test(e)}function Io(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar();return/iemobile/i.test(e)}function Lo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar();return/android/i.test(e)}function Po(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar();return/blackberry/i.test(e)}function Oo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar();return/webos/i.test(e)}function Ao(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Do(){return function(){const e=Ar();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Ro(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar();return Ao(e)||Lo(e)||Oo(e)||Po(e)||/windows phone/i.test(e)||Io(e)}function Mo(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=xo(Ar());break;case"Worker":t=`${xo(Ar())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${hs}/${r}`}class No{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(KC){r(KC)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(KC){t.reverse();for(const n of t)try{n()}catch(zt){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===KC||void 0===KC?void 0:KC.message})}}}class jo{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Uo{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zo(this),this.idTokenSubscription=new zo(this),this.beforeStateQueue=new No(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Is,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=bo(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await So.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(KC){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await io(this,{idToken:e}),n=await vo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ls(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(KC){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(KC)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ns(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(KC){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await po(e)}catch(KC){if("auth/network-request-failed"!==(null===KC||void 0===KC?void 0:KC.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ls(this.app))return Promise.reject(Rs(this));const t=e?Gr(e):null;return t&&Ns(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Ns(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return ls(this.app)?Promise.reject(Rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ls(this.app)?Promise.reject(Rs(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(bo(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Gs(e,"GET","/v2/passwordPolicy",Ks(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new jo(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ur("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Gs(e,"POST","/v2/accounts:revokeToken",Ks(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&bo(e)||this._popupRedirectResolver;Ns(t,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[bo(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ns(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ns(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Mo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Ls.logLevel<=ti.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ls.warn(`Auth (${hs}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Fo(e){return Gr(e)}class zo{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Hr(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Ns(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Vo={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Bo(e){return Vo.loadJS(e)}function $o(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Wo{constructor(e){this.type="recaptcha-enterprise",this.auth=Fo(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;to(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{ro(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new no(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&to(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Vo.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Bo(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Ho(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Wo(e);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function qo(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ho(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Ho(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Ko(e,t,n){const r=Fo(e);Ns(r._canInitEmulator,r,"emulator-config-failed"),Ns(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Go(t),{host:o,port:a}=function(e){const t=Go(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Qo(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Qo(t)}}}(t),l=null===a?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Go(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Qo(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Yo{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return js("not implemented")}_getIdTokenResponse(e){return js("not implemented")}_linkToIdToken(e,t){return js("not implemented")}_getReauthenticationResolver(e){return js("not implemented")}}async function Jo(e,t){return Gs(e,"POST","/v1/accounts:signUp",t)}async function Xo(e,t){return Ys(e,"POST","/v1/accounts:signInWithPassword",Ks(e,t))}async function Zo(e,t){return Gs(e,"POST","/v1/accounts:sendOobCode",Ks(e,t))}async function ea(e,t){return Zo(e,t)}class ta extends Yo{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ta(e,t,"password")}static _fromEmailAndCode(e,t){return new ta(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return qo(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Xo);case"emailLink":return async function(e,t){return Ys(e,"POST","/v1/accounts:signInWithEmailLink",Ks(e,t))}(e,{email:this._email,oobCode:this._password});default:Os(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return qo(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Jo);case"emailLink":return async function(e,t){return Ys(e,"POST","/v1/accounts:signInWithEmailLink",Ks(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Os(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function na(e,t){return Ys(e,"POST","/v1/accounts:signInWithIdp",Ks(e,t))}class ra extends Yo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Os("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=ks(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new ra(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return na(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,na(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,na(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Br(t)}return e}}const ia={USER_NOT_FOUND:"user-not-found"};class sa extends Yo{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new sa({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new sa({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Ys(e,"POST","/v1/accounts:signInWithPhoneNumber",Ks(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Ys(e,"POST","/v1/accounts:signInWithPhoneNumber",Ks(e,t));if(n.temporaryProof)throw eo(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Ys(e,"POST","/v1/accounts:signInWithPhoneNumber",Ks(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ia)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new sa({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class oa{constructor(e){var t,n,r,i,s,o;const a=$r(Wr(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,u=null!==(n=a.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Ns(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=$r(Wr(e)).link,n=t?$r(Wr(t)).deep_link_id:null,r=$r(Wr(e)).deep_link_id;return(r?$r(Wr(r)).link:null)||r||n||t||e}(e);try{return new oa(t)}catch(n){return null}}}class aa{constructor(){this.providerId=aa.PROVIDER_ID}static credential(e,t){return ta._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=oa.parseLink(t);return Ns(n,"argument-error"),ta._fromEmailAndCode(e,n.code,n.tenantId)}}aa.PROVIDER_ID="password",aa.EMAIL_PASSWORD_SIGN_IN_METHOD="password",aa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class la{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ua extends la{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ca extends ua{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:ca.PROVIDER_ID,signInMethod:ca.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ca.credentialFromTaggedObject(e)}static credentialFromError(e){return ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ca.credential(t.oauthAccessToken)}catch(n){return null}}}ca.FACEBOOK_SIGN_IN_METHOD="facebook.com",ca.PROVIDER_ID="facebook.com";class ha extends ua{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ra._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ha.credential(n,r)}catch(i){return null}}}ha.GOOGLE_SIGN_IN_METHOD="google.com",ha.PROVIDER_ID="google.com";class da extends ua{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:da.PROVIDER_ID,signInMethod:da.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return da.credentialFromTaggedObject(e)}static credentialFromError(e){return da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return da.credential(t.oauthAccessToken)}catch(n){return null}}}da.GITHUB_SIGN_IN_METHOD="github.com",da.PROVIDER_ID="github.com";class pa extends ua{constructor(){super("twitter.com")}static credential(e,t){return ra._fromParams({providerId:pa.PROVIDER_ID,signInMethod:pa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return pa.credentialFromTaggedObject(e)}static credentialFromError(e){return pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return pa.credential(n,r)}catch(i){return null}}}async function fa(e,t){return Ys(e,"POST","/v1/accounts:signUp",Ks(e,t))}pa.TWITTER_SIGN_IN_METHOD="twitter.com",pa.PROVIDER_ID="twitter.com";class ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await vo._fromIdTokenResponse(e,n,r),s=ma(n);return new ga({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ma(n);return new ga({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ma(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class va extends jr{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,va.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new va(e,t,n,r)}}function ya(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw va._fromErrorAndOperation(e,n,t,r);throw n}))}async function ba(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await uo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ga._forOperation(e,"link",r)}async function wa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(ls(r.app))return Promise.reject(Rs(r));const i="reauthenticate";try{const s=await uo(e,ya(r,i,t,e),n);Ns(s.idToken,r,"internal-error");const o=ao(s.idToken);Ns(o,r,"internal-error");const{sub:a}=o;return Ns(e.uid===a,r,"user-mismatch"),ga._forOperation(e,i,s)}catch(KC){throw"auth/user-not-found"===(null===KC||void 0===KC?void 0:KC.code)&&Os(r,"user-mismatch"),KC}}async function Ea(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ls(e.app))return Promise.reject(Rs(e));const r="signIn",i=await ya(e,r,t),s=await ga._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function _a(e,t){return Ea(Fo(e),t)}function Sa(e,t,n){var r;Ns((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Ns("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ns(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Ns(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function xa(e){const t=Fo(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ka(e,t,n){if(ls(e.app))return Promise.reject(Rs(e));const r=Fo(e),i=qo(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fa),s=await i.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&xa(e),t})),o=await ga._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}function Ca(e,t,n){return ls(e.app)?Promise.reject(Rs(e)):_a(Gr(e),aa.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&xa(e),t}))}async function Ta(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=Gr(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},o=await uo(i,async function(e,t){return Gs(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}async function Ia(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await uo(e,async function(e,t){return Gs(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}new WeakMap;const La="__sak";class Pa{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(La,"1"),this.storage.removeItem(La),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Oa extends Pa{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ro(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Do()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Oa.type="LOCAL";const Aa=Oa;class Da extends Pa{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Da.type="SESSION";const Ra=Da;class Ma{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Ma(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Na(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ma.receivers=[];class ja{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=Na("",20);r.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Ua(){return window}function Fa(){return"undefined"!==typeof Ua().WorkerGlobalScope&&"function"===typeof Ua().importScripts}const za="firebaseLocalStorageDb",Va="firebaseLocalStorage",Ba="fbase_key";class $a{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Wa(e,t){return e.transaction([Va],t?"readwrite":"readonly").objectStore(Va)}function Ha(){const e=indexedDB.open(za,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Va,{keyPath:Ba})}catch(KC){n(KC)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Va)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(za);return new $a(e).toPromise()}(),t(await Ha()))}))}))}async function qa(e,t,n){const r=Wa(e,!0).put({[Ba]:t,value:n});return new $a(r).toPromise()}function Ka(e,t){const n=Wa(e,!0).delete(t);return new $a(n).toPromise()}class Ga{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Ha()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(KC){if(t++>3)throw KC;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Fa()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ma._getInstance(Fa()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ja(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ha();return await qa(e,La,"1"),await Ka(e,La),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>qa(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Wa(e,!1).get(t),r=await new $a(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Ka(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Wa(e,!1).getAll();return new $a(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ga.type="LOCAL";const Qa=Ga;$o("rcb"),new Bs(3e4,6e4);const Ya="recaptcha";async function Ja(e,t,n){var r;const i=await n.verify();try{let s;if(Ns("string"===typeof i,e,"argument-error"),Ns(n.type===Ya,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Ns("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Gs(e,"POST","/v2/accounts/mfaEnrollment:start",Ks(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Ns("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Ns(n,e,"missing-multi-factor-info");const o=await function(e,t){return Gs(e,"POST","/v2/accounts/mfaSignIn:start",Ks(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Gs(e,"POST","/v1/accounts:sendVerificationCode",Ks(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Xa{constructor(e){this.providerId=Xa.PROVIDER_ID,this.auth=Fo(e)}verifyPhoneNumber(e,t){return Ja(this.auth,e,Gr(t))}static credential(e,t){return sa._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Xa.credentialFromTaggedObject(t)}static credentialFromError(e){return Xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?sa._fromTokenResponse(n,r):null}}function Za(e,t){return t?bo(t):(Ns(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Xa.PROVIDER_ID="phone",Xa.PHONE_SIGN_IN_METHOD="phone";class el extends Yo{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return na(e,this._buildIdpRequest())}_linkToIdToken(e,t){return na(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return na(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function tl(e){return Ea(e.auth,new el(e),e.bypassAuthState)}function nl(e){const{auth:t,user:n}=e;return Ns(n,t,"internal-error"),wa(n,new el(e),e.bypassAuthState)}async function rl(e){const{auth:t,user:n}=e;return Ns(n,t,"internal-error"),ba(n,new el(e),e.bypassAuthState)}class il{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(KC){this.reject(KC)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(KC){this.reject(KC)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tl;case"linkViaPopup":case"linkViaRedirect":return rl;case"reauthViaPopup":case"reauthViaRedirect":return nl;default:Os(this.auth,"internal-error")}}resolve(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sl=new Bs(2e3,1e4);class ol extends il{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,ol.currentPopupAction&&ol.currentPopupAction.cancel(),ol.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ns(e,this.auth,"internal-error"),e}async onExecution(){Us(1===this.filter.length,"Popup operations only handle one event");const e=Na();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(As(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(As(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ol.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(As(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,sl.get())};e()}}ol.currentPopupAction=null;const al=new Map;class ll extends il{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=al.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=hl(t),r=cl(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(KC){e=()=>Promise.reject(KC)}al.set(this.auth._key(),e)}return this.bypassAuthState||al.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ul(e,t){al.set(e._key(),t)}function cl(e){return bo(e._redirectPersistence)}function hl(e){return _o("pendingRedirect",e.config.apiKey,e.name)}async function dl(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ls(e.app))return Promise.reject(Rs(e));const r=Fo(e),i=Za(r,t),s=new ll(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class pl{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gl(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!gl(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(As(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fl(e))}saveEventToCache(e){this.cachedEventUids.add(fl(e)),this.lastProcessedEventTime=Date.now()}}function fl(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function gl(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const ml=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vl=/^https?/;async function yl(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Gs(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(bl(r))return}catch(n){}Os(e,"unauthorized-domain")}function bl(e){const t=Fs(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!vl.test(n))return!1;if(ml.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const wl=new Bs(3e4,6e4);function El(){const e=Ua().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function _l(e){return new Promise(((t,n)=>{var r,i,s;function o(){El(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{El(),n(As(e,"network-request-failed"))},timeout:wl.get()})}if(null===(i=null===(r=Ua().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Ua().gapi)||void 0===s?void 0:s.load)){const t=$o("iframefcb");return Ua()[t]=()=>{gapi.load?o():n(As(e,"network-request-failed"))},Bo(`${Vo.gapiScript}?onload=${t}`).catch((e=>n(e)))}o()}})).catch((e=>{throw Sl=null,e}))}let Sl=null;const xl=new Bs(5e3,15e3),kl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tl(e){const t=e.config;Ns(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?$s(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:hs},i=Cl.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Br(r).slice(1)}`}async function Il(e){const t=await function(e){return Sl=Sl||_l(e),Sl}(e),n=Ua().gapi;return Ns(n,e,"internal-error"),t.open({where:document.body,url:Tl(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kl,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=As(e,"network-request-failed"),s=Ua().setTimeout((()=>{r(i)}),xl.get());function o(){Ua().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}const Ll={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Pl{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(KC){}}}function Ol(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Ll),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ar().toLowerCase();n&&(a=To(u)?"_blank":n),ko(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return Ao(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Pl(null);const h=window.open(t||"",a,c);Ns(h,e,"popup-blocked");try{h.focus()}catch(KC){}return new Pl(h)}const Al="__/auth/handler",Dl="emulator/auth/handler",Rl=encodeURIComponent("fac");async function Ml(e,t,n,r,i,s){Ns(e.config.authDomain,e,"auth-domain-config-required"),Ns(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:hs,eventId:i};if(t instanceof la){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof ua){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))void 0===a[c]&&delete a[c];const l=await e._getAppCheckToken(),u=l?`#${Rl}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Al}`;return $s(t,Dl)}(e)}?${Br(a).slice(1)}${u}`}const Nl="webStorageSupport";const jl=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ra,this._completeRedirectFn=dl,this._overrideRedirectResult=ul}async _openPopup(e,t,n,r){var i;Us(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Ol(e,await Ml(e,t,n,Fs(),r),Na())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Ua().location.href=e}(await Ml(e,t,n,Fs(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Us(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Il(e),n=new pl(e);return t.register("authEvent",(t=>{Ns(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Nl,{type:Nl},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Nl];void 0!==i&&t(!!i),Os(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=yl(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ro()||Co()||Ao()}};var Ul="@firebase/auth",Fl="1.7.9";class zl{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ns(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Vl=Lr("authIdTokenMaxAge")||300;let Bl=null;var $l;Vo={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=As("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},$l="Browser",os(new Qr("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ns(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:$l,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mo($l)},u=new Uo(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(bo);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(u,n),u}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),os(new Qr("auth-internal",(e=>(e=>new zl(e))(Fo(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),fs(Ul,Fl,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}($l)),fs(Ul,Fl,"esm2017");fs("firebase","10.14.1","app");var Wl,Hl,ql="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Kl={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return d(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=s(0),l=s(1),u=s(16777216);function c(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function p(e,t){return e.add(d(t))}function f(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function g(e,t){this.g=e,this.h=t}function m(e,t){if(c(t))throw Error("division by zero");if(c(e))return new g(a,a);if(h(e))return t=m(d(e),t),new g(d(t.g),d(t.h));if(h(t))return t=m(e,d(t)),new g(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!c(r);){var u=s.add(r);0>=u.l(e)&&(i=i.add(n),s=u),r=y(r,1),n=y(n,1)}return t=p(e,i.j(t)),new g(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),u=(s=o(n)).j(t);h(u)||0<u.l(e);)u=(s=o(n-=r)).j(t);c(s)&&(s=l),i=i.add(s),e=p(e,u)}return new g(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],o=0;o<i;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(c(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=m(n,t).g,s=((0<(n=p(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(c(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=p(this,e))?-1:c(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var o=i+(65535&this.i(s))+(65535&e.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(c(this)||c(e))return a;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(u)&&0>e.l(u))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,p=65535&this.i(i),g=e.i(s)>>>16,m=65535&e.i(s);n[2*i+2*s]+=p*m,f(n,2*i+2*s),n[2*i+2*s+1]+=l*m,f(n,2*i+2*s+1),n[2*i+2*s+1]+=p*g,f(n,2*i+2*s+1),n[2*i+2*s+2]+=l*g,f(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return m(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Hl=Kl.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=a,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),u=parseInt(t.substring(s,s+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(u))):i=(i=i.j(r)).add(o(u))}return i},Wl=Kl.Integer=r}).apply("undefined"!==typeof ql?ql:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Gl,Ql,Yl,Jl,Xl,Zl,eu,tu,nu="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ru={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof nu&&nu];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function u(e,t,n){return(u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function p(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function f(e){return/^[\s\xa0]*$/.test(e)}function g(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function m(e){return m[" "](e),e}m[" "]=function(){};var v=-1!=g().indexOf("Gecko")&&!(-1!=g().toLowerCase().indexOf("webkit")&&-1==g().indexOf("Edge"))&&!(-1!=g().indexOf("Trident")||-1!=g().indexOf("MSIE"))&&-1==g().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){i.setTimeout((()=>{throw e}),0)}function x(){var e=L;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var k=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new C),(e=>e.reset()));class C{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,I=!1,L=new class{constructor(){this.h=this.g=null}add(e,t){const n=k.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},P=()=>{const e=i.Promise.resolve(void 0);T=()=>{e.then(O)}};var O=()=>{for(var e;e=x();){try{e.h.call(e.g)}catch(n){S(n)}var t=k;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I=!1};function A(){this.s=this.s,this.C=this.C}function D(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}A.prototype.s=!1,A.prototype.ma=function(){this.s||(this.s=!0,this.N())},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},D.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function M(e,t){if(D.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{m(t.nodeName);var i=!0;break e}catch(Dt){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:N[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}h(M,D);var N={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var j="closure_listenable_"+(1e6*Math.random()|0),U=0;function F(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++U,this.da=this.fa=!1}function z(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(z(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}V.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=$(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new F(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var W="closure_lm_"+(1e6*Math.random()|0),H={};function q(e,t,n,r,i){if(r&&r.once)return G(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)q(e,t[s],n,r,i);return null}return n=te(n),e&&e[j]?e.K(t,n,o(r)?!!r.capture:!!r,i):K(e,t,n,!1,r,i)}function K(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=o(i)?!!i.capture:!!i,l=Z(e);if(l||(e[W]=l=new V(e)),(n=l.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)R||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(J(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)G(e,t[s],n,r,i);return null}return n=te(n),e&&e[j]?e.L(t,n,o(r)?!!r.capture:!!r,i):K(e,t,n,!0,r,i)}function Q(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[j]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$(s=e.g[t],n,r,i))&&(z(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[j])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(J(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[W]=null)):z(e)}}}function J(e){return e in H?H[e]:H[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[W])instanceof V?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){A.call(this),this.i=new V(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new D(t,e);else if(t instanceof D)t.target=t.target||e;else{var i=t;E(t=new D(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ie(o,r,!0,t)&&i}if(i=ie(o=t.g=e,r,!0,t)&&i,i=ie(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(o=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&B(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=u(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=u(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function oe(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,oe(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,A),ne.prototype[j]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)z(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends A{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){A.call(this),this.h=e,this.g={}}h(le,A);var ue=[];function ce(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ce(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=i.JSON.stringify,de=i.JSON.parse,pe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function fe(){}function ge(e){return e.h||(e.h=e.i())}function me(){}fe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){D.call(this,"d")}function be(){D.call(this,"c")}h(ye,D),h(be,D);var we={},Ee=null;function _e(){return Ee=Ee||new ne}function Se(e){D.call(this,we.La,e)}function xe(e){const t=_e();re(t,new Se(t))}function ke(e,t){D.call(this,we.STAT_EVENT,e),this.stat=t}function Ce(e){const t=_e();re(t,new ke(t,e))}function Te(e,t){D.call(this,we.Ma,e),this.size=t}function Ie(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Le(){this.g=!0}function Pe(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return he(n)}catch(Rt){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",h(Se,D),we.STAT_EVENT="statevent",h(ke,D),we.Ma="timingevent",h(Te,D),Le.prototype.xa=function(){this.g=!1},Le.prototype.info=function(){};var Oe,Ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},De={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Re(){}function Me(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ne}function Ne(){this.i=null,this.g="",this.h=!1}h(Re,fe),Re.prototype.g=function(){return new XMLHttpRequest},Re.prototype.i=function(){return{}},Oe=new Re;var je={},Ue={};function Fe(e,t,n){e.L=1,e.v=ht(ot(t)),e.m=n,e.P=!0,ze(e,null)}function ze(e,t){e.F=Date.now(),$e(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),kt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Ne,e.g=mn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(u(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ue[0]=i.toString()),i=ue);for(var s=0;s<i.length;s++){var o=q(n,i[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),xe(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ve(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ue:(n=Number(t.substring(n,r)),isNaN(n)?je:(r+=1)+n>t.length?Ue:(t=t.slice(r,r+n),e.C=r+n,t))}function $e(e){e.S=Date.now()+e.I,We(e,e.I)}function We(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ie(u(e.ba,e),t)}function He(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function qe(e){0==e.j.G||e.J||hn(e.j,e)}function Ke(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ce(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;cn(n),Zt(n)}an(n),Ce(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ie(u(n.Za,n),6e3));if(1>=Xe(n.h)&&n.ca){try{n.ca()}catch(c){}n.ca=void 0}}else pn(n,11)}else if((e.K||n.g==e)&&cn(n),!f(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],2==n.G)if("c"==u[0]){n.K=u[1],n.ia=u[2];const t=u[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=u[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ct(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=gn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var a=o,l=r.L;l&&(a.I=l),a.B&&(He(a),$e(a)),r.g=o}else on(r);0<n.i.length&&tn(n)}else"stop"!=u[0]&&"close"!=u[0]||pn(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?pn(n,7):Xt(n):"noop"!=u[0]&&n.l&&n.l.ta(u),n.v=0)}xe()}catch(c){}}Me.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Gt(e)?t.j():this.Y(e)},Me.prototype.Y=function(e){try{if(e==this.g)e:{const d=Gt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Qt(this.g)))){this.J||4!=d||7==t||xe(),He(this);var n=this.g.Z();this.X=n;t:if(Ve(this)){var r=Qt(this.g);e="";var s=r.length,o=4==Gt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),qe(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!f(l)){var c=l;break t}}c=null}if(!(n=c)){this.o=!1,this.s=3,Ce(12),Ke(this),qe(this);break e}Pe(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Be(this,a),e==Ue){4==d&&(this.s=4,Ce(14),n=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}if(e==je){this.s=4,Ce(15),Pe(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Pe(this.i,this.l,e,null),Ge(this,e)}if(Ve(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,Ce(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),ln(h),h.M=!0,Ce(11))}}else Pe(this.i,this.l,a,"[Invalid Chunked Response]"),Ke(this),qe(this)}else Pe(this.i,this.l,a,null),Ge(this,a);4==d&&Ke(this),this.o&&!this.J&&(4==d?hn(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&2<=Gt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(f(e[r]))continue;var n=_(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Ce(12)):(this.s=0,Ce(13)),Ke(this),qe(this)}}}catch(Ft){}},Me.prototype.cancel=function(){this.J=!0,Ke(this)},Me.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(xe(),Ce(17)),Ke(this),this.s=2,qe(this)):We(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Je(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new Et;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ut(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,at(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),lt(this,t[4]),this.l=dt(t[5]||"",!0),ut(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new Et(null,this.h))}function ot(e){return new st(e)}function at(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ut(e,t,n){t instanceof Et?(e.i=t,function(e,t){t&&!e.j&&(_t(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(St(this,t),kt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=pt(t,bt)),e.i=new Et(t,e.h))}function ct(e,t,n){e.i.set(t,n)}function ht(e){return ct(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function pt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ft),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ft(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(pt(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(pt(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(pt(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",pt(n,wt)),e.join("")};var gt,mt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function Et(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function _t(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function St(e,t){_t(e),t=Ct(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function xt(e,t){return _t(e),t=Ct(e,t),e.g.has(t)}function kt(e,t,n){St(e,t),0<n.length&&(e.i=null,e.g.set(Ct(e,t),d(n)),e.h+=n.length)}function Ct(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Tt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(Dt){}}function It(){this.g=new pe}function Lt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;o(e)&&(i=he(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(KC){throw t.push(r+"type="+encodeURIComponent("_badmap")),KC}}function Pt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Ot(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function At(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Mt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Nt(e)}function Nt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function jt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Ut(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=jt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ct(e,t,n))}function zt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Et.prototype).add=function(e,t){_t(this),this.i=null,e=Ct(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){_t(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){_t(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){_t(this);let t=[];if("string"===typeof e)xt(this,e)&&(t=t.concat(this.g.get(Ct(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return _t(this),this.i=null,xt(this,e=Ct(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},h(Pt,fe),Pt.prototype.g=function(){return new Ot(this.l,this.j)},Pt.prototype.i=(gt={},function(){return gt}),h(Ot,ne),(e=Ot.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Nt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Mt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Nt(this)),this.g&&(this.readyState=3,Nt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;At(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Mt(this):Nt(this),3==this.readyState&&At(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Mt(this))},e.Qa=function(e){this.g&&(this.response=e,Mt(this))},e.ga=function(){this.g&&Mt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ot.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(zt,ne);var Vt=/^https?$/i,Bt=["POST","PUT"];function $t(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Wt(e),qt(e)}function Wt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Ht(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Gt(e)||2!=e.Z()))if(e.u&&4==Gt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Gt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var o=String(e.D).match(it)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),s=!Vt.test(o?o.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<Gt(e)?e.g.statusText:""}catch(Rt){a=""}e.l=a+" ["+e.Z()+"]",Wt(e)}}finally{qt(e)}}}function qt(e,t){if(e.g){Kt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(KC){}}}function Kt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Gt(e){return e.g?e.g.readyState:0}function Qt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Yt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Jt(e){this.Aa=0,this.i=[],this.j=new Le,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yt("baseRetryDelayMs",5e3,e),this.cb=Yt("retryDelaySeedMs",1e4,e),this.Wa=Yt("forwardChannelMaxRetries",2,e),this.wa=Yt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new It,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Xt(e){if(en(e),3==e.G){var t=e.U++,n=ot(e.I);if(ct(n,"SID",e.K),ct(n,"RID",t),ct(n,"TYPE","terminate"),rn(e,n),(t=new Me(e,e.j,t)).L=2,t.v=ht(ot(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=mn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}fn(e)}function Zt(e){e.g&&(ln(e),e.g.cancel(),e.g=null)}function en(e){Zt(e),e.u&&(i.clearTimeout(e.u),e.u=null),cn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function tn(e){if(!Je(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||P(),I||(T(),I=!0),L.add(t,e),e.B=0}}function nn(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ct(r,"SID",e.K),ct(r,"RID",n),ct(r,"AID",e.T),rn(e,r),e.m&&e.o&&Ut(r,e.m,e.o),n=new Me(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=sn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Fe(n,r,t)}function rn(e,t){e.H&&y(e.H,(function(e,n){ct(t,n,e)})),e.l&&rt({},(function(e,n){ct(t,n,e)}))}function sn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?u(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{Lt(a,e,"req"+n+"_")}catch(Ft){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function on(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||P(),I||(T(),I=!0),L.add(t,e),e.v=0}}function an(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ie(u(e.Fa,e),dn(e,e.v)),e.v++,!0)}function ln(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function un(e){e.g=new Me(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ct(t,"RID","rpc"),ct(t,"SID",e.K),ct(t,"AID",e.T),ct(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ct(t,"TO",e.ja),ct(t,"TYPE","xmlhttp"),rn(e,t),e.m&&e.o&&Ut(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(ot(t)),n.m=null,n.P=!0,ze(n,e)}function cn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function hn(e,t){var n=null;if(e.g==t){cn(e),ln(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=_e(),new Te(r,n)),tn(e)}else on(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ie(u(e.Ga,e,t),dn(e,e.B)),e.B++,!0))}(e,t)||2==r&&an(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:pn(e,5);break;case 4:pn(e,10);break;case 3:pn(e,6);break;default:pn(e,2)}}function dn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function pn(e,t){if(e.j.info("Error code "+t),2==t){var n=u(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||at(r,"https"),ht(r),t?function(e,t){const n=new Le;if(i.Image){const r=new Image;r.onload=c(Tt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(Tt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(Tt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(Tt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Le;const n=new AbortController,r=setTimeout((()=>{n.abort(),Tt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Tt(0,0,!0,t):Tt(0,0,!1,t)})).catch((()=>{clearTimeout(r),Tt(0,0,!1,t)}))}(r.toString(),n)}else Ce(2);e.G=0,e.l&&e.l.sa(t),fn(e),en(e)}function fn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(p(e.ka,t),p(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function gn(e,t,n){var r=n instanceof st?ot(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new st(null);r&&at(o,r),t&&(o.g=t),s&&lt(o,s),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ct(r,n,t),ct(r,"VER",e.la),rn(e,r),r}function mn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new zt(new Pt({eb:n})):new zt(e.pa)).Ha(e.J),t}function vn(){}function yn(){}function bn(e,t){ne.call(this),this.g=new Jt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!f(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!f(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new _n(this)}function wn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function En(){be.call(this),this.status=1}function _n(e){this.g=e}(e=zt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Oe.g(),this.v=this.o?ge(this.o):ge(Oe),this.g.onreadystatechange=u(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(Dt){return void $t(this,Dt)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Bt,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Kt(this),this.u=!0,this.g.send(e),this.u=!1}catch(Dt){$t(this,Dt)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),qt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qt(this,!0)),zt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Ht(this):this.bb())},e.bb=function(){Ht(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Gt(this)?this.g.status:-1}catch(gt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(gt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Jt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ce(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=gn(this,null,this.W),tn(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Me(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),E(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=sn(this,i,t),ct(n=ot(this.I),"RID",e),ct(n,"CVER",22),this.D&&ct(n,"X-HTTP-Session-Id",this.D),rn(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(jt(s)))+"&"+t:this.m&&Ut(n,this.m,s)),et(this.h,i),this.Ua&&ct(n,"TYPE","init"),this.P?(ct(n,"$req",t),ct(n,"SID","null"),i.T=!0,Fe(i,n,null)):Fe(i,n,t),this.G=2}}else 3==this.G&&(e?nn(this,e):0==this.i.length||Je(this.h)||nn(this))},e.Fa=function(){if(this.u=null,un(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ie(u(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ce(10),Zt(this),un(this))},e.Za=function(){null!=this.C&&(this.C=null,Zt(this),an(this),Ce(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=vn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},yn.prototype.g=function(e,t){return new bn(e,t)},h(bn,ne),bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){Xt(this.g)},bn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&tn(t)},bn.prototype.N=function(){this.g.l=null,delete this.j,Xt(this.g),delete this.g,bn.aa.N.call(this)},h(wn,ye),h(En,be),h(_n,vn),_n.prototype.ua=function(){re(this.g,"a")},_n.prototype.ta=function(e){re(this.g,new wn(e))},_n.prototype.sa=function(e){re(this.g,new En)},_n.prototype.ra=function(){re(this.g,"b")},yn.prototype.createWebChannel=yn.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,tu=ru.createWebChannelTransport=function(){return new yn},eu=ru.getStatEventTarget=function(){return _e()},Zl=ru.Event=we,Xl=ru.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,Jl=ru.ErrorCode=Ae,De.COMPLETE="complete",Yl=ru.EventType=De,me.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Ql=ru.WebChannel=me,ru.FetchXmlHttpFactory=Pt,zt.prototype.listenOnce=zt.prototype.L,zt.prototype.getLastError=zt.prototype.Ka,zt.prototype.getLastErrorCode=zt.prototype.Ba,zt.prototype.getStatus=zt.prototype.Z,zt.prototype.getResponseJson=zt.prototype.Oa,zt.prototype.getResponseText=zt.prototype.oa,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Ha,Gl=ru.XhrIo=zt}).apply("undefined"!==typeof nu?nu:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const iu="@firebase/firestore";class su{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}su.UNAUTHENTICATED=new su(null),su.GOOGLE_CREDENTIALS=new su("google-credentials-uid"),su.FIRST_PARTY=new su("first-party-uid"),su.MOCK_USER=new su("mock-user");let ou="10.14.0";const au=new oi("@firebase/firestore");function lu(){return au.logLevel}function uu(e){if(au.logLevel<=ti.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(du);au.debug(`Firestore (${ou}): ${e}`,...i)}}function cu(e){if(au.logLevel<=ti.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(du);au.error(`Firestore (${ou}): ${e}`,...i)}}function hu(e){if(au.logLevel<=ti.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(du);au.warn(`Firestore (${ou}): ${e}`,...i)}}function du(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function pu(){const e=`FIRESTORE (${ou}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw cu(e),new Error(e)}function fu(e,t){e||pu()}function gu(e,t){return e}const mu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vu extends jr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yu{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class bu{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(su.UNAUTHENTICATED)))}shutdown(){}}class Eu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class _u{constructor(e){this.t=e,this.currentUser=su.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){fu(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new yu;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new yu,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{uu("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(uu("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new yu)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(uu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(fu("string"==typeof t.accessToken),new bu(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fu(null===e||"string"==typeof e),new su(e)}}class Su{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=su.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class xu{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Su(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(su.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ku{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cu{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){fu(void 0===this.o);const n=e=>{null!=e.error&&uu("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,uu("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{uu("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):uu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(fu("string"==typeof e.token),this.R=e.token,new ku(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Tu(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Iu{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Tu(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Lu(e,t){return e<t?-1:e>t?1:0}function Pu(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Ou{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new vu(mu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new vu(mu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new vu(mu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new vu(mu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ou.fromMillis(Date.now())}static fromDate(e){return Ou.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ou(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Lu(this.nanoseconds,e.nanoseconds):Lu(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Au{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Au(e)}static min(){return new Au(new Ou(0,0))}static max(){return new Au(new Ou(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Du{constructor(e,t,n){void 0===t?t=0:t>e.length&&pu(),void 0===n?n=e.length-t:n>e.length-t&&pu(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Du.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Du?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ru extends Du{construct(e,t,n){return new Ru(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new vu(mu.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new Ru(e)}static emptyPath(){return new Ru([])}}const Mu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nu extends Du{construct(e,t,n){return new Nu(e,t,n)}static isValidIdentifier(e){return Mu.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nu.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Nu(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new vu(mu.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new vu(mu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new vu(mu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new vu(mu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nu(t)}static emptyPath(){return new Nu([])}}class ju{constructor(e){this.path=e}static fromPath(e){return new ju(Ru.fromString(e))}static fromName(e){return new ju(Ru.fromString(e).popFirst(5))}static empty(){return new ju(Ru.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ru.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ru.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ju(new Ru(e.slice()))}}class Uu{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Uu.UNKNOWN_ID=-1;function Fu(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Au.fromTimestamp(1e9===r?new Ou(n+1,0):new Ou(n,r));return new Vu(i,ju.empty(),t)}function zu(e){return new Vu(e.readTime,e.key,-1)}class Vu{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Vu(Au.min(),ju.empty(),-1)}static max(){return new Vu(Au.max(),ju.empty(),-1)}}function Bu(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ju.comparator(e.documentKey,t.documentKey),0!==n?n:Lu(e.largestBatchId,t.largestBatchId))}const $u="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Wu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Hu(e){if(e.code!==mu.FAILED_PRECONDITION||e.message!==$u)throw e;uu("LocalStore","Unexpectedly lost primary lease")}class qu{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&pu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new qu(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof qu?t:qu.resolve(t)}catch(e){return qu.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):qu.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):qu.reject(t)}static resolve(e){return new qu(((t,n)=>{t(e)}))}static reject(e){return new qu(((t,n)=>{n(e)}))}static waitFor(e){return new qu(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=qu.resolve(!1);for(const n of e)t=t.next((e=>e?qu.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new qu(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new qu(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Ku(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Gu(e){return"IndexedDbTransactionError"===e.name}class Qu{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Yu(e){return null==e}function Ju(e){return 0===e&&1/e==-1/0}function Xu(e){return"number"==typeof e&&Number.isInteger(e)&&!Ju(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Qu.oe=-1;const Zu=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ec=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],tc=ec,nc=[...tc,"indexConfiguration","indexState","indexEntries"];function rc(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ic(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function sc(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class oc{constructor(e,t){this.comparator=e,this.root=t||lc.EMPTY}insert(e,t){return new oc(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,lc.BLACK,null,null))}remove(e){return new oc(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lc.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ac(this.root,e,this.comparator,!0)}}class ac{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lc{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:lc.RED,this.left=null!=r?r:lc.EMPTY,this.right=null!=i?i:lc.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new lc(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return lc.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return lc.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pu();if(this.right.isRed())throw pu();const e=this.left.check();if(e!==this.right.check())throw pu();return e+(this.isRed()?0:1)}}lc.EMPTY=null,lc.RED=!0,lc.BLACK=!1,lc.EMPTY=new class{constructor(){this.size=0}get key(){throw pu()}get value(){throw pu()}get color(){throw pu()}get left(){throw pu()}get right(){throw pu()}copy(e,t,n,r,i){return this}insert(e,t,n){return new lc(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class uc{constructor(e){this.comparator=e,this.data=new oc(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new cc(this.data.getIterator())}getIteratorFrom(e){return new cc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof uc))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new uc(this.comparator);return t.data=e,t}}class cc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class hc{constructor(e){this.fields=e,e.sort(Nu.comparator)}static empty(){return new hc([])}unionWith(e){let t=new uc(Nu.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new hc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Pu(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class dc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class pc{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new dc("Invalid base64 string: "+e):e}}(e);return new pc(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new pc(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Lu(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pc.EMPTY_BYTE_STRING=new pc("");const fc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gc(e){if(fu(!!e),"string"==typeof e){let t=0;const n=fc.exec(e);if(fu(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:mc(e.seconds),nanos:mc(e.nanos)}}function mc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function vc(e){return"string"==typeof e?pc.fromBase64String(e):pc.fromUint8Array(e)}function yc(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function bc(e){const t=e.mapValue.fields.__previous_value__;return yc(t)?bc(t):t}function wc(e){const t=gc(e.mapValue.fields.__local_write_time__.timestampValue);return new Ou(t.seconds,t.nanos)}class Ec{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class _c{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new _c("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _c&&e.projectId===this.projectId&&e.database===this.database}}const Sc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function xc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?yc(e)?4:zc(e)?9007199254740991:Uc(e)?10:11:pu()}function kc(e,t){if(e===t)return!0;const n=xc(e);if(n!==xc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return wc(e).isEqual(wc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=gc(e.timestampValue),r=gc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return vc(e.bytesValue).isEqual(vc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return mc(e.geoPointValue.latitude)===mc(t.geoPointValue.latitude)&&mc(e.geoPointValue.longitude)===mc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return mc(e.integerValue)===mc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=mc(e.doubleValue),r=mc(t.doubleValue);return n===r?Ju(n)===Ju(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Pu(e.arrayValue.values||[],t.arrayValue.values||[],kc);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(rc(n)!==rc(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!kc(n[i],r[i])))return!1;return!0}(e,t);default:return pu()}}function Cc(e,t){return void 0!==(e.values||[]).find((e=>kc(e,t)))}function Tc(e,t){if(e===t)return 0;const n=xc(e),r=xc(t);if(n!==r)return Lu(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Lu(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=mc(e.integerValue||e.doubleValue),r=mc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ic(e.timestampValue,t.timestampValue);case 4:return Ic(wc(e),wc(t));case 5:return Lu(e.stringValue,t.stringValue);case 6:return function(e,t){const n=vc(e),r=vc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Lu(n[i],r[i]);if(0!==e)return e}return Lu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Lu(mc(e.latitude),mc(t.latitude));return 0!==n?n:Lu(mc(e.longitude),mc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Lc(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const o=e.fields||{},a=t.fields||{},l=null===(n=o.value)||void 0===n?void 0:n.arrayValue,u=null===(r=a.value)||void 0===r?void 0:r.arrayValue,c=Lu((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==u?void 0:u.values)||void 0===s?void 0:s.length)||0);return 0!==c?c:Lc(l,u)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Sc.mapValue&&t===Sc.mapValue)return 0;if(e===Sc.mapValue)return 1;if(t===Sc.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Lu(r[o],s[o]);if(0!==e)return e;const t=Tc(n[r[o]],i[s[o]]);if(0!==t)return t}return Lu(r.length,s.length)}(e.mapValue,t.mapValue);default:throw pu()}}function Ic(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Lu(e,t);const n=gc(e),r=gc(t),i=Lu(n.seconds,r.seconds);return 0!==i?i:Lu(n.nanos,r.nanos)}function Lc(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Tc(n[i],r[i]);if(e)return e}return Lu(n.length,r.length)}function Pc(e){return Oc(e)}function Oc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=gc(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return vc(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ju.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Oc(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Oc(e.fields[i])}`;return n+"}"}(e.mapValue):pu()}function Ac(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Dc(e){return!!e&&"integerValue"in e}function Rc(e){return!!e&&"arrayValue"in e}function Mc(e){return!!e&&"nullValue"in e}function Nc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function jc(e){return!!e&&"mapValue"in e}function Uc(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Fc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ic(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Fc(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Fc(e.arrayValue.values[n]);return t}return Object.assign({},e)}function zc(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Vc{constructor(e){this.value=e}static empty(){return new Vc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!jc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fc(t)}setAll(e){let t=Nu.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Fc(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());jc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return kc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];jc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ic(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Vc(Fc(this.value))}}function Bc(e){const t=[];return ic(e.fields,((e,n)=>{const r=new Nu([e]);if(jc(n)){const e=Bc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new hc(t)}class $c{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new $c(e,0,Au.min(),Au.min(),Au.min(),Vc.empty(),0)}static newFoundDocument(e,t,n,r){return new $c(e,1,t,Au.min(),n,r,0)}static newNoDocument(e,t){return new $c(e,2,t,Au.min(),Au.min(),Vc.empty(),0)}static newUnknownDocument(e,t){return new $c(e,3,t,Au.min(),Au.min(),Vc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Au.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Au.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $c&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $c(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wc{constructor(e,t){this.position=e,this.inclusive=t}}function Hc(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?ju.comparator(ju.fromName(o.referenceValue),n.key):Tc(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function qc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!kc(e.position[n],t.position[n]))return!1;return!0}class Kc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Gc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Qc{}class Yc extends Qc{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ih(e,t,n):"array-contains"===t?new lh(e,n):"in"===t?new uh(e,n):"not-in"===t?new ch(e,n):"array-contains-any"===t?new hh(e,n):new Yc(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new sh(e,n):new oh(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Tc(t,this.value)):null!==t&&xc(this.value)===xc(t)&&this.matchesComparison(Tc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pu()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jc extends Qc{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Jc(e,t)}matches(e){return Xc(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Xc(e){return"and"===e.op}function Zc(e){return eh(e)&&Xc(e)}function eh(e){for(const t of e.filters)if(t instanceof Jc)return!1;return!0}function th(e){if(e instanceof Yc)return e.field.canonicalString()+e.op.toString()+Pc(e.value);if(Zc(e))return e.filters.map((e=>th(e))).join(",");{const t=e.filters.map((e=>th(e))).join(",");return`${e.op}(${t})`}}function nh(e,t){return e instanceof Yc?function(e,t){return t instanceof Yc&&e.op===t.op&&e.field.isEqual(t.field)&&kc(e.value,t.value)}(e,t):e instanceof Jc?function(e,t){return t instanceof Jc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&nh(n,t.filters[r])),!0)}(e,t):void pu()}function rh(e){return e instanceof Yc?function(e){return`${e.field.canonicalString()} ${e.op} ${Pc(e.value)}`}(e):e instanceof Jc?function(e){return e.op.toString()+" {"+e.getFilters().map(rh).join(" ,")+"}"}(e):"Filter"}class ih extends Yc{constructor(e,t,n){super(e,t,n),this.key=ju.fromName(n.referenceValue)}matches(e){const t=ju.comparator(e.key,this.key);return this.matchesComparison(t)}}class sh extends Yc{constructor(e,t){super(e,"in",t),this.keys=ah("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class oh extends Yc{constructor(e,t){super(e,"not-in",t),this.keys=ah("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ah(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>ju.fromName(e.referenceValue)))}class lh extends Yc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Rc(t)&&Cc(t.arrayValue,this.value)}}class uh extends Yc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Cc(this.value.arrayValue,t)}}class ch extends Yc{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Cc(this.value.arrayValue,t)}}class hh extends Yc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Rc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Cc(this.value.arrayValue,e)))}}class dh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ue=null}}function ph(e){return new dh(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function fh(e){const t=gu(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>th(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Yu(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Pc(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Pc(e))).join(",")),t.ue=e}return t.ue}function gh(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Gc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!nh(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!qc(e.startAt,t.startAt)&&qc(e.endAt,t.endAt)}function mh(e){return ju.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class vh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function yh(e,t,n,r,i,s,o,a){return new vh(e,t,n,r,i,s,o,a)}function bh(e){return new vh(e)}function wh(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Eh(e){return null!==e.collectionGroup}function _h(e){const t=gu(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new uc(Nu.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new Kc(r,n))})),e.has(Nu.keyField().canonicalString())||t.ce.push(new Kc(Nu.keyField(),n))}return t.ce}function Sh(e){const t=gu(e);return t.le||(t.le=xh(t,_h(e))),t.le}function xh(e,t){if("F"===e.limitType)return ph(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Kc(e.field,t)}));const n=e.endAt?new Wc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Wc(e.startAt.position,e.startAt.inclusive):null;return ph(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function kh(e,t){const n=e.filters.concat([t]);return new vh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ch(e,t,n){return new vh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Th(e,t){return gh(Sh(e),Sh(t))&&e.limitType===t.limitType}function Ih(e){return`${fh(Sh(e))}|lt:${e.limitType}`}function Lh(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>rh(e))).join(", ")}]`),Yu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Pc(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Pc(e))).join(",")),`Target(${t})`}(Sh(e))}; limitType=${e.limitType})`}function Ph(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ju.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of _h(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Hc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,_h(e),t))&&!(e.endAt&&!function(e,t,n){const r=Hc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,_h(e),t))}(e,t)}function Oh(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ah(e){return(t,n)=>{let r=!1;for(const i of _h(e)){const e=Dh(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Dh(e,t,n){const r=e.field.isKeyField()?ju.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Tc(r,i):pu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return pu()}}class Rh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ic(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return sc(this.inner)}size(){return this.innerSize}}const Mh=new oc(ju.comparator);function Nh(){return Mh}const jh=new oc(ju.comparator);function Uh(){let e=jh;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Fh(e){let t=jh;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function zh(){return Bh()}function Vh(){return Bh()}function Bh(){return new Rh((e=>e.toString()),((e,t)=>e.isEqual(t)))}const $h=new oc(ju.comparator),Wh=new uc(ju.comparator);function Hh(){let e=Wh;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const qh=new uc(Lu);function Kh(){return qh}function Gh(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ju(t)?"-0":t}}function Qh(e){return{integerValue:""+e}}function Yh(e,t){return Xu(t)?Qh(t):Gh(e,t)}class Jh{constructor(){this._=void 0}}function Xh(e,t,n){return e instanceof td?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&yc(t)&&(t=bc(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof nd?rd(e,t):e instanceof id?sd(e,t):function(e,t){const n=ed(e,t),r=ad(n)+ad(e.Pe);return Dc(n)&&Dc(e.Pe)?Qh(r):Gh(e.serializer,r)}(e,t)}function Zh(e,t,n){return e instanceof nd?rd(e,t):e instanceof id?sd(e,t):n}function ed(e,t){return e instanceof od?function(e){return Dc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class td extends Jh{}class nd extends Jh{constructor(e){super(),this.elements=e}}function rd(e,t){const n=ld(t);for(const r of e.elements)n.some((e=>kc(e,r)))||n.push(r);return{arrayValue:{values:n}}}class id extends Jh{constructor(e){super(),this.elements=e}}function sd(e,t){let n=ld(t);for(const r of e.elements)n=n.filter((e=>!kc(e,r)));return{arrayValue:{values:n}}}class od extends Jh{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function ad(e){return mc(e.integerValue||e.doubleValue)}function ld(e){return Rc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ud{constructor(e,t){this.version=e,this.transformResults=t}}class cd{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new cd}static exists(e){return new cd(void 0,e)}static updateTime(e){return new cd(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class dd{}function pd(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Sd(e.key,cd.none()):new yd(e.key,e.data,cd.none());{const n=e.data,r=Vc.empty();let i=new uc(Nu.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new bd(e.key,r,new hc(i.toArray()),cd.none())}}function fd(e,t,n){e instanceof yd?function(e,t,n){const r=e.value.clone(),i=Ed(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof bd?function(e,t,n){if(!hd(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ed(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(wd(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function gd(e,t,n,r){return e instanceof yd?function(e,t,n,r){if(!hd(e.precondition,t))return n;const i=e.value.clone(),s=_d(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof bd?function(e,t,n,r){if(!hd(e.precondition,t))return n;const i=_d(e.fieldTransforms,r,t),s=t.data;return s.setAll(wd(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return hd(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function md(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=ed(r.transform,e||null);null!=i&&(null===n&&(n=Vc.empty()),n.set(r.field,i))}return n||null}function vd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Pu(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof nd&&t instanceof nd||e instanceof id&&t instanceof id?Pu(e.elements,t.elements,kc):e instanceof od&&t instanceof od?kc(e.Pe,t.Pe):e instanceof td&&t instanceof td}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class yd extends dd{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class bd extends dd{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function wd(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Ed(e,t,n){const r=new Map;fu(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Zh(o,a,n[i]))}return r}function _d(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Xh(e,s,t))}return r}class Sd extends dd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xd extends dd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kd{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&fd(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=gd(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=gd(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Vh();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=pd(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Au.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Hh())}isEqual(e){return this.batchId===e.batchId&&Pu(this.mutations,e.mutations,((e,t)=>vd(e,t)))&&Pu(this.baseMutations,e.baseMutations,((e,t)=>vd(e,t)))}}class Cd{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){fu(e.mutations.length===n.length);let r=$h;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Cd(e,t,n,r)}}class Td{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Id{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ld,Pd;function Od(e){switch(e){default:return pu();case mu.CANCELLED:case mu.UNKNOWN:case mu.DEADLINE_EXCEEDED:case mu.RESOURCE_EXHAUSTED:case mu.INTERNAL:case mu.UNAVAILABLE:case mu.UNAUTHENTICATED:return!1;case mu.INVALID_ARGUMENT:case mu.NOT_FOUND:case mu.ALREADY_EXISTS:case mu.PERMISSION_DENIED:case mu.FAILED_PRECONDITION:case mu.ABORTED:case mu.OUT_OF_RANGE:case mu.UNIMPLEMENTED:case mu.DATA_LOSS:return!0}}function Ad(e){if(void 0===e)return cu("GRPC error has no .code"),mu.UNKNOWN;switch(e){case Ld.OK:return mu.OK;case Ld.CANCELLED:return mu.CANCELLED;case Ld.UNKNOWN:return mu.UNKNOWN;case Ld.DEADLINE_EXCEEDED:return mu.DEADLINE_EXCEEDED;case Ld.RESOURCE_EXHAUSTED:return mu.RESOURCE_EXHAUSTED;case Ld.INTERNAL:return mu.INTERNAL;case Ld.UNAVAILABLE:return mu.UNAVAILABLE;case Ld.UNAUTHENTICATED:return mu.UNAUTHENTICATED;case Ld.INVALID_ARGUMENT:return mu.INVALID_ARGUMENT;case Ld.NOT_FOUND:return mu.NOT_FOUND;case Ld.ALREADY_EXISTS:return mu.ALREADY_EXISTS;case Ld.PERMISSION_DENIED:return mu.PERMISSION_DENIED;case Ld.FAILED_PRECONDITION:return mu.FAILED_PRECONDITION;case Ld.ABORTED:return mu.ABORTED;case Ld.OUT_OF_RANGE:return mu.OUT_OF_RANGE;case Ld.UNIMPLEMENTED:return mu.UNIMPLEMENTED;case Ld.DATA_LOSS:return mu.DATA_LOSS;default:return pu()}}(Pd=Ld||(Ld={}))[Pd.OK=0]="OK",Pd[Pd.CANCELLED=1]="CANCELLED",Pd[Pd.UNKNOWN=2]="UNKNOWN",Pd[Pd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pd[Pd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pd[Pd.NOT_FOUND=5]="NOT_FOUND",Pd[Pd.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pd[Pd.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pd[Pd.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pd[Pd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pd[Pd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pd[Pd.ABORTED=10]="ABORTED",Pd[Pd.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pd[Pd.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pd[Pd.INTERNAL=13]="INTERNAL",Pd[Pd.UNAVAILABLE=14]="UNAVAILABLE",Pd[Pd.DATA_LOSS=15]="DATA_LOSS";let Dd=null;function Rd(){return new TextEncoder}const Md=new Wl([4294967295,4294967295],0);function Nd(e){const t=Rd().encode(e),n=new Hl;return n.update(t),new Uint8Array(n.digest())}function jd(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Wl([n,r],0),new Wl([i,s],0)]}class Ud{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Fd(`Invalid padding: ${t}`);if(n<0)throw new Fd(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Fd(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Fd(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Wl.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(Wl.fromNumber(n)));return 1===r.compare(Md)&&(r=new Wl([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=Nd(e),[n,r]=jd(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Ud(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ie)return;const t=Nd(e),[n,r]=jd(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Fd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zd{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Vd.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new zd(Au.min(),r,new oc(Lu),Nh(),Hh())}}class Vd{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Vd(n,t,Hh(),Hh(),Hh())}}class Bd{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class $d{constructor(e,t){this.targetId=e,this.me=t}}class Wd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pc.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Hd{constructor(){this.fe=0,this.ge=Gd(),this.pe=pc.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Hh(),t=Hh(),n=Hh();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:pu()}})),new Vd(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Gd()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,fu(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class qd{constructor(e){this.Le=e,this.Be=new Map,this.ke=Nh(),this.qe=Kd(),this.Qe=new oc(Lu)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:pu()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(mh(i))if(0===n){const e=new ju(i.path);this.Ue(t,e,$c.newNoDocument(e,Au.min()))}else fu(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==Dd||Dd.et(function(e,t,n,r,i){var s,o,a,l,u,c;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(c=null===(u=null==d?void 0:d.bits)||void 0===u?void 0:u.padding)&&void 0!==c?c:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=vc(n).toUint8Array()}catch(e){if(e instanceof dc)return hu("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new Ud(s,r,i)}catch(e){return hu(e instanceof Fd?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Ie?null:o}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&mh(i.target)){const t=new ju(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,$c.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=Hh();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new zd(e,t,this.Qe,this.ke,n);return this.ke=Nh(),this.qe=Kd(),this.Qe=new oc(Lu),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Hd,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new uc(Lu),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||uu("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Hd),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Kd(){return new oc(ju.comparator)}function Gd(){return new oc(ju.comparator)}const Qd={asc:"ASCENDING",desc:"DESCENDING"},Yd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jd={and:"AND",or:"OR"};class Xd{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Zd(e,t){return e.useProto3Json||Yu(t)?t:{value:t}}function ep(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function tp(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function np(e,t){return ep(e,t.toTimestamp())}function rp(e){return fu(!!e),Au.fromTimestamp(function(e){const t=gc(e);return new Ou(t.seconds,t.nanos)}(e))}function ip(e,t){return sp(e,t).canonicalString()}function sp(e,t){const n=function(e){return new Ru(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function op(e){const t=Ru.fromString(e);return fu(Cp(t)),t}function ap(e,t){return ip(e.databaseId,t.path)}function lp(e,t){const n=op(t);if(n.get(1)!==e.databaseId.projectId)throw new vu(mu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new vu(mu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ju(dp(n))}function up(e,t){return ip(e.databaseId,t)}function cp(e){const t=op(e);return 4===t.length?Ru.emptyPath():dp(t)}function hp(e){return new Ru(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function dp(e){return fu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function pp(e,t,n){return{name:ap(e,t),fields:n.value.mapValue.fields}}function fp(e,t){let n;if(t instanceof yd)n={update:pp(e,t.key,t.value)};else if(t instanceof Sd)n={delete:ap(e,t.key)};else if(t instanceof bd)n={update:pp(e,t.key,t.data),updateMask:kp(t.fieldMask)};else{if(!(t instanceof xd))return pu();n={verify:ap(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof td)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof nd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof id)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof od)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw pu()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:np(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:pu()}(e,t.precondition)),n}function gp(e,t){return{documents:[up(e,t.path)]}}function mp(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=up(e,i);const s=function(e){if(0!==e.length)return xp(Jc.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:_p(e.field),direction:bp(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Zd(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function vp(e){let t=cp(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){fu(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=yp(e);return t instanceof Jc&&Zc(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new Kc(Sp(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Yu(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Wc(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new Wc(n,t)}(n.endAt)),yh(t,i,o,s,a,"F",l,u)}function yp(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Sp(e.unaryFilter.field);return Yc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Sp(e.unaryFilter.field);return Yc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Sp(e.unaryFilter.field);return Yc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Sp(e.unaryFilter.field);return Yc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return pu()}}(e):void 0!==e.fieldFilter?function(e){return Yc.create(Sp(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pu()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Jc.create(e.compositeFilter.filters.map((e=>yp(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return pu()}}(e.compositeFilter.op))}(e):pu()}function bp(e){return Qd[e]}function wp(e){return Yd[e]}function Ep(e){return Jd[e]}function _p(e){return{fieldPath:e.canonicalString()}}function Sp(e){return Nu.fromServerFormat(e.fieldPath)}function xp(e){return e instanceof Yc?function(e){if("=="===e.op){if(Nc(e.value))return{unaryFilter:{field:_p(e.field),op:"IS_NAN"}};if(Mc(e.value))return{unaryFilter:{field:_p(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Nc(e.value))return{unaryFilter:{field:_p(e.field),op:"IS_NOT_NAN"}};if(Mc(e.value))return{unaryFilter:{field:_p(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_p(e.field),op:wp(e.op),value:e.value}}}(e):e instanceof Jc?function(e){const t=e.getFilters().map((e=>xp(e)));return 1===t.length?t[0]:{compositeFilter:{op:Ep(e.op),filters:t}}}(e):pu()}function kp(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Cp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Tp{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Au.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Au.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:pc.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new Tp(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Tp(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Tp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Tp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ip{constructor(e){this.ct=e}}function Lp(e){const t=vp({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ch(t,t.limit,"L"):t}class Pp{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(mc(e.integerValue));else if("doubleValue"in e){const n=mc(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),Ju(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=gc(n)),t.Rt(`${n.seconds||""}`),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(vc(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?zc(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Uc(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):pu()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const i=e.fields||{};this.dt(t,53);const s="value",o=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(mc(o)),this.Vt(s,t),this.Tt(i[s],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),ju.fromName(e).path.forEach((e=>{this.dt(t,60),this.Dt(e,t)}))}dt(e,t){e.At(t)}ft(e){e.At(2)}}Pp.vt=new Pp;class Op{constructor(){this.un=new Ap}addToCollectionParentIndex(e,t){return this.un.add(t),qu.resolve()}getCollectionParents(e,t){return qu.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return qu.resolve()}deleteFieldIndex(e,t){return qu.resolve()}deleteAllFieldIndexes(e){return qu.resolve()}createTargetIndexes(e,t){return qu.resolve()}getDocumentsMatchingTarget(e,t){return qu.resolve(null)}getIndexType(e,t){return qu.resolve(0)}getFieldIndexes(e,t){return qu.resolve([])}getNextCollectionGroupToUpdate(e){return qu.resolve(null)}getMinOffset(e,t){return qu.resolve(Vu.min())}getMinOffsetFromCollectionGroup(e,t){return qu.resolve(Vu.min())}updateCollectionGroup(e,t,n){return qu.resolve()}updateIndexEntries(e,t){return qu.resolve()}}class Ap{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new uc(Ru.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new uc(Ru.comparator)).toArray()}}new Uint8Array(0);class Dp{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Dp(e,Dp.DEFAULT_COLLECTION_PERCENTILE,Dp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Dp.DEFAULT_COLLECTION_PERCENTILE=10,Dp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dp.DEFAULT=new Dp(41943040,Dp.DEFAULT_COLLECTION_PERCENTILE,Dp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dp.DISABLED=new Dp(-1,0,0);class Rp{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Rp(0)}static kn(){return new Rp(-1)}}class Mp{constructor(){this.changes=new Rh((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$c.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?qu.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Np{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class jp{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&gd(n.mutation,e,hc.empty(),Ou.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Hh()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Hh();const r=zh();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Uh();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=zh();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Hh())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Nh();const s=Bh(),o=Bh();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof bd)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),gd(o.mutation,t,o.mutation.getFieldMask(),Ou.now())):s.set(t.key,hc.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new Np(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=Bh();let r=new oc(((e,t)=>e-t)),i=Hh();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||hc.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Hh()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,u=Vh();l.forEach((e=>{if(!i.has(e)){const r=pd(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,u))}return qu.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ju.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Eh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):qu.resolve(zh());let o=-1,a=i;return s.next((t=>qu.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?qu.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Hh()))).next((e=>({batchId:o,changes:Fh(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ju(t)).next((e=>{let t=Uh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Uh();return this.indexManager.getCollectionParents(e,i).next((o=>qu.forEach(o,(o=>{const a=function(e,t){return new vh(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,$c.newInvalidDocument(r)))}));let n=Uh();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&gd(s.mutation,r,hc.empty(),Ou.now()),Ph(t,r)&&(n=n.insert(e,r))})),n}))}}class Up{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return qu.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:rp(e.createTime)}}(t)),qu.resolve()}getNamedQuery(e,t){return qu.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:Lp(e.bundledQuery),readTime:rp(e.readTime)}}(t)),qu.resolve()}}class Fp{constructor(){this.overlays=new oc(ju.comparator),this.Ir=new Map}getOverlay(e,t){return qu.resolve(this.overlays.get(t))}getOverlays(e,t){const n=zh();return qu.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),qu.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Ir.delete(n)),qu.resolve()}getOverlaysForCollection(e,t,n){const r=zh(),i=t.length+1,s=new ju(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return qu.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new oc(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=zh(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=zh(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return qu.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Td(t,n));let i=this.Ir.get(t);void 0===i&&(i=Hh(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}class zp{constructor(){this.sessionToken=pc.EMPTY_BYTE_STRING}getSessionToken(e){return qu.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,qu.resolve()}}class Vp{constructor(){this.Tr=new uc(Bp.Er),this.dr=new uc(Bp.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new Bp(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Vr(new Bp(e,t))}mr(e,t){e.forEach((e=>this.removeReference(e,t)))}gr(e){const t=new ju(new Ru([])),n=new Bp(t,e),r=new Bp(t,e+1),i=[];return this.dr.forEachInRange([n,r],(e=>{this.Vr(e),i.push(e.key)})),i}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new ju(new Ru([])),n=new Bp(t,e),r=new Bp(t,e+1);let i=Hh();return this.dr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Bp(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Bp{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ju.comparator(e.key,t.key)||Lu(e.wr,t.wr)}static Ar(e,t){return Lu(e.wr,t.wr)||ju.comparator(e.key,t.key)}}class $p{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new uc(Bp.Er)}checkEmpty(e){return qu.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new kd(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.br=this.br.add(new Bp(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return qu.resolve(s)}lookupMutationBatch(e,t){return qu.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return qu.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return qu.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return qu.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Bp(t,0),r=new Bp(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],(e=>{const t=this.Dr(e.wr);i.push(t)})),qu.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new uc(Lu);return t.forEach((e=>{const t=new Bp(e,0),r=new Bp(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],(e=>{n=n.add(e.wr)}))})),qu.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ju.isDocumentKey(i)||(i=i.child(""));const s=new Bp(new ju(i),0);let o=new uc(Lu);return this.br.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.wr)),!0)}),s),qu.resolve(this.Cr(o))}Cr(e){const t=[];return e.forEach((e=>{const n=this.Dr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){fu(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return qu.forEach(t.mutations,(r=>{const i=new Bp(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,t){const n=new Bp(t,0),r=this.br.firstAfterOrEqual(n);return qu.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,qu.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Wp{constructor(e){this.Mr=e,this.docs=new oc(ju.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return qu.resolve(n?n.document.mutableCopy():$c.newInvalidDocument(t))}getEntries(e,t){let n=Nh();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():$c.newInvalidDocument(e))})),qu.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Nh();const s=t.path,o=new ju(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Bu(zu(o),n)<=0||(r.has(o.key)||Ph(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return qu.resolve(i)}getAllFromCollectionGroup(e,t,n,r){pu()}Or(e,t){return qu.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Hp(this)}getSize(e){return qu.resolve(this.size)}}class Hp extends Mp{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)})),qu.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class qp{constructor(e){this.persistence=e,this.Nr=new Rh((e=>fh(e)),gh),this.lastRemoteSnapshotVersion=Au.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Vp,this.targetCount=0,this.kr=Rp.Bn()}forEachTarget(e,t){return this.Nr.forEach(((e,n)=>t(n))),qu.resolve()}getLastRemoteSnapshotVersion(e){return qu.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return qu.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),qu.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),qu.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Rp(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,qu.resolve()}updateTargetData(e,t){return this.Kn(t),qu.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,qu.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),qu.waitFor(i).next((()=>r))}getTargetCount(e){return qu.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return qu.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),qu.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),qu.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),qu.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return qu.resolve(n)}containsKey(e,t){return qu.resolve(this.Br.containsKey(t))}}class Kp{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Qu(0),this.Kr=!1,this.Kr=!0,this.$r=new zp,this.referenceDelegate=e(this),this.Ur=new qp(this),this.indexManager=new Op,this.remoteDocumentCache=function(e){return new Wp(e)}((e=>this.referenceDelegate.Wr(e))),this.serializer=new Ip(t),this.Gr=new Up(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Fp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new $p(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){uu("MemoryPersistence","Starting transaction:",e);const r=new Gp(this.Qr.next());return this.referenceDelegate.zr(),n(r).next((e=>this.referenceDelegate.jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Hr(e,t){return qu.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,t))))}}class Gp extends Wu{constructor(e){super(),this.currentSequenceNumber=e}}class Qp{constructor(e){this.persistence=e,this.Jr=new Vp,this.Yr=null}static Zr(e){return new Qp(e)}get Xr(){if(this.Yr)return this.Yr;throw pu()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),qu.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),qu.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),qu.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((e=>this.Xr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Xr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qu.forEach(this.Xr,(n=>{const r=ju.fromPath(n);return this.ei(e,r).next((e=>{e||t.removeEntry(r,Au.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return qu.or([()=>qu.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Yp{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=Hh(),r=Hh();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Yp(e,t.fromCache,n,r)}}class Jp{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Xp{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=Rr()?8:Ku(Ar())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Zi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Jp;return this.Xi(e,t,n).next((r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)}))})).next((()=>i.result))}es(e,t,n,r){return n.documentReadCount<this.ji?(lu()<=ti.DEBUG&&uu("QueryEngine","SDK will not create cache indexes for query:",Lh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),qu.resolve()):(lu()<=ti.DEBUG&&uu("QueryEngine","Query:",Lh(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(lu()<=ti.DEBUG&&uu("QueryEngine","The SDK decides to create cache indexes for query:",Lh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sh(t))):qu.resolve())}Yi(e,t){if(wh(t))return qu.resolve(null);let n=Sh(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Ch(t,null,"F"),n=Sh(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Hh(...r);return this.Ji.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.ts(t,r);return this.ns(t,s,i,n.readTime)?this.Yi(e,Ch(t,null,"F")):this.rs(e,s,t,n)}))))})))))}Zi(e,t,n,r){return wh(t)||r.isEqual(Au.min())?qu.resolve(null):this.Ji.getDocuments(e,n).next((i=>{const s=this.ts(t,i);return this.ns(t,s,n,r)?qu.resolve(null):(lu()<=ti.DEBUG&&uu("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Lh(t)),this.rs(e,s,t,Fu(r,-1)).next((e=>e)))}))}ts(e,t){let n=new uc(Ah(e));return t.forEach(((t,r)=>{Ph(e,r)&&(n=n.add(r))})),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return lu()<=ti.DEBUG&&uu("QueryEngine","Using full collection scan to execute query:",Lh(t)),this.Ji.getDocumentsMatchingQuery(e,t,Vu.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Zp{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new oc(Lu),this._s=new Rh((e=>fh(e)),gh),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jp(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function ef(e,t,n,r){return new Zp(e,t,n,r)}async function tf(e,t){const n=gu(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=Hh();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({hs:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function nf(e){const t=gu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ur.getLastRemoteSnapshotVersion(e)))}function rf(e,t,n){let r=Hh(),i=Hh();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Nh();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Au.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):uu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{Ps:r,Is:i}}))}function sf(e,t){const n=gu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function of(e,t){const n=gu(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ur.getTargetData(e,t).next((i=>i?(r=i,qu.resolve(r)):n.Ur.allocateTargetId(e).next((i=>(r=new Tp(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e}))}async function af(e,t,n){const r=gu(e),i=r.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Gu(e))throw e;uu("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.os=r.os.remove(t),r._s.delete(i.target)}function lf(e,t,n){const r=gu(e);let i=Au.min(),s=Hh();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=gu(e),i=r._s.get(n);return void 0!==i?qu.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,Sh(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:Au.min(),n?s:Hh()))).next((e=>(uf(r,Oh(t),e),{documents:e,Ts:s})))))}function uf(e,t,n){let r=e.us.get(t)||Au.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.us.set(t,r)}class cf{constructor(){this.activeTargetIds=Kh()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hf{constructor(){this.so=new cf,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new cf,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class df{_o(e){}shutdown(){}}class pf{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){uu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){uu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ff=null;function gf(){return null===ff?ff=268435456+Math.round(2147483648*Math.random()):ff++,"0x"+ff.toString(16)}const mf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vf{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const yf="WebChannelConnection";class bf extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo=`projects/${n}/databases/${r}`,this.Co="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get Fo(){return!1}Mo(e,t,n,r,i){const s=gf(),o=this.xo(e,t.toUriEncodedString());uu("RestConnection",`Sending RPC '${e}' ${s}:`,o,n);const a={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(a,r,i),this.No(e,o,a,n).then((t=>(uu("RestConnection",`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw hu("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",o,"request:",n),t}))}Lo(e,t,n,r,i,s){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ou,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}xo(e,t){const n=mf[e];return`${this.Do}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=gf();return new Promise(((s,o)=>{const a=new Gl;a.setWithCredentials(!0),a.listenOnce(Yl.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Jl.NO_ERROR:const t=a.getResponseJson();uu(yf,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case Jl.TIMEOUT:uu(yf,`RPC '${e}' ${i} timed out`),o(new vu(mu.DEADLINE_EXCEEDED,"Request time out"));break;case Jl.HTTP_ERROR:const n=a.getStatus();if(uu(yf,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(mu).indexOf(t)>=0?t:mu.UNKNOWN}(t.status);o(new vu(e,t.message))}else o(new vu(mu.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new vu(mu.UNAVAILABLE,"Connection failed."));break;default:pu()}}finally{uu(yf,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);uu(yf,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)}))}Bo(e,t,n){const r=gf(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=tu(),o=eu(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Oo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");uu(yf,`Creating RPC '${e}' stream ${r}: ${u}`,a);const c=s.createWebChannel(u,a);let h=!1,d=!1;const p=new vf({Io:t=>{d?uu(yf,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(uu(yf,`Opening RPC '${e}' stream ${r} transport.`),c.open(),h=!0),uu(yf,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},To:()=>c.close()}),f=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return f(c,Ql.EventType.OPEN,(()=>{d||(uu(yf,`RPC '${e}' stream ${r} transport opened.`),p.yo())})),f(c,Ql.EventType.CLOSE,(()=>{d||(d=!0,uu(yf,`RPC '${e}' stream ${r} transport closed`),p.So())})),f(c,Ql.EventType.ERROR,(t=>{d||(d=!0,hu(yf,`RPC '${e}' stream ${r} transport errored:`,t),p.So(new vu(mu.UNAVAILABLE,"The operation could not be completed")))})),f(c,Ql.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];fu(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){uu(yf,`RPC '${e}' stream ${r} received error:`,o);const t=o.status;let n=function(e){const t=Ld[e];if(void 0!==t)return Ad(t)}(t),i=o.message;void 0===n&&(n=mu.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,p.So(new vu(n,i)),c.close()}else uu(yf,`RPC '${e}' stream ${r} received:`,i),p.bo(i)}})),f(o,Zl.STAT_EVENT,(t=>{t.stat===Xl.PROXY?uu(yf,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Xl.NOPROXY&&uu(yf,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{p.wo()}),0),p}}function wf(){return"undefined"!=typeof document?document:null}function Ef(e){return new Xd(e,!0)}class _f{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&uu("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Sf{constructor(e,t,n,r,i,s,o,a){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new _f(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===mu.RESOURCE_EXHAUSTED?(cu(t.toString()),cu("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===mu.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)}),(t=>{e((()=>{const e=new vu(mu.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)}))}))}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((e=>{n((()=>this.I_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.e_?this.E_(e):this.onNext(e)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return uu("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(uu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xf extends Sf{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:pu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(fu(void 0===t||"string"==typeof t),pc.fromBase64String(t||"")):(fu(void 0===t||t instanceof Buffer||t instanceof Uint8Array),pc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?mu.UNKNOWN:Ad(e.code);return new vu(t,e.message||"")}(o);n=new Wd(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=lp(e,r.document.name),s=rp(r.document.updateTime),o=r.document.createTime?rp(r.document.createTime):Au.min(),a=new Vc({mapValue:{fields:r.document.fields}}),l=$c.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Bd(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=lp(e,r.document),s=r.readTime?rp(r.readTime):Au.min(),o=$c.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Bd([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=lp(e,r.document),s=r.removedTargetIds||[];n=new Bd([],s,i,null)}else{if(!("filter"in t))return pu();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Id(r,i),o=e.targetId;n=new $d(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Au.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Au.min():t.readTime?rp(t.readTime):Au.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=hp(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=mh(r)?{documents:gp(e,r)}:{query:mp(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=tp(e,t.resumeToken);const r=Zd(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Au.min())>0){n.readTime=ep(e,t.snapshotVersion.toTimestamp());const r=Zd(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pu()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=hp(this.serializer),t.removeTarget=e,this.a_(t)}}class kf extends Sf{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return fu(!!e.streamToken),this.lastStreamToken=e.streamToken,fu(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){fu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(fu(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?rp(e.updateTime):rp(t);return n.isEqual(Au.min())&&(n=rp(t)),new ud(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=rp(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=hp(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>fp(this.serializer,e)))};this.a_(t)}}class Cf extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new vu(mu.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.Mo(e,sp(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===mu.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new vu(mu.UNKNOWN,e.toString())}))}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.Lo(e,sp(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===mu.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new vu(mu.UNKNOWN,e.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class Tf{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(cu(t),this.D_=!1):uu("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class If{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o((e=>{n.enqueueAndForget((async()=>{jf(this)&&(uu("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=gu(e);t.L_.add(4),await Pf(t),t.q_.set("Unknown"),t.L_.delete(4),await Lf(t)}(this))}))})),this.q_=new Tf(n,r)}}async function Lf(e){if(jf(e))for(const t of e.B_)await t(!0)}async function Pf(e){for(const t of e.B_)await t(!1)}function Of(e,t){const n=gu(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),Nf(n)?Mf(n):ng(n).r_()&&Df(n,t))}function Af(e,t){const n=gu(e),r=ng(n);n.N_.delete(t),r.r_()&&Rf(n,t),0===n.N_.size&&(r.r_()?r.o_():jf(n)&&n.q_.set("Unknown"))}function Df(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Au.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ng(e).A_(t)}function Rf(e,t){e.Q_.xe(t),ng(e).R_(t)}function Mf(e){e.Q_=new qd({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),ng(e).start(),e.q_.v_()}function Nf(e){return jf(e)&&!ng(e).n_()&&e.N_.size>0}function jf(e){return 0===gu(e).L_.size}function Uf(e){e.Q_=void 0}async function Ff(e){e.q_.set("Online")}async function zf(e){e.N_.forEach(((t,n)=>{Df(e,t)}))}async function Vf(e,t){Uf(e),Nf(e)?(e.q_.M_(t),Mf(e)):e.q_.set("Unknown")}async function Bf(e,t,n){if(e.q_.set("Online"),t instanceof Wd&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){uu("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await $f(e,n)}else if(t instanceof Bd?e.Q_.Ke(t):t instanceof $d?e.Q_.He(t):e.Q_.We(t),!n.isEqual(Au.min()))try{const t=await nf(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(pc.EMPTY_BYTE_STRING,r.snapshotVersion)),Rf(e,t);const i=new Tp(r.target,t,n,r.sequenceNumber);Df(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){uu("RemoteStore","Failed to raise snapshot:",t),await $f(e,t)}}async function $f(e,t,n){if(!Gu(t))throw t;e.L_.add(1),await Pf(e),e.q_.set("Offline"),n||(n=()=>nf(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{uu("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await Lf(e)}))}function Wf(e,t){return t().catch((n=>$f(e,n,t)))}async function Hf(e){const t=gu(e),n=rg(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;qf(t);)try{const e=await sf(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,Kf(t,e)}catch(e){await $f(t,e)}Gf(t)&&Qf(t)}function qf(e){return jf(e)&&e.O_.length<10}function Kf(e,t){e.O_.push(t);const n=rg(e);n.r_()&&n.V_&&n.m_(t.mutations)}function Gf(e){return jf(e)&&!rg(e).n_()&&e.O_.length>0}function Qf(e){rg(e).start()}async function Yf(e){rg(e).p_()}async function Jf(e){const t=rg(e);for(const n of e.O_)t.m_(n.mutations)}async function Xf(e,t,n){const r=e.O_.shift(),i=Cd.from(r,t,n);await Wf(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Hf(e)}async function Zf(e,t){t&&rg(e).V_&&await async function(e,t){if(function(e){return Od(e)&&e!==mu.ABORTED}(t.code)){const n=e.O_.shift();rg(e).s_(),await Wf(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Hf(e)}}(e,t),Gf(e)&&Qf(e)}async function eg(e,t){const n=gu(e);n.asyncQueue.verifyOperationInProgress(),uu("RemoteStore","RemoteStore received new credentials");const r=jf(n);n.L_.add(3),await Pf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await Lf(n)}async function tg(e,t){const n=gu(e);t?(n.L_.delete(2),await Lf(n)):t||(n.L_.add(2),await Pf(n),n.q_.set("Unknown"))}function ng(e){return e.K_||(e.K_=function(e,t,n){const r=gu(e);return r.w_(),new xf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:Ff.bind(null,e),Ro:zf.bind(null,e),mo:Vf.bind(null,e),d_:Bf.bind(null,e)}),e.B_.push((async t=>{t?(e.K_.s_(),Nf(e)?Mf(e):e.q_.set("Unknown")):(await e.K_.stop(),Uf(e))}))),e.K_}function rg(e){return e.U_||(e.U_=function(e,t,n){const r=gu(e);return r.w_(),new kf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Yf.bind(null,e),mo:Zf.bind(null,e),f_:Jf.bind(null,e),g_:Xf.bind(null,e)}),e.B_.push((async t=>{t?(e.U_.s_(),await Hf(e)):(await e.U_.stop(),e.O_.length>0&&(uu("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))}))),e.U_}class ig{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new yu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new ig(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vu(mu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(e,t){if(cu("AsyncQueue",`${t}: ${e}`),Gu(e))return new vu(mu.UNAVAILABLE,`${t}: ${e}`);throw e}class og{constructor(e){this.comparator=e?(t,n)=>e(t,n)||ju.comparator(t.key,n.key):(e,t)=>ju.comparator(e.key,t.key),this.keyedMap=Uh(),this.sortedSet=new oc(this.comparator)}static emptySet(e){return new og(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof og))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new og;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class ag{constructor(){this.W_=new oc(ju.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):pu():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class lg{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new lg(e,t,og.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Th(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class ug{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class cg{constructor(){this.queries=hg(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=gu(e),r=n.queries;n.queries=hg(),r.forEach(((e,n)=>{for(const r of n.j_)r.onError(t)}))}(this,new vu(mu.ABORTED,"Firestore shutting down"))}}function hg(){return new Rh((e=>Ih(e)),Th)}async function dg(e,t){const n=gu(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.H_()&&t.J_()&&(r=2):(s=new ug,r=t.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=sg(e,`Initialization of query '${Lh(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&mg(n)}async function pg(e,t){const n=gu(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.j_.indexOf(t);e>=0&&(s.j_.splice(e,1),0===s.j_.length?i=t.J_()?0:1:!s.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function fg(e,t){const n=gu(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&mg(n)}function gg(e,t,n){const r=gu(e),i=r.queries.get(t);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(t)}function mg(e){e.Y_.forEach((e=>{e.next()}))}var vg,yg;(yg=vg||(vg={})).ea="default",yg.Cache="cache";class bg{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new lg(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=lg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==vg.Cache}}class wg{constructor(e){this.key=e}}class Eg{constructor(e){this.key=e}}class _g{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Hh(),this.mutatedKeys=Hh(),this.Aa=Ah(e),this.Ra=new og(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new ag,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=Ph(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let p=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),p=!0):this.ga(u,c)||(n.track({type:2,doc:c}),p=!0,(a&&this.Aa(c,a)>0||l&&this.Aa(c,l)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),p=!0):u&&!c&&(n.track({type:1,doc:u}),p=!0,(a||l)&&(o=!0)),p&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:s,fa:n,ns:o,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pu()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc))),this.pa(n),r=null!=r&&r;const o=t&&!r?this.ya():[],a=0===this.da.size&&this.current&&!r?1:0,l=a!==this.Ea;return this.Ea=a,0!==s.length||l?{snapshot:new lg(this.query,e.Ra,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ag,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((e=>this.Ta=this.Ta.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ta=this.Ta.delete(e))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Hh(),this.Ra.forEach((e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))}));const t=[];return e.forEach((e=>{this.da.has(e)||t.push(new Eg(e))})),this.da.forEach((n=>{e.has(n)||t.push(new wg(n))})),t}ba(e){this.Ta=e.Ts,this.da=Hh();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return lg.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Sg{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class xg{constructor(e){this.key=e,this.va=!1}}class kg{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Rh((e=>Ih(e)),Th),this.Ma=new Map,this.xa=new Set,this.Oa=new oc(ju.comparator),this.Na=new Map,this.La=new Vp,this.Ba={},this.ka=new Map,this.qa=Rp.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function Cg(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Kg(e);let i;const s=r.Fa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Ig(r,t,n,!0),i}async function Tg(e,t){const n=Kg(e);await Ig(n,t,!0,!1)}async function Ig(e,t,n,r){const i=await of(e.localStore,Sh(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await Lg(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&Of(e.remoteStore,i),a}async function Lg(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await lf(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ma(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return Vg(e,t.targetId,a.wa),a.snapshot}(e,t,n,r);const s=await lf(e.localStore,t,!0),o=new _g(t,s.Ts),a=o.ma(s.documents),l=Vd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=o.applyChanges(a,e.isPrimaryClient,l);Vg(e,n,u.wa);const c=new Sg(t,n,o);return e.Fa.set(t,c),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),u.snapshot}async function Pg(e,t,n){const r=gu(e),i=r.Fa.get(t),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter((e=>!Th(e,t)))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await af(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Af(r.remoteStore,i.targetId),Fg(r,i.targetId)})).catch(Hu)):(Fg(r,i.targetId),await af(r.localStore,i.targetId,!0))}async function Og(e,t){const n=gu(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Af(n.remoteStore,r.targetId))}async function Ag(e,t){const n=gu(e);try{const e=await function(e,t){const n=gu(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Ur.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Ur.addMatchingKeys(e,s.addedDocuments,a))));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(pc.EMPTY_BYTE_STRING,Au.min()).withLastLimboFreeSnapshotVersion(Au.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,s)&&o.push(n.Ur.updateTargetData(e,u))}));let a=Nh(),l=Hh();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(rf(e,s,t.documentUpdates).next((e=>{a=e.Ps,l=e.Is}))),!r.isEqual(Au.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next((t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return qu.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.os=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Na.get(t);r&&(fu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?fu(r.va):e.removedDocuments.size>0&&(fu(r.va),r.va=!1))})),await Wg(n,e,t)}catch(e){await Hu(e)}}function Dg(e,t,n){const r=gu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach(((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=gu(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)})),r&&mg(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Rg(e,t,n){const r=gu(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),s=i&&i.key;if(s){let e=new oc(ju.comparator);e=e.insert(s,$c.newNoDocument(s,Au.min()));const n=Hh().add(s),i=new zd(Au.min(),new Map,new oc(Lu),e,n);await Ag(r,i),r.Oa=r.Oa.remove(s),r.Na.delete(t),$g(r)}else await af(r.localStore,t,!1).then((()=>Fg(r,t,n))).catch(Hu)}async function Mg(e,t){const n=gu(e),r=t.batch.batchId;try{const e=await function(e,t){const n=gu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=qu.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);fu(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Hh();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Ug(n,r,null),jg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wg(n,e)}catch(e){await Hu(e)}}async function Ng(e,t,n){const r=gu(e);try{const e=await function(e,t){const n=gu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(fu(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Ug(r,t,n),jg(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Wg(r,e)}catch(n){await Hu(n)}}function jg(e,t){(e.ka.get(t)||[]).forEach((e=>{e.resolve()})),e.ka.delete(t)}function Ug(e,t,n){const r=gu(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function Fg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach((t=>{e.La.containsKey(t)||zg(e,t)}))}function zg(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(Af(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),$g(e))}function Vg(e,t,n){for(const r of n)r instanceof wg?(e.La.addReference(r.key,t),Bg(e,r)):r instanceof Eg?(uu("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||zg(e,r.key)):pu()}function Bg(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(uu("SyncEngine","New document in limbo: "+n),e.xa.add(r),$g(e))}function $g(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new ju(Ru.fromString(t)),r=e.qa.next();e.Na.set(r,new xg(n)),e.Oa=e.Oa.insert(n,r),Of(e.remoteStore,new Tp(Sh(bh(n.path)),r,"TargetPurposeLimboResolution",Qu.oe))}}async function Wg(e,t,n){const r=gu(e),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach(((e,a)=>{o.push(r.Ka(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Yp.Wi(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.Ca.d_(i),await async function(e,t){const n=gu(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>qu.forEach(t,(t=>qu.forEach(t.$i,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>qu.forEach(t.Ui,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Gu(e))throw e;uu("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,s))}async function Hg(e,t){const n=gu(e);if(!n.currentUser.isEqual(t)){uu("SyncEngine","User change. New user:",t.toKey());const e=await tf(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach((e=>{e.forEach((e=>{e.reject(new vu(mu.CANCELLED,t))}))})),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Wg(n,e.hs)}}function qg(e,t){const n=gu(e),r=n.Na.get(t);if(r&&r.va)return Hh().add(r.key);{let e=Hh();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function Kg(e){const t=gu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ag.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=qg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Rg.bind(null,t),t.Ca.d_=fg.bind(null,t.eventManager),t.Ca.$a=gg.bind(null,t.eventManager),t}function Gg(e){const t=gu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Mg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ng.bind(null,t),t}class Qg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ef(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return ef(this.persistence,new Xp,e.initialUser,this.serializer)}Ga(e){return new Kp(Qp.Zr,this.serializer)}Wa(e){return new hf}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qg.provider={build:()=>new Qg};class Yg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Dg(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Hg.bind(null,this.syncEngine),await tg(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new cg}createDatastore(e){const t=Ef(e.databaseInfo.databaseId),n=function(e){return new bf(e)}(e.databaseInfo);return function(e,t,n,r){return new Cf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new If(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Dg(this.syncEngine,e,0)),pf.D()?new pf:new df)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new kg(e,t,n,r,i,s);return o&&(a.Qa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=gu(e);uu("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await Pf(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Yg.provider={build:()=>new Yg};class Jg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):cu("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class Xg{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=su.UNAUTHENTICATED,this.clientId=Iu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{uu("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(uu("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=sg(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Zg(e,t){e.asyncQueue.verifyOperationInProgress(),uu("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await tf(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function em(e,t){e.asyncQueue.verifyOperationInProgress();const n=await tm(e);uu("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>eg(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>eg(t.remoteStore,n))),e._onlineComponents=t}async function tm(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){uu("FirestoreClient","Using user provided OfflineComponentProvider");try{await Zg(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===mu.FAILED_PRECONDITION||e.code===mu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;hu("Error using user provided cache. Falling back to memory cache: "+n),await Zg(e,new Qg)}}else uu("FirestoreClient","Using default OfflineComponentProvider"),await Zg(e,new Qg);return e._offlineComponents}async function nm(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(uu("FirestoreClient","Using user provided OnlineComponentProvider"),await em(e,e._uninitializedComponentsProvider._online)):(uu("FirestoreClient","Using default OnlineComponentProvider"),await em(e,new Yg))),e._onlineComponents}function rm(e){return nm(e).then((e=>e.syncEngine))}async function im(e){const t=await nm(e),n=t.eventManager;return n.onListen=Cg.bind(null,t.syncEngine),n.onUnlisten=Pg.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Tg.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Og.bind(null,t.syncEngine),n}function sm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new yu;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Jg({next:n=>{s.Za(),t.enqueueAndForget((()=>pg(e,o))),n.fromCache&&"server"===r.source?i.reject(new vu(mu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new bg(n,s,{includeMetadataChanges:!0,_a:!0});return dg(e,o)}(await im(e),e.asyncQueue,t,n,r))),r.promise}function om(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const am=new Map;function lm(e,t,n){if(!n)throw new vu(mu.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function um(e){if(!ju.isDocumentKey(e))throw new vu(mu.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function cm(e){if(ju.isDocumentKey(e))throw new vu(mu.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function hm(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":pu()}function dm(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new vu(mu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hm(e);throw new vu(mu.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function pm(e,t){if(t<=0)throw new vu(mu.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class fm{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new vu(mu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new vu(mu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new vu(mu.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=om(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new vu(mu.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new vu(mu.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new vu(mu.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gm{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new vu(mu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new vu(mu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fm(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new wu;switch(e.type){case"firstParty":return new xu(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new vu(mu.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=am.get(e);t&&(uu("ComponentProvider","Removing Datastore"),am.delete(e),t.terminate())}(this),Promise.resolve()}}class mm{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new mm(this.firestore,e,this._query)}}class vm{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ym(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vm(this.firestore,e,this._key)}}class ym extends mm{constructor(e,t,n){super(e,t,bh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vm(this.firestore,null,new ju(e))}withConverter(e){return new ym(this.firestore,e,this._path)}}function bm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Gr(e),lm("collection","path",t),e instanceof gm){const n=Ru.fromString(t,...r);return cm(n),new ym(e,null,n)}{if(!(e instanceof vm||e instanceof ym))throw new vu(mu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ru.fromString(t,...r));return cm(n),new ym(e.firestore,null,n)}}function wm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Gr(e),1===arguments.length&&(t=Iu.newId()),lm("doc","path",t),e instanceof gm){const n=Ru.fromString(t,...r);return um(n),new vm(e,null,new ju(n))}{if(!(e instanceof vm||e instanceof ym))throw new vu(mu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ru.fromString(t,...r));return um(n),new vm(e.firestore,e instanceof ym?e.converter:null,new ju(n))}}class Em{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new _f(this,"async_queue_retry"),this.Vu=()=>{const e=wf();e&&uu("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=wf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=wf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new yu;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(KC){if(!Gu(KC))throw KC;uu("AsyncQueue","Operation failed with retryable error: "+KC)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw cu("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.du=!1,e))))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=ig.createAndSchedule(this,e,t,n,(e=>this.yu(e)));return this.Tu.push(r),r}fu(){this.Eu&&pu()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class _m extends gm{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Em,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Em(e),this._firestoreClient=void 0,await e}}}function Sm(e){if(e._terminated)throw new vu(mu.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||xm(e),e._firestoreClient}function xm(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Ec(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,om(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Xg(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class km{constructor(e){this._byteString=e}static fromBase64String(e){try{return new km(pc.fromBase64String(e))}catch(e){throw new vu(mu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new km(pc.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Cm{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new vu(mu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nu(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Tm{constructor(e){this._methodName=e}}class Im{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new vu(mu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new vu(mu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Lu(this._lat,e._lat)||Lu(this._long,e._long)}}class Lm{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Pm=/^__.*__$/;class Om{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new bd(e,this.data,this.fieldMask,t,this.fieldTransforms):new yd(e,this.data,t,this.fieldTransforms)}}class Am{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new bd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Dm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pu()}}class Rm{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Rm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Qm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Dm(this.Cu)&&Pm.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Mm{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Ef(e)}Qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Rm({Cu:e,methodName:t,qu:n,path:Nu.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nm(e){const t=e._freezeSettings(),n=Ef(e._databaseId);return new Mm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function jm(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Qu(s.merge||s.mergeFields?2:0,t,n,i);Hm("Data must be an object, but it was:",o,r);const a=$m(r,o);let l,u;if(s.merge)l=new hc(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=qm(t,r,n);if(!o.contains(i))throw new vu(mu.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Ym(e,i)||e.push(i)}l=new hc(e),u=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=o.fieldTransforms;return new Om(new Vc(a),l,u)}class Um extends Tm{_toFieldTransform(e){if(2!==e.Cu)throw 1===e.Cu?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Um}}function Fm(e,t,n,r){const i=e.Qu(1,t,n);Hm("Data must be an object, but it was:",i,r);const s=[],o=Vc.empty();ic(r,((e,r)=>{const a=Gm(t,e,n);r=Gr(r);const l=i.Nu(a);if(r instanceof Um)s.push(a);else{const e=Bm(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new hc(s);return new Am(o,a,i.fieldTransforms)}function zm(e,t,n,r,i,s){const o=e.Qu(1,t,n),a=[qm(t,r,n)],l=[i];if(s.length%2!=0)throw new vu(mu.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(qm(t,s[d])),l.push(s[d+1]);const u=[],c=Vc.empty();for(let d=a.length-1;d>=0;--d)if(!Ym(u,a[d])){const e=a[d];let t=l[d];t=Gr(t);const n=o.Nu(e);if(t instanceof Um)u.push(e);else{const r=Bm(t,n);null!=r&&(u.push(e),c.set(e,r))}}const h=new hc(u);return new Am(c,h,o.fieldTransforms)}function Vm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Bm(n,e.Qu(r?4:3,t))}function Bm(e,t){if(Wm(e=Gr(e)))return Hm("Unsupported field value:",t,e),$m(e,t);if(e instanceof Tm)return function(e,t){if(!Dm(t.Cu))throw t.Bu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Bu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Bm(i,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Gr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Yh(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ou.fromDate(e);return{timestampValue:ep(t.serializer,n)}}if(e instanceof Ou){const n=new Ou(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ep(t.serializer,n)}}if(e instanceof Im)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof km)return{bytesValue:tp(t.serializer,e._byteString)};if(e instanceof vm){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:ip(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Lm)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return Gh(t.serializer,e)}))}}}}}}(e,t);throw t.Bu(`Unsupported field value: ${hm(e)}`)}(e,t)}function $m(e,t){const n={};return sc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ic(e,((e,r)=>{const i=Bm(r,t.Mu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Wm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ou||e instanceof Im||e instanceof km||e instanceof vm||e instanceof Tm||e instanceof Lm)}function Hm(e,t,n){if(!Wm(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=hm(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function qm(e,t,n){if((t=Gr(t))instanceof Cm)return t._internalPath;if("string"==typeof t)return Gm(e,t);throw Qm("Field path arguments must be of type string or ",e,!1,void 0,n)}const Km=new RegExp("[~\\*/\\[\\]]");function Gm(e,t,n){if(t.search(Km)>=0)throw Qm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Cm(...t.split("."))._internalPath}catch(r){throw Qm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Qm(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new vu(mu.INVALID_ARGUMENT,a+e+l)}function Ym(e,t){return e.some((e=>e.isEqual(t)))}class Jm{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new vm(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Xm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Zm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Xm extends Jm{data(){return super.data()}}function Zm(e,t){return"string"==typeof t?Gm(e,t):t instanceof Cm?t._internalPath:t._delegate._internalPath}function ev(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new vu(mu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tv{}class nv extends tv{}function rv(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof tv&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof sv)).length,n=e.filter((e=>e instanceof iv)).length;if(t>1||t>0&&n>0)throw new vu(mu.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class iv extends nv{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new iv(e,t,n)}_apply(e){const t=this._parse(e);return dv(e._query,t),new mm(e.firestore,e.converter,kh(e._query,t))}_parse(e){const t=Nm(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new vu(mu.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){hv(o,s);const t=[];for(const n of o)t.push(cv(r,e,n));a={arrayValue:{values:t}}}else a=cv(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||hv(o,s),a=Vm(n,t,o,"in"===s||"not-in"===s);return Yc.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class sv extends tv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new sv(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Jc.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)dv(n,i),n=kh(n,i)}(e._query,t),new mm(e.firestore,e.converter,kh(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ov extends nv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ov(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new vu(mu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new vu(mu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Kc(t,n)}(e._query,this._field,this._direction);return new mm(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new vh(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function av(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Zm("orderBy",e);return ov._create(n,t)}class lv extends nv{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new lv(e,t,n)}_apply(e){return new mm(e.firestore,e.converter,Ch(e._query,this._limit,this._limitType))}}function uv(e){return pm("limit",e),lv._create("limit",e,"F")}function cv(e,t,n){if("string"==typeof(n=Gr(n))){if(""===n)throw new vu(mu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Eh(t)&&-1!==n.indexOf("/"))throw new vu(mu.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Ru.fromString(n));if(!ju.isDocumentKey(r))throw new vu(mu.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ac(e,new ju(r))}if(n instanceof vm)return Ac(e,n._key);throw new vu(mu.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hm(n)}.`)}function hv(e,t){if(!Array.isArray(e)||0===e.length)throw new vu(mu.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function dv(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new vu(mu.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new vu(mu.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class pv{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(xc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw pu()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return ic(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>mc(e.doubleValue)));return new Lm(i)}convertGeoPoint(e){return new Im(mc(e.latitude),mc(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=bc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(wc(e));default:return null}}convertTimestamp(e){const t=gc(e);return new Ou(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ru.fromString(e);fu(Cp(n));const r=new _c(n.get(1),n.get(3)),i=new ju(n.popFirst(5));return r.isEqual(t)||cu(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function fv(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class gv{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mv extends Jm{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new vv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Zm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class vv extends mv{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class yv{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new gv(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new vv(this._firestore,this._userDataWriter,n.key,n,new gv(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new vu(mu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new vv(e._firestore,e._userDataWriter,n.doc.key,n.doc,new gv(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new vv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new gv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:bv(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function bv(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pu()}}class wv extends pv{constructor(e){super(),this.firestore=e}convertBytes(e){return new km(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vm(this.firestore,null,t)}}function Ev(e){e=dm(e,mm);const t=dm(e.firestore,_m),n=Sm(t),r=new wv(t);return ev(e._query),sm(n,e._query).then((n=>new yv(t,r,e,n)))}function _v(e,t,n){e=dm(e,vm);const r=dm(e.firestore,_m),i=Nm(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=Gr(t))||t instanceof Cm?zm(i,"updateDoc",e._key,t,n,a):Fm(i,"updateDoc",e._key,t),kv(r,[s.toMutation(e._key,cd.exists(!0))])}function Sv(e){return kv(dm(e.firestore,_m),[new Sd(e._key,cd.none())])}function xv(e,t){const n=dm(e.firestore,_m),r=wm(e),i=fv(e.converter,t);return kv(n,[jm(Nm(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,cd.exists(!1))]).then((()=>r))}function kv(e,t){return function(e,t){const n=new yu;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Gg(e);try{const e=await function(e,t){const n=gu(e),r=Ou.now(),i=t.reduce(((e,t)=>e.add(t.key)),Hh());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Nh(),l=Hh();return n.cs.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=md(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new bd(e.key,t,Bc(t.value.mapValue),cd.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Fh(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new oc(Lu)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await Wg(r,e.changes),await Hf(r.remoteStore)}catch(e){const t=sg(e,"Failed to persist write");n.reject(t)}}(await rm(e),t,n))),n.promise}(Sm(e),t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ou=e}(hs),os(new Qr("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new _m(new _u(e.getProvider("auth-internal")),new Cu(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new vu(mu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _c(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),fs(iu,"4.7.3",e),fs(iu,"4.7.3","esm2017")}();const Cv="firebasestorage.googleapis.com",Tv="storageBucket";class Iv extends jr{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Ov(e),`Firebase Storage: ${t} (${Ov(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Iv.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ov(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var Lv,Pv;function Ov(e){return"storage/"+e}function Av(){return new Iv(Lv.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Dv(){return new Iv(Lv.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Rv(){return new Iv(Lv.CANCELED,"User canceled the upload/download.")}function Mv(){return new Iv(Lv.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Nv(e){return new Iv(Lv.INVALID_ARGUMENT,e)}function jv(){return new Iv(Lv.APP_DELETED,"The Firebase app was deleted.")}function Uv(e,t){return new Iv(Lv.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Fv(e){throw new Iv(Lv.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Lv||(Lv={}));class zv{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=zv.makeFromUrl(e,t)}catch(KC){return new zv(e,"")}if(""===n.path)return n;throw r=e,new Iv(Lv.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${o}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp(`^https?://${t===Cv?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new zv(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Iv(Lv.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Vv{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Bv(e){return"string"===typeof e||e instanceof String}function $v(e){return Wv()&&e instanceof Blob}function Wv(){return"undefined"!==typeof Blob}function Hv(e,t,n,r){if(r<t)throw Nv(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Nv(`Invalid value for '${e}'. Expected ${n} or less.`)}function qv(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function Kv(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Gv(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Pv||(Pv={}));class Qv{constructor(e,t,n,r,i,s,o,a,l,u,c){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=c,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new Yv(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Pv.NO_ERROR,i=n.getStatus();if(!t||Gv(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Pv.ABORT;return void e(!1,new Yv(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new Yv(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(KC){r(KC)}else if(null!==i){const e=Av();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?jv():Rv())}else{r(Dv())}};this.canceled_?t(0,new Yv(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let u=!1;function c(){if(!u){u=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((()=>{i=null,e(p,l())}),t)}function d(){s&&clearTimeout(s)}function p(e){if(u)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void c.call(null,e,...n);if(l()||o)return d(),void c.call(null,e,...n);let s;r<64&&(r*=2),1===a?(a=2,s=0):s=1e3*(r+Math.random()),h(s)}let f=!1;function g(e){f||(f=!0,d(),u||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),s=setTimeout((()=>{o=!0,g(!0)}),n),g}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Yv{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Jv(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Xv(){const e=Jv();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Wv())return new Blob(n);throw new Iv(Lv.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Zv(e){if("undefined"===typeof atob)throw t="base-64",new Iv(Lv.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}const ey="raw",ty="base64",ny="base64url",ry="data_url";class iy{constructor(e,t){this.data=e,this.contentType=t||null}}function sy(e,t){switch(e){case ey:return new iy(oy(t));case ty:case ny:return new iy(ay(e,t));case ry:return new iy(function(e){const t=new ly(e);return t.base64?ay(ty,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(KC){throw Uv(ry,"Malformed data URL.")}return oy(t)}(t.rest)}(t),new ly(t).contentType)}throw Av()}function oy(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function ay(e,t){switch(e){case ty:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw Uv(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case ny:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw Uv(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Zv(t)}catch(KC){if(KC.message.includes("polyfill"))throw KC;throw Uv(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class ly{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Uv(ry,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class uy{constructor(e,t){let n=0,r="";$v(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if($v(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new uy(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new uy(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Wv()){const e=t.map((e=>e instanceof uy?e.data_:e));return new uy(Xv.apply(null,e))}{const e=t.map((e=>Bv(e)?sy(ey,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new uy(r,!0)}}uploadData(){return this.data_}}function cy(e){let t;try{t=JSON.parse(e)}catch(KC){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function hy(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function dy(e,t){return t}class py{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||dy}}let fy=null;function gy(){if(fy)return fy;const e=[];e.push(new py("bucket")),e.push(new py("generation")),e.push(new py("metageneration")),e.push(new py("name","fullPath",!0));const t=new py("name");t.xform=function(e,t){return function(e){return!Bv(e)||e.length<2?e:hy(e)}(t)},e.push(t);const n=new py("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new py("timeCreated")),e.push(new py("updated")),e.push(new py("md5Hash",null,!0)),e.push(new py("cacheControl",null,!0)),e.push(new py("contentDisposition",null,!0)),e.push(new py("contentEncoding",null,!0)),e.push(new py("contentLanguage",null,!0)),e.push(new py("contentType",null,!0)),e.push(new py("metadata","customMetadata",!0)),fy=e,fy}function my(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new zv(n,r);return t._makeStorageReference(i)}})}(r,e),r}function vy(e,t,n){const r=cy(t);if(null===r)return null;return my(e,r,n)}function yy(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class by{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function wy(e){if(!e)throw Av()}function Ey(e,t){return function(n,r){const i=vy(e,r,t);return wy(null!==i),i}}function _y(e,t){return function(n,r){const i=vy(e,r,t);return wy(null!==i),function(e,t,n,r){const i=cy(t);if(null===i)return null;if(!Bv(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent,a=s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return qv("/b/"+o(i)+"/o/"+o(s),n,r)+Kv({alt:"media",token:t})}));return a[0]}(i,r,e.host,e._protocol)}}function Sy(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Iv(Lv.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Iv(Lv.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new Iv(Lv.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Iv(Lv.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function xy(e){const t=Sy(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new Iv(Lv.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function ky(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Cy(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+a;const l=ky(t,r,i),u="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+yy(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",c="\r\n--"+a+"--",h=uy.getBlob(u,r,c);if(null===h)throw Mv();const d={name:l.fullPath},p=qv(s,e.host,e._protocol),f=e.maxUploadRetryTime,g=new by(p,"POST",Ey(e,n),f);return g.urlParams=d,g.headers=o,g.body=h.uploadData(),g.errorHandler=Sy(t),g}class Ty{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Pv.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=Pv.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=Pv.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw Fv("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fv("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fv("cannot .getStatus() before sending");try{return this.xhr_.status}catch(KC){return-1}}getResponse(){if(!this.sent_)throw Fv("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fv("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Iy extends Ty{initXhr(){this.xhr_.responseType="text"}}function Ly(){return new Iy}class Py{constructor(e,t){this._service=e,this._location=t instanceof zv?t:zv.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Py(e,t)}get root(){const e=new zv(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return hy(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new zv(this._location.bucket,e);return new Py(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Iv(Lv.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Oy(e,t,n){e._throwIfRoot("uploadBytes");const r=Cy(e.storage,e._location,gy(),new uy(t,!0),n);return e.storage.makeRequestWithTokens(r,Ly).then((t=>({metadata:t,ref:e})))}function Ay(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=qv(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new by(r,"GET",_y(e,n),i);return s.errorHandler=xy(t),s}(e.storage,e._location,gy());return e.storage.makeRequestWithTokens(t,Ly).then((e=>{if(null===e)throw new Iv(Lv.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Dy(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=qv(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new by(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=xy(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Ly)}function Ry(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new zv(e._location.bucket,n);return new Py(e.storage,r)}function My(e,t){if(e instanceof Uy){const n=e;if(null==n._bucket)throw new Iv(Lv.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Tv+"' property when initializing the app?");const r=new Py(n,n._bucket);return null!=t?My(r,t):r}return void 0!==t?Ry(e,t):e}function Ny(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Uy)return new Py(e,t);throw Nv("To use ref(service, url), the first argument must be a Storage instance.")}return My(e,t)}function jy(e,t){const n=null===t||void 0===t?void 0:t[Tv];return null==n?null:zv.makeFromBucketSpec(n,e)}class Uy{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Cv,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?zv.makeFromBucketSpec(r,this._host):jy(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=zv.makeFromBucketSpec(this._url,e):this._bucket=jy(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Hv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Hv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Py(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Vv(jv());{const s=function(e,t,n,r,i,s){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=Kv(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new Qv(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Fy="@firebase/storage",zy="0.13.2",Vy="storage";function By(e,t,n){return Oy(e=Gr(e),t,n)}function $y(e){return Ay(e=Gr(e))}function Wy(e,t){return Ny(e=Gr(e),t)}function Hy(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Uy(r,i,s,n,hs)}os(new Qr(Vy,Hy,"PUBLIC").setMultipleInstances(!0)),fs(Fy,zy,""),fs(Fy,zy,"esm2017");const qy="@firebase/installations",Ky="0.6.9",Gy=1e4,Qy=`w:${Ky}`,Yy="FIS_v2",Jy=36e5,Xy=new Ur("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Zy(e){return e instanceof jr&&e.code.includes("request-failed")}function eb(e){let{projectId:t}=e;return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function tb(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function nb(e,t){const n=(await t.json()).error;return Xy.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function rb(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function ib(e,t){let{refreshToken:n}=t;const r=rb(e);return r.append("Authorization",function(e){return`${Yy} ${e}`}(n)),r}async function sb(e){const t=await e();return t.status>=500&&t.status<600?e():t}function ob(e){return new Promise((t=>{setTimeout(t,e)}))}const ab=/^[cdef][\w-]{21}$/;function lb(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return ab.test(t)?t:""}catch(e){return""}}function ub(e){return`${e.appName}!${e.appId}`}const cb=new Map;function hb(e,t){const n=ub(e);db(n,t),function(e,t){const n=fb();n&&n.postMessage({key:e,fid:t});gb()}(n,t)}function db(e,t){const n=cb.get(e);if(n)for(const r of n)r(t)}let pb=null;function fb(){return!pb&&"BroadcastChannel"in self&&(pb=new BroadcastChannel("[Firebase] FID Change"),pb.onmessage=e=>{db(e.data.key,e.data.fid)}),pb}function gb(){0===cb.size&&pb&&(pb.close(),pb=null)}const mb="firebase-installations-store";let vb=null;function yb(){return vb||(vb=bi("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(mb)}})),vb}async function bb(e,t){const n=ub(e),r=(await yb()).transaction(mb,"readwrite"),i=r.objectStore(mb),s=await i.get(n);return await i.put(t,n),await r.done,s&&s.fid===t.fid||hb(e,t.fid),t}async function wb(e){const t=ub(e),n=(await yb()).transaction(mb,"readwrite");await n.objectStore(mb).delete(t),await n.done}async function Eb(e,t){const n=ub(e),r=(await yb()).transaction(mb,"readwrite"),i=r.objectStore(mb),s=await i.get(n),o=t(s);return void 0===o?await i.delete(n):await i.put(o,n),await r.done,!o||s&&s.fid===o.fid||hb(e,o.fid),o}async function _b(e){let t;const n=await Eb(e.appConfig,(n=>{const r=function(e){const t=e||{fid:lb(),registrationStatus:0};return kb(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Xy.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const s=eb(n),o=rb(n),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const l={fid:i,authVersion:Yy,appId:n.appId,sdkVersion:Qy},u={method:"POST",headers:o,body:JSON.stringify(l)},c=await sb((()=>fetch(s,u)));if(c.ok){const e=await c.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:tb(e.authToken)}}throw await nb("Create Installation",c)}(e,t);return bb(e.appConfig,n)}catch(KC){throw Zy(KC)&&409===KC.customData.serverCode?await wb(e.appConfig):await bb(e.appConfig,{fid:t.fid,registrationStatus:0}),KC}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Sb(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function Sb(e){let t=await xb(e.appConfig);for(;1===t.registrationStatus;)await ob(100),t=await xb(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await _b(e);return n||t}return t}function xb(e){return Eb(e,(e=>{if(!e)throw Xy.create("installation-not-found");return kb(e)}))}function kb(e){return 1===(t=e).registrationStatus&&t.registrationTime+Gy<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Cb(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return`${eb(e)}/${n}/authTokens:generate`}(n,t),s=ib(n,t),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const a={installation:{sdkVersion:Qy,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(a)},u=await sb((()=>fetch(i,l)));if(u.ok){return tb(await u.json())}throw await nb("Generate Auth Token",u)}async function Tb(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await Eb(e.appConfig,(r=>{if(!Lb(r))throw Xy.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Jy}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await Ib(e.appConfig);for(;1===n.authToken.requestStatus;)await ob(100),n=await Ib(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Tb(e,t):r}(e,n),r;{if(!navigator.onLine)throw Xy.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await Cb(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await bb(e.appConfig,r),n}catch(KC){if(!Zy(KC)||401!==KC.customData.serverCode&&404!==KC.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await bb(e.appConfig,n)}else await wb(e.appConfig);throw KC}}(e,n),n}}));return t?await t:r.authToken}function Ib(e){return Eb(e,(e=>{if(!Lb(e))throw Xy.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Gy<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function Lb(e){return void 0!==e&&2===e.registrationStatus}async function Pb(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await _b(e);t&&await t}(n);return(await Tb(n,t)).token}function Ob(e){return Xy.create("missing-app-config-values",{valueName:e})}const Ab="installations",Db=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Ob("App Configuration");if(!e.name)throw Ob("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Ob(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:as(t,"heartbeat"),_delete:()=>Promise.resolve()}},Rb=e=>{const t=as(e.getProvider("app").getImmediate(),Ab).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await _b(t);return r?r.catch(console.error):Tb(t).catch(console.error),n.fid}(t),getToken:e=>Pb(t,e)}};os(new Qr(Ab,Db,"PUBLIC")),os(new Qr("installations-internal",Rb,"PRIVATE")),fs(qy,Ky),fs(qy,Ky,"esm2017");const Mb="analytics",Nb="https://www.googletagmanager.com/gtag/js",jb=new oi("@firebase/analytics"),Ub=new Ur("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Fb(e){if(!e.startsWith(Nb)){const t=Ub.create("invalid-gtag-resource",{gtagURL:e});return jb.warn(t.message),""}return e}function zb(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function Vb(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Fb}),r=document.createElement("script"),i=`${Nb}?l=${e}&id=${t}`;r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Bb(e,t,n,r){return async function(i){try{for(var s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];if("event"===i){const[r,i]=o;await async function(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await zb(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(t)),await Promise.all(s),e("event",r,i||{})}catch(KC){jb.error(KC)}}(e,t,n,r,i)}else if("config"===i){const[i,s]=o;await async function(e,t,n,r,i,s){const o=r[i];try{if(o)await t[o];else{const e=(await zb(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch(KC){jb.error(KC)}e("config",i,s)}(e,t,n,r,i,s)}else if("consent"===i){const[t,n]=o;e("consent",t,n)}else if("get"===i){const[t,n,r]=o;e("get",t,n,r)}else if("set"===i){const[t]=o;e("set",t)}else e(i,...o)}catch(KC){jb.error(KC)}}}const $b=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Wb(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Hb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$b,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw Ub.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Ub.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Kb;return setTimeout((async()=>{a.abort()}),void 0!==n?n:6e4),qb({appId:r,apiKey:i,measurementId:s},o,a,t)}async function qb(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:$b;var o;const{appId:a,measurementId:l}=e;try{await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(s),r(Ub.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(n,r)}catch(KC){if(l)return jb.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===KC||void 0===KC?void 0:KC.message}]`),{appId:a,measurementId:l};throw KC}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:Wb(r)},s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),o=await fetch(s,i);if(200!==o.status&&304!==o.status){let e="";try{const n=await o.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw Ub.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()}(e);return s.deleteThrottleMetadata(a),t}catch(KC){const r=KC;if(!function(e){if(!(e instanceof jr)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(s.deleteThrottleMetadata(a),l)return jb.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===r||void 0===r?void 0:r.message}]`),{appId:a,measurementId:l};throw KC}const u=503===Number(null===(o=null===r||void 0===r?void 0:r.customData)||void 0===o?void 0:o.httpStatus)?Kr(i,s.intervalMillis,30):Kr(i,s.intervalMillis),c={throttleEndTimeMillis:Date.now()+u,backoffCount:i+1};return s.setThrottleMetadata(a,c),jb.debug(`Calling attemptFetch again in ${u} millis`),qb(e,c,n,s)}}class Kb{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let Gb,Qb;function Yb(e){Qb=e}function Jb(e){Gb=e}async function Xb(e,t,n,r,i,s,o){var a;const l=Hb(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&jb.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((e=>jb.error(e))),t.push(l);const u=async function(){if(!Mr())return jb.warn(Ub.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Nr()}catch(KC){return jb.warn(Ub.create("indexeddb-unavailable",{errorInfo:null===KC||void 0===KC?void 0:KC.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[c,h]=await Promise.all([l,u]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Nb)&&n.src.includes(e))return n;return null})(s)||Vb(s,c.measurementId),Qb&&(i("consent","default",Qb),Yb(void 0)),i("js",new Date);const d=null!==(a=null===o||void 0===o?void 0:o.config)&&void 0!==a?a:{};return d.origin="firebase",d.update=!0,null!=h&&(d.firebase_id=h),i("config",c.measurementId,d),Gb&&(i("set",Gb),Jb(void 0)),c.measurementId}class Zb{constructor(e){this.app=e}_delete(){return delete ew[this.app.options.appId],Promise.resolve()}}let ew={},tw=[];const nw={};let rw,iw,sw="dataLayer",ow="gtag",aw=!1;function lw(){const e=[];if(Dr()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>`(${t+1}) ${e}`)).join(" "),n=Ub.create("invalid-analytics-context",{errorInfo:t});jb.warn(n.message)}}function uw(e,t,n){lw();const r=e.options.appId;if(!r)throw Ub.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Ub.create("no-api-key");jb.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ew[r])throw Ub.create("already-exists",{id:r});if(!aw){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(sw);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(s=window[i]),window[i]=Bb(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}(ew,tw,nw,sw,ow);iw=e,rw=t,aw=!0}ew[r]=Xb(e,tw,nw,t,rw,sw,n);return new Zb(e)}function cw(e,t,n,r){e=Gr(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(iw,ew[e.app.options.appId],t,n,r).catch((e=>jb.error(e)))}const hw="@firebase/analytics",dw="0.10.8";os(new Qr(Mb,((e,t)=>{let{options:n}=t;return uw(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),os(new Qr("analytics-internal",(function(e){try{const t=e.getProvider(Mb).getImmediate();return{logEvent:(e,n,r)=>cw(t,e,n,r)}}catch(KC){throw Ub.create("interop-component-reg-failed",{reason:KC})}}),"PRIVATE")),fs(hw,dw),fs(hw,dw,"esm2017");const pw=ds({apiKey:"AIzaSyBGGrbeibF1To6O3jmhs6N2IHnstroty38",authDomain:"memories-website-a089b.firebaseapp.com",projectId:"memories-website-a089b",storageBucket:"memories-website-a089b.firebasestorage.app",messagingSenderId:"709480777081",appId:"1:709480777081:web:14a50629563ca882a25ba8",measurementId:"G-0WKR00N26D"}),fw=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ps();e=Gr(e);const t=as(e,Mb);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=as(e,Mb);if(n.isInitialized()){const e=n.getImmediate();if(zr(t,n.getOptions()))return e;throw Ub.create("already-initialized")}const r=n.initialize({options:t})}(e)}(pw),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ps();const t=as(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=as(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(zr(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Os(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:jl,persistence:[Qa,Aa,Ra]}),r=Lr("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Vl)return;const r=null===t||void 0===t?void 0:t.token;Bl!==r&&(Bl=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){Gr(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){Gr(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const s=Cr("auth");return s&&Ko(n,`http://${s}`),n}(pw)),gw=function(e,t){const n="string"==typeof e?e:t||"(default)",r=as("object"==typeof e?e:ps(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Tr("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=dm(e,gm))._getSettings(),o=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&hu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=su.MOCK_USER;else{t=Or(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new vu(mu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new su(s)}e._authCredentials=new Eu(new bu(t,n))}}(r,...e)}return r}(pw),mw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ps(),t=arguments.length>1?arguments[1]:void 0;e=Gr(e);const n=as(e,Vy).getImmediate({identifier:t}),r=Tr("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Or(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(pw);var vw=n(579);const yw=(0,t.createContext)();function bw(){return(0,t.useContext)(yw)}function ww(e){let{children:n}=e;const[r,i]=(0,t.useState)(null),[s,o]=(0,t.useState)(!0);(0,t.useEffect)((()=>{const e=function(e,t,n,r){return Gr(e).onAuthStateChanged(t,n,r)}(fw,(e=>{i(e),o(!1)}));return e}),[]);const a={currentUser:r,signup:function(e,t){return ka(fw,e,t)},login:function(e,t){return Ca(fw,e,t)},logout:function(){return function(e){return Gr(e).signOut()}(fw)},resetPassword:function(e){return async function(e,t,n){const r=Fo(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Sa(r,i,n),await qo(r,i,"getOobCode",ea)}(fw,e)}};return(0,vw.jsx)(yw.Provider,{value:a,children:!s&&n})}const Ew=yr.nav`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  background-color: white;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  z-index: 1000;
`,_w=yr.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 20px;
  height: 60px;
  max-width: 1200px;
  margin: 0 auto;
`,Sw=yr.div`
  font-size: 1.2rem;
  font-weight: 700;
  color: #4a86e8;
`,xw=yr.ul`
  display: flex;
  align-items: center;
  
  @media (max-width: 768px) {
    display: ${e=>{let{isOpen:t}=e;return t?"flex":"none"}};
    flex-direction: column;
    position: absolute;
    top: 60px;
    left: 0;
    right: 0;
    background-color: white;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    padding: 10px 0;
  }
`,kw=yr.li`
  margin: 0 15px;
  
  @media (max-width: 768px) {
    margin: 10px 0;
  }
`,Cw=yr(Te)`
  color: ${e=>{let{active:t}=e;return t?"#4a86e8":"#333"}};
  font-weight: ${e=>{let{active:t}=e;return t?"600":"400"}};
  transition: all 0.3s ease;
  
  &:hover {
    color: #4a86e8;
  }
`,Tw=yr.button`
  background-color: transparent;
  color: #666;
  cursor: pointer;
  border: none;
  font-size: 0.9rem;
  
  &:hover {
    color: #e04141;
  }
`,Iw=yr.button`
  display: none;
  background: none;
  border: none;
  font-size: 1.5rem;
  cursor: pointer;
  
  @media (max-width: 768px) {
    display: block;
  }
`,Lw=yr.div`
  display: flex;
  align-items: center;
`,Pw=yr.div`
  margin-right: 10px;
`,Ow=yr.span`
  font-size: 0.9rem;
  color: #666;
`,Aw=()=>{const[e,n]=(0,t.useState)(!1),r=X(),{currentUser:i,logout:s}=bw(),o=ee(),a=async()=>{try{await s(),o("/login")}catch(e){console.error("\ub85c\uadf8\uc544\uc6c3 \uc624\ub958:",e)}};return(0,vw.jsx)(Ew,{children:(0,vw.jsxs)(_w,{children:[(0,vw.jsx)(Sw,{children:"\uc6b0\ub9ac\uc758 \ucd94\uc5b5 \uc800\uc7a5\uc18c"}),(0,vw.jsx)(Iw,{onClick:()=>{n(!e)},children:e?"\u2715":"\u2630"}),(0,vw.jsxs)(xw,{isOpen:e,children:[(0,vw.jsx)(kw,{children:(0,vw.jsx)(Cw,{to:"/",active:"/"===r.pathname?1:0,children:"\ud648"})}),(0,vw.jsx)(kw,{children:(0,vw.jsx)(Cw,{to:"/gallery",active:"/gallery"===r.pathname?1:0,children:"\uac24\ub7ec\ub9ac"})}),(0,vw.jsx)(kw,{children:(0,vw.jsx)(Cw,{to:"/map",active:"/map"===r.pathname?1:0,children:"\ucd94\uc5b5 \uc9c0\ub3c4"})}),(0,vw.jsx)(kw,{children:(0,vw.jsx)(Cw,{to:"/messages",active:"/messages"===r.pathname?1:0,children:"\uba54\uc2dc\uc9c0"})}),(0,vw.jsx)(kw,{children:(0,vw.jsx)(Cw,{to:"/timeline",active:"/timeline"===r.pathname?1:0,children:"\ud0c0\uc784\ub77c\uc778"})}),(0,vw.jsx)(kw,{children:(0,vw.jsx)(Cw,{to:"/settings",active:"/settings"===r.pathname?1:0,children:"\uc124\uc815"})}),(0,vw.jsx)(kw,{children:(0,vw.jsx)(Tw,{onClick:a,children:"\ub85c\uadf8\uc544\uc6c3"})})]}),(0,vw.jsx)(Lw,{children:i&&(0,vw.jsxs)(vw.Fragment,{children:[(0,vw.jsx)(Pw,{children:(0,vw.jsx)(Ow,{children:i.email})}),(0,vw.jsx)(Tw,{onClick:a,children:"\ub85c\uadf8\uc544\uc6c3"})]})})]})})},Dw=e=>{let{children:t}=e;const{currentUser:n}=bw();return n?t:(0,vw.jsx)(ge,{to:"/login"})},Rw=yr.div`
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  background-color: #f5f5f5;
`,Mw=yr.div`
  background-color: white;
  padding: 40px;
  border-radius: 10px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  width: 100%;
  max-width: 400px;
`,Nw=yr.div`
  text-align: center;
  margin-bottom: 30px;
`,jw=yr.div`
  width: 120px;
  height: 120px;
  background-color: #e8f0fe;
  border-radius: 50%;
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #4a86e8;
  font-size: 2rem;
`,Uw=yr.h1`
  text-align: center;
  color: #333;
  margin-bottom: 30px;
  font-size: 1.8rem;
`,Fw=yr.form`
  display: flex;
  flex-direction: column;
  gap: 20px;
`,zw=yr.div`
  display: flex;
  flex-direction: column;
  gap: 5px;
`,Vw=yr.label`
  color: #555;
  font-size: 0.9rem;
`,Bw=yr.input`
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 5px;
  font-size: 1rem;
  transition: border-color 0.3s;

  &:focus {
    outline: none;
    border-color: #4a86e8;
  }
`,$w=yr.button`
  background-color: #4a86e8;
  color: white;
  padding: 12px;
  border: none;
  border-radius: 5px;
  font-size: 1rem;
  cursor: pointer;
  transition: background-color 0.3s;

  &:hover {
    background-color: #3a76d8;
  }

  &:disabled {
    background-color: #a2c0f7;
    cursor: not-allowed;
  }
`,Ww=yr.p`
  color: #d93025;
  font-size: 0.9rem;
  text-align: center;
`,Hw=yr.button`
  background: none;
  border: none;
  color: #4a86e8;
  font-size: 0.9rem;
  cursor: pointer;
  padding: 5px;
  margin-top: 10px;

  &:hover {
    text-decoration: underline;
  }
`,qw=()=>{const[e,n]=(0,t.useState)(!0),[r,i]=(0,t.useState)(""),[s,o]=(0,t.useState)(""),[a,l]=(0,t.useState)(""),[u,c]=(0,t.useState)(""),[h,d]=(0,t.useState)(!1);return(0,vw.jsx)(Rw,{children:(0,vw.jsxs)(Mw,{children:[(0,vw.jsx)(Nw,{children:(0,vw.jsx)(jw,{children:"\u2764\ufe0f"})}),(0,vw.jsx)(Uw,{children:e?"\ub85c\uadf8\uc778":"\ud68c\uc6d0\uac00\uc785"}),(0,vw.jsxs)(Fw,{onSubmit:async t=>{t.preventDefault(),c(""),d(!0);try{if(e)await Ca(fw,r,s);else{if(s!==a)throw new Error("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.");await ka(fw,r,s)}}catch(u){let t="\uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.";switch(u.code){case"auth/email-already-in-use":t="\uc774\ubbf8 \uc0ac\uc6a9 \uc911\uc778 \uc774\uba54\uc77c\uc785\ub2c8\ub2e4.";break;case"auth/invalid-email":t="\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uc774\uba54\uc77c \ud615\uc2dd\uc785\ub2c8\ub2e4.";break;case"auth/operation-not-allowed":t="\uc774\uba54\uc77c/\ube44\ubc00\ubc88\ud638 \ub85c\uadf8\uc778\uc774 \ube44\ud65c\uc131\ud654\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4.";break;case"auth/weak-password":t="\ube44\ubc00\ubc88\ud638\uac00 \ub108\ubb34 \uc57d\ud569\ub2c8\ub2e4.";break;case"auth/user-disabled":t="\ube44\ud65c\uc131\ud654\ub41c \uacc4\uc815\uc785\ub2c8\ub2e4.";break;case"auth/user-not-found":t="\ub4f1\ub85d\ub418\uc9c0 \uc54a\uc740 \uc774\uba54\uc77c\uc785\ub2c8\ub2e4.";break;case"auth/wrong-password":t="\uc798\ubabb\ub41c \ube44\ubc00\ubc88\ud638\uc785\ub2c8\ub2e4.";break;default:t=u.message}c(t)}finally{d(!1)}},children:[(0,vw.jsxs)(zw,{children:[(0,vw.jsx)(Vw,{htmlFor:"email",children:"\uc774\uba54\uc77c"}),(0,vw.jsx)(Bw,{id:"email",type:"email",value:r,onChange:e=>i(e.target.value),required:!0})]}),(0,vw.jsxs)(zw,{children:[(0,vw.jsx)(Vw,{htmlFor:"password",children:"\ube44\ubc00\ubc88\ud638"}),(0,vw.jsx)(Bw,{id:"password",type:"password",value:s,onChange:e=>o(e.target.value),required:!0})]}),!e&&(0,vw.jsxs)(zw,{children:[(0,vw.jsx)(Vw,{htmlFor:"confirmPassword",children:"\ube44\ubc00\ubc88\ud638 \ud655\uc778"}),(0,vw.jsx)(Bw,{id:"confirmPassword",type:"password",value:a,onChange:e=>l(e.target.value),required:!0})]}),u&&(0,vw.jsx)(Ww,{children:u}),(0,vw.jsx)($w,{type:"submit",disabled:h,children:h?"\ucc98\ub9ac \uc911...":e?"\ub85c\uadf8\uc778":"\ud68c\uc6d0\uac00\uc785"}),(0,vw.jsx)(Hw,{type:"button",onClick:()=>{n(!e),c("")},children:e?"\uacc4\uc815\uc774 \uc5c6\uc73c\uc2e0\uac00\uc694? \ud68c\uc6d0\uac00\uc785":"\uc774\ubbf8 \uacc4\uc815\uc774 \uc788\uc73c\uc2e0\uac00\uc694? \ub85c\uadf8\uc778"})]})]})})},Kw=yr.div`
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
`,Gw=yr.div`
  background-color: white;
  border-radius: 10px;
  padding: 30px;
  margin-bottom: 30px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
`,Qw=yr.h1`
  font-size: 1.8rem;
  margin-bottom: 15px;
  color: #333;
`,Yw=yr.h2`
  font-size: 1.4rem;
  margin: 30px 0 15px;
  color: #333;
`,Jw=(yr.p`
  font-size: 1rem;
  color: #555;
  line-height: 1.6;
`,yr.div`
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px;
  
  @media (max-width: 992px) {
    grid-template-columns: repeat(2, 1fr);
  }
  
  @media (max-width: 768px) {
    grid-template-columns: 1fr;
  }
`),Xw=yr.div`
  background-color: white;
  border-radius: 10px;
  padding: 20px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  transition: transform 0.3s ease;
  
  &:hover {
    transform: translateY(-5px);
  }
`,Zw=yr.h3`
  font-size: 1.2rem;
  margin-bottom: 15px;
  color: #4a86e8;
  display: flex;
  align-items: center;
`,eE=(yr.div`
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 10px;
`,yr.img`
  width: 100%;
  height: 100px;
  object-fit: cover;
  border-radius: 5px;
  cursor: pointer;
  transition: transform 0.3s ease;

  &:hover {
    transform: scale(1.05);
  }
`),tE=yr.div`
  margin-bottom: 10px;
  padding-bottom: 10px;
  border-bottom: 1px solid #eee;
  
  &:last-child {
    border-bottom: none;
    margin-bottom: 0;
    padding-bottom: 0;
  }
`,nE=yr.div`
  font-size: 0.9rem;
  color: #666;
  margin-bottom: 3px;
`,rE=yr.div`
  font-size: 1rem;
  font-weight: 500;
`,iE=yr.div`
  display: flex;
  margin-bottom: 15px;
  
  &:last-child {
    margin-bottom: 0;
  }
`,sE=yr.div`
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background-color: #4a86e8;
  margin-top: 5px;
  margin-right: 10px;
`,oE=yr.div`
  flex: 1;
`,aE=yr.div`
  font-size: 0.95rem;
  font-weight: 500;
  margin-bottom: 3px;
`,lE=yr.div`
  font-size: 0.8rem;
  color: #888;
`,uE=yr.div`
  text-align: center;
  color: #888;
`,cE=yr.div`
  text-align: center;
  color: #888;
`,hE=yr.div`
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 10px;
`,dE=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)([]),[s,o]=(0,t.useState)(!0);(0,t.useEffect)((()=>{a(),l()}),[]);const a=async()=>{try{const e=rv(bm(gw,"photos"),av("date","desc"),uv(4)),t=(await Ev(e)).docs.map((e=>({id:e.id,...e.data()})));n(t)}catch(e){console.error("\ucd5c\uadfc \uc0ac\uc9c4 \ub85c\ub4dc \uc624\ub958:",e)}finally{o(!1)}},l=async()=>{try{const e=rv(bm(gw,"photos"),av("date","desc"),uv(5)),t=await Ev(e),n=rv(bm(gw,"messages"),av("date","desc"),uv(5)),r=await Ev(n),s=rv(bm(gw,"memories"),av("date","desc"),uv(5)),o=await Ev(s),a=[...t.docs.map((e=>({type:"photo",title:"\uc0c8\ub85c\uc6b4 \uc0ac\uc9c4\uc774 \uc5c5\ub85c\ub4dc\ub418\uc5c8\uc2b5\ub2c8\ub2e4",date:e.data().date,data:e.data()}))),...r.docs.map((e=>({type:"message",title:"\uc0c8\ub85c\uc6b4 \uba54\uc2dc\uc9c0\uac00 \ub3c4\ucc29\ud588\uc2b5\ub2c8\ub2e4",date:e.data().date,data:e.data()}))),...o.docs.map((e=>({type:"memory",title:"\uc0c8\ub85c\uc6b4 \ucd94\uc5b5\uc774 \uae30\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4",date:e.data().date,data:e.data()})))].sort(((e,t)=>new Date(t.date)-new Date(e.date))).slice(0,5);i(a)}catch(e){console.error("\ud65c\ub3d9 \ub85c\ub4dc \uc624\ub958:",e)}};return(0,vw.jsxs)(Kw,{children:[(0,vw.jsxs)(Gw,{children:[(0,vw.jsx)(Qw,{children:"\uc6b0\ub9ac\uc758 \ucd94\uc5b5"}),(0,vw.jsx)(Yw,{children:"\ud568\uaed8 \ub9cc\ub4dc\ub294 \ud2b9\ubcc4\ud55c \uc21c\uac04\ub4e4"})]}),(0,vw.jsx)(Yw,{children:"\ub300\uc2dc\ubcf4\ub4dc"}),(0,vw.jsxs)(Jw,{children:[(0,vw.jsxs)(Xw,{children:[(0,vw.jsx)(Zw,{children:"\ucd5c\uadfc \uc0ac\uc9c4"}),(0,vw.jsx)(hE,{children:s?(0,vw.jsx)(uE,{children:"\ub85c\ub529 \uc911..."}):e.length>0?e.map((e=>(0,vw.jsx)(eE,{src:e.url,alt:e.title},e.id))):(0,vw.jsx)(cE,{children:"\uc544\uc9c1 \uc5c5\ub85c\ub4dc\ub41c \uc0ac\uc9c4\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})})]}),(0,vw.jsxs)(Xw,{children:[(0,vw.jsx)(Zw,{children:"\ub2e4\uac00\uc624\ub294 \uae30\ub150\uc77c"}),(0,vw.jsxs)(tE,{children:[(0,vw.jsx)(nE,{children:"2023\ub144 12\uc6d4 25\uc77c (D-7)"}),(0,vw.jsx)(rE,{children:"\ud06c\ub9ac\uc2a4\ub9c8\uc2a4"})]}),(0,vw.jsxs)(tE,{children:[(0,vw.jsx)(nE,{children:"2024\ub144 1\uc6d4 1\uc77c (D-14)"}),(0,vw.jsx)(rE,{children:"\uc0c8\ud574"})]}),(0,vw.jsxs)(tE,{children:[(0,vw.jsx)(nE,{children:"2024\ub144 1\uc6d4 15\uc77c (D-28)"}),(0,vw.jsx)(rE,{children:"\uc6b0\ub9ac\uc758 \uae30\ub150\uc77c"})]})]}),(0,vw.jsxs)(Xw,{children:[(0,vw.jsx)(Zw,{children:"\ucd5c\uadfc \ud65c\ub3d9"}),s?(0,vw.jsx)(uE,{children:"\ub85c\ub529 \uc911..."}):r.length>0?r.map(((e,t)=>(0,vw.jsxs)(iE,{children:[(0,vw.jsx)(sE,{}),(0,vw.jsxs)(oE,{children:[(0,vw.jsx)(aE,{children:e.title}),(0,vw.jsx)(lE,{children:new Date(e.date).toLocaleDateString()})]})]},t))):(0,vw.jsx)(cE,{children:"\uc544\uc9c1 \ud65c\ub3d9 \ub0b4\uc5ed\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})]})]})]})},pE=yr.div`
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
`,fE=yr.div`
  margin-bottom: 30px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 20px;
`,gE=yr.h1`
  font-size: 2rem;
  color: #333;
  margin: 0;
`,mE=yr.div`
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
`,vE=yr.div`
  display: flex;
  gap: 10px;
  margin-bottom: 15px;
  flex-wrap: wrap;
`,yE=yr.button`
  padding: 8px 16px;
  border-radius: 20px;
  background-color: ${e=>{let{active:t}=e;return t?"#4a86e8":"white"}};
  color: ${e=>{let{active:t}=e;return t?"white":"#333"}};
  border: 1px solid #4a86e8;
  cursor: pointer;
  transition: all 0.3s ease;
  font-size: 0.9rem;

  &:hover {
    background-color: ${e=>{let{active:t}=e;return t?"#3a76d8":"#f0f0f0"}};
  }
`,bE=yr.div`
  background-color: white;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  margin-bottom: 30px;
  display: flex;
  align-items: center;
  gap: 20px;
  flex-wrap: wrap;
`,wE=yr.div`
  border: 2px dashed #ddd;
  border-radius: 10px;
  padding: 20px;
  text-align: center;
  cursor: pointer;
  transition: all 0.3s ease;
  min-width: 200px;
  flex: 1;

  &:hover {
    border-color: #4a86e8;
    background-color: #f8f9fa;
  }
`,EE=yr.p`
  margin: 5px 0;
  color: #666;
  font-size: 0.9rem;
`,_E=yr.input`
  display: none;
`,SE=yr.div`
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
  gap: 10px;
  margin-bottom: 30px;

  @media (max-width: 768px) {
    grid-template-columns: repeat(3, 1fr);
    gap: 5px;
  }
`,xE=yr.div`
  position: relative;
  background: white;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  transition: transform 0.3s ease;
  aspect-ratio: 1;

  &:hover {
    transform: translateY(-3px);
  }
`,kE=yr.img`
  width: 100%;
  height: 100%;
  object-fit: cover;
`,CE=yr.div`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
  padding: 10px;
  color: white;
  transform: translateY(100%);
  transition: transform 0.3s ease;
  max-height: 80%;
  overflow-y: auto;

  ${xE}:hover & {
    transform: translateY(0);
  }
`,TE=yr.h3`
  font-size: 0.9rem;
  margin-bottom: 4px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,IE=yr.p`
  font-size: 0.8rem;
  margin-bottom: 4px;
  opacity: 0.8;
`,LE=yr.textarea`
  width: 100%;
  min-height: 40px;
  padding: 4px;
  border: 1px solid rgba(255,255,255,0.3);
  border-radius: 4px;
  font-size: 0.8rem;
  background: rgba(0,0,0,0.5);
  color: white;
  resize: none;
  margin-bottom: 4px;

  &::placeholder {
    color: rgba(255,255,255,0.6);
  }
`,PE=yr.span`
  display: inline-block;
  padding: 2px 6px;
  background-color: rgba(74, 134, 232, 0.8);
  color: white;
  border-radius: 10px;
  font-size: 0.7rem;
  margin-bottom: 4px;
`,OE=yr.button`
  position: absolute;
  top: 5px;
  right: 5px;
  background-color: rgba(255, 255, 255, 0.9);
  border: none;
  border-radius: 50%;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  opacity: 0;
  transition: opacity 0.3s ease;
  color: #ff4444;
  font-size: 1rem;
  z-index: 1;

  ${xE}:hover & {
    opacity: 1;
  }

  &:hover {
    background-color: #ff4444;
    color: white;
  }
`,AE=yr.button`
  padding: 4px 8px;
  background-color: #4a86e8;
  color: white;
  border: none;
  border-radius: 12px;
  cursor: pointer;
  font-size: 0.7rem;
  transition: background-color 0.3s;
  width: 100%;

  &:hover {
    background-color: #3a76d8;
  }

  &:disabled {
    background-color: #a2c0f7;
    cursor: not-allowed;
  }
`,DE=yr.button`
  display: block;
  width: 200px;
  margin: 0 auto;
  padding: 10px 20px;
  background-color: #4a86e8;
  color: white;
  border: none;
  border-radius: 20px;
  cursor: pointer;
  font-size: 0.9rem;
  transition: background-color 0.3s;

  &:hover {
    background-color: #3a76d8;
  }

  &:disabled {
    background-color: #a2c0f7;
    cursor: not-allowed;
  }
`,RE=yr.div`
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
`,ME=yr.select`
  padding: 8px 16px;
  border: 1px solid #ddd;
  border-radius: 20px;
  background-color: white;
  cursor: pointer;
  font-size: 0.9rem;
`,NE=yr.button`
  padding: 8px 16px;
  border-radius: 20px;
  background-color: #4a86e8;
  color: white;
  border: none;
  cursor: pointer;
  transition: background-color 0.3s;
  font-size: 0.9rem;

  &:hover {
    background-color: #3a76d8;
  }

  &:disabled {
    background-color: #a2c0f7;
    cursor: not-allowed;
  }
`,jE=yr.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.9);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
  padding: 20px;
`,UE=yr.img`
  max-width: 90%;
  max-height: 90vh;
  object-fit: contain;
`,FE=yr.button`
  position: absolute;
  top: 20px;
  right: 20px;
  background: none;
  border: none;
  color: white;
  font-size: 2rem;
  cursor: pointer;
  padding: 10px;
  z-index: 1001;
`,zE=[{id:"all",name:"\uc804\uccb4"},{id:"date",name:"\ub370\uc774\ud2b8"},{id:"travel",name:"\uc5ec\ud589"},{id:"food",name:"\ub9db\uc9d1"},{id:"cafe",name:"\uce74\ud398"},{id:"special",name:"\ud2b9\ubcc4\ud55c \ub0a0"}],VE=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)("all"),[s,o]=(0,t.useState)("date"),[a,l]=(0,t.useState)(!1),[u,c]=(0,t.useState)(1),[h,d]=(0,t.useState)({}),[p,f]=(0,t.useState)(null);(0,t.useEffect)((()=>{g()}),[r]);const g=async()=>{l(!0);try{const t=rv(bm(gw,"photos"),av("date","desc")),i=await Ev(t);let s=[];for(const n of i.docs){const t=n.data();try{const e=Wy(mw,t.url);await $y(e),s.push({id:n.id,...t})}catch(e){console.log("\uc774\ubbf8\uc9c0\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc544 \ubb38\uc11c\ub97c \uc0ad\uc81c\ud569\ub2c8\ub2e4:",n.id),await Sv(n.ref)}}"all"!==r&&(s=s.filter((e=>e.category===r))),n(s)}catch(e){console.error("\uc0ac\uc9c4 \ub85c\ub4dc \uc624\ub958:",e)}finally{l(!1)}},m=e.slice(0,12*u),v=e.length>m.length,y=async(e,t)=>{if(window.confirm("\uc774 \uc0ac\uc9c4\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))try{l(!0);const r=Wy(mw,t);await function(e){return Dy(e=Gr(e))}(r),await Sv(wm(gw,"photos",e)),n((t=>t.filter((t=>t.id!==e)))),alert("\uc0ac\uc9c4\uc774 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}catch(r){console.error("\uc0ac\uc9c4 \uc0ad\uc81c \uc624\ub958:",r),alert("\uc0ac\uc9c4 \uc0ad\uc81c \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}finally{l(!1)}};return(0,vw.jsxs)(pE,{children:[(0,vw.jsxs)(fE,{children:[(0,vw.jsx)(gE,{children:"\ucd94\uc5b5 \uac24\ub7ec\ub9ac"}),(0,vw.jsx)(mE,{children:(0,vw.jsx)(vE,{children:zE.map((e=>(0,vw.jsx)(yE,{active:r===e.id,onClick:()=>(e=>{i(e),c(1)})(e.id),children:e.name},e.id)))})})]}),(0,vw.jsxs)(bE,{children:[(0,vw.jsxs)(wE,{onClick:()=>document.getElementById("photo-upload").click(),children:[(0,vw.jsx)(EE,{children:"\ud074\ub9ad\ud558\uc5ec \uc0ac\uc9c4 \uc5c5\ub85c\ub4dc"}),(0,vw.jsx)(EE,{children:"\ub610\ub294"}),(0,vw.jsx)(EE,{children:"\uc0ac\uc9c4\uc744 \uc5ec\uae30\uc5d0 \ub4dc\ub798\uadf8\ud558\uc138\uc694"}),(0,vw.jsx)(_E,{id:"photo-upload",type:"file",accept:"image/*",multiple:!0,onChange:async e=>{const t=Array.from(e.target.files);l(!0);try{for(const e of t){const t=Wy(mw,`photos/${Date.now()}_${e.name}`);await By(t,e);const n=await $y(t);await xv(bm(gw,"photos"),{url:n,title:e.name.split(".")[0],date:(new Date).toISOString(),category:s,description:""})}g()}catch(n){console.error("\uc5c5\ub85c\ub4dc \uc624\ub958:",n),alert("\ud30c\uc77c \uc5c5\ub85c\ub4dc \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}finally{l(!1)}}})]}),(0,vw.jsxs)(RE,{children:[(0,vw.jsx)(ME,{value:s,onChange:e=>o(e.target.value),disabled:a,children:zE.map((e=>(0,vw.jsx)("option",{value:e.id,children:e.name},e.id)))}),(0,vw.jsx)(NE,{as:"label",htmlFor:"photo-upload",disabled:a,children:a?"\uc5c5\ub85c\ub4dc \uc911...":"\uc0ac\uc9c4 \uc5c5\ub85c\ub4dc"})]})]}),(0,vw.jsx)(SE,{children:m.map((e=>{var t,r;return(0,vw.jsxs)(xE,{onClick:()=>f(e),children:[(0,vw.jsx)(kE,{src:e.url,alt:e.title}),(0,vw.jsx)(OE,{onClick:t=>{t.stopPropagation(),y(e.id,e.url)},disabled:a,children:"\xd7"}),(0,vw.jsxs)(CE,{children:[(0,vw.jsx)(PE,{children:null===(t=zE.find((t=>t.id===e.category)))||void 0===t?void 0:t.name}),(0,vw.jsx)(TE,{children:e.title}),(0,vw.jsx)(IE,{children:new Date(e.date).toLocaleDateString()}),(0,vw.jsx)(LE,{value:null!==(r=h[e.id])&&void 0!==r?r:e.description,onChange:t=>{return n=e.id,r=t.target.value,void d((e=>({...e,[n]:r})));var n,r},placeholder:"\uc0ac\uc9c4\uc5d0 \ub300\ud55c \uc124\uba85\uc744 \uc785\ub825\ud558\uc138\uc694..."}),(0,vw.jsx)(AE,{onClick:()=>(async e=>{try{const t=wm(gw,"photos",e);await _v(t,{description:h[e]}),n((t=>t.map((t=>t.id===e?{...t,description:h[e]}:t)))),d((t=>{const n={...t};return delete n[e],n}))}catch(t){console.error("\uc124\uba85 \uc800\uc7a5 \uc624\ub958:",t),alert("\uc124\uba85 \uc800\uc7a5 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}})(e.id),disabled:!h[e.id]||h[e.id]===e.description,children:"\uc124\uba85 \uc800\uc7a5"})]})]},e.id)}))}),p&&(0,vw.jsxs)(jE,{onClick:()=>f(null),children:[(0,vw.jsx)(FE,{onClick:()=>f(null),children:"\xd7"}),(0,vw.jsx)(UE,{src:p.url,alt:p.title})]}),v&&(0,vw.jsx)(DE,{onClick:()=>c((e=>e+1)),disabled:a,children:a?"\ub85c\ub529 \uc911...":"\ub354 \ubcf4\uae30"})]})};function BE(e){return BE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BE(e)}function $E(e){var t=function(e,t){if("object"!=BE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=BE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==BE(t)?t:t+""}function WE(e,t,n){return(t=$E(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HE(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qE,KE;var GE=(KE||(KE=1,qE=function(e,t,n,r,i,s,o,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,s,o,a],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}),qE),QE=HE(GE),YE=(0,t.createContext)(null);function JE(e,t,n,r){var i,s,o={};return i=e,s=(e,i)=>{var s=n[i];s!==t[i]&&(o[i]=s,e(r,s))},Object.keys(i).forEach((e=>s(i[e],e))),o}function XE(e,t,n){var r,i,s,o=(r=n,i=function(n,r,i){return"function"===typeof e[i]&&n.push(google.maps.event.addListener(t,r,e[i])),n},s=[],Object.keys(r).reduce((function(e,t){return i(e,r[t],t)}),s));return o}function ZE(e){google.maps.event.removeListener(e)}function e_(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(ZE)}function t_(e){var{updaterMap:t,eventMap:n,prevProps:r,nextProps:i,instance:s}=e,o=XE(i,s,n);return JE(t,r,i,s),o}var n_={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},r_={extraMapTypes(e,t){t.forEach((function(t,n){e.mapTypes.set(String(n),t)}))},center(e,t){e.setCenter(t)},clickableIcons(e,t){e.setClickableIcons(t)},heading(e,t){e.setHeading(t)},mapTypeId(e,t){e.setMapTypeId(t)},options(e,t){e.setOptions(t)},streetView(e,t){e.setStreetView(t)},tilt(e,t){e.setTilt(t)},zoom(e,t){e.setZoom(t)}};(0,t.memo)((function(e){var{children:n,options:r,id:i,mapContainerStyle:s,mapContainerClassName:o,center:a,onClick:l,onDblClick:u,onDrag:c,onDragEnd:h,onDragStart:d,onMouseMove:p,onMouseOut:f,onMouseOver:g,onMouseDown:m,onMouseUp:v,onRightClick:y,onCenterChanged:b,onLoad:w,onUnmount:E}=e,[_,S]=(0,t.useState)(null),x=(0,t.useRef)(null),[k,C]=(0,t.useState)(null),[T,I]=(0,t.useState)(null),[L,P]=(0,t.useState)(null),[O,A]=(0,t.useState)(null),[D,R]=(0,t.useState)(null),[M,N]=(0,t.useState)(null),[j,U]=(0,t.useState)(null),[F,z]=(0,t.useState)(null),[V,B]=(0,t.useState)(null),[$,W]=(0,t.useState)(null),[H,q]=(0,t.useState)(null),[K,G]=(0,t.useState)(null);return(0,t.useEffect)((()=>{r&&null!==_&&_.setOptions(r)}),[_,r]),(0,t.useEffect)((()=>{null!==_&&"undefined"!==typeof a&&_.setCenter(a)}),[_,a]),(0,t.useEffect)((()=>{_&&u&&(null!==T&&google.maps.event.removeListener(T),I(google.maps.event.addListener(_,"dblclick",u)))}),[u]),(0,t.useEffect)((()=>{_&&h&&(null!==L&&google.maps.event.removeListener(L),P(google.maps.event.addListener(_,"dragend",h)))}),[h]),(0,t.useEffect)((()=>{_&&d&&(null!==O&&google.maps.event.removeListener(O),A(google.maps.event.addListener(_,"dragstart",d)))}),[d]),(0,t.useEffect)((()=>{_&&m&&(null!==D&&google.maps.event.removeListener(D),R(google.maps.event.addListener(_,"mousedown",m)))}),[m]),(0,t.useEffect)((()=>{_&&p&&(null!==M&&google.maps.event.removeListener(M),N(google.maps.event.addListener(_,"mousemove",p)))}),[p]),(0,t.useEffect)((()=>{_&&f&&(null!==j&&google.maps.event.removeListener(j),U(google.maps.event.addListener(_,"mouseout",f)))}),[f]),(0,t.useEffect)((()=>{_&&g&&(null!==F&&google.maps.event.removeListener(F),z(google.maps.event.addListener(_,"mouseover",g)))}),[g]),(0,t.useEffect)((()=>{_&&v&&(null!==V&&google.maps.event.removeListener(V),B(google.maps.event.addListener(_,"mouseup",v)))}),[v]),(0,t.useEffect)((()=>{_&&y&&(null!==$&&google.maps.event.removeListener($),W(google.maps.event.addListener(_,"rightclick",y)))}),[y]),(0,t.useEffect)((()=>{_&&l&&(null!==H&&google.maps.event.removeListener(H),q(google.maps.event.addListener(_,"click",l)))}),[l]),(0,t.useEffect)((()=>{_&&c&&(null!==K&&google.maps.event.removeListener(K),G(google.maps.event.addListener(_,"drag",c)))}),[c]),(0,t.useEffect)((()=>{_&&b&&(null!==k&&google.maps.event.removeListener(k),C(google.maps.event.addListener(_,"center_changed",b)))}),[l]),(0,t.useEffect)((()=>{var e=null===x.current?null:new google.maps.Map(x.current,r);return S(e),null!==e&&w&&w(e),()=>{null!==e&&E&&E(e)}}),[]),(0,vw.jsx)("div",{id:i,ref:x,style:s,className:o,children:(0,vw.jsx)(YE.Provider,{value:_,children:null!==_?n:null})})}));class i_ extends t.PureComponent{constructor(){super(...arguments),WE(this,"state",{map:null}),WE(this,"registeredEvents",[]),WE(this,"mapRef",null),WE(this,"getInstance",(()=>null===this.mapRef?null:new google.maps.Map(this.mapRef,this.props.options))),WE(this,"panTo",(e=>{var t=this.getInstance();t&&t.panTo(e)})),WE(this,"setMapCallback",(()=>{null!==this.state.map&&this.props.onLoad&&this.props.onLoad(this.state.map)})),WE(this,"getRef",(e=>{this.mapRef=e}))}componentDidMount(){var e=this.getInstance();this.registeredEvents=t_({updaterMap:r_,eventMap:n_,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{map:e}}),this.setMapCallback)}componentDidUpdate(e){null!==this.state.map&&(e_(this.registeredEvents),this.registeredEvents=t_({updaterMap:r_,eventMap:n_,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){null!==this.state.map&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),e_(this.registeredEvents))}render(){return(0,vw.jsx)("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:(0,vw.jsx)(YE.Provider,{value:this.state.map,children:null!==this.state.map?this.props.children:null})})}}function s_(e,t,n,r,i,s,o){try{var a=e[s](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(r,i)}function o_(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function o(e){s_(s,r,i,o,a,"next",e)}function a(e){s_(s,r,i,o,a,"throw",e)}o(void 0)}))}}function a_(e){var{googleMapsApiKey:t,googleMapsClientId:n,version:r="weekly",language:i,region:s,libraries:o,channel:a,mapIds:l,authReferrerPolicy:u}=e,c=[];return QE(t&&n||!(t&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?c.push("key=".concat(t)):n&&c.push("client=".concat(n)),r&&c.push("v=".concat(r)),i&&c.push("language=".concat(i)),s&&c.push("region=".concat(s)),o&&o.length&&c.push("libraries=".concat(o.sort().join(","))),a&&c.push("channel=".concat(a)),l&&l.length&&c.push("map_ids=".concat(l.join(","))),u&&c.push("auth_referrer_policy=".concat(u)),c.push("loading=async"),c.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(c.join("&"))}var l_="undefined"!==typeof document;function u_(e){var{url:t,id:n,nonce:r}=e;return l_?new Promise((function(e,i){var s=document.getElementById(n),o=window;if(s){var a=s.getAttribute("data-state");if(s.src===t&&"error"!==a){if("ready"===a)return e(n);var l=o.initMap,u=s.onerror;return o.initMap=function(){l&&l(),e(n)},void(s.onerror=function(e){u&&u(e),i(e)})}s.remove()}var c=document.createElement("script");c.type="text/javascript",c.src=t,c.id=n,c.async=!0,c.nonce=r||"",c.onerror=function(e){c.setAttribute("data-state","error"),i(e)},o.initMap=function(){c.setAttribute("data-state","ready"),e(n)},document.head.appendChild(c)})).catch((e=>{throw console.error("injectScript error: ",e),e})):Promise.reject(new Error("document is undefined"))}function c_(e){var t=e.href;return!(!t||0!==t.indexOf("https://fonts.googleapis.com/css?family=Roboto")&&0!==t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text"))||("style"===e.tagName.toLowerCase()&&e.styleSheet&&e.styleSheet.cssText&&0===e.styleSheet.cssText.replace("\r\n","").indexOf(".gm-style")?(e.styleSheet.cssText="",!0):"style"===e.tagName.toLowerCase()&&e.innerHTML&&0===e.innerHTML.replace("\r\n","").indexOf(".gm-style")?(e.innerHTML="",!0):"style"===e.tagName.toLowerCase()&&!e.styleSheet&&!e.innerHTML)}function h_(){var e=document.getElementsByTagName("head")[0];if(e){var t=e.insertBefore.bind(e);e.insertBefore=function(n,r){return c_(n)||Reflect.apply(t,e,[n,r]),n};var n=e.appendChild.bind(e);e.appendChild=function(t){return c_(t)||Reflect.apply(n,e,[t]),t}}}var d_=!1;function p_(){return(0,vw.jsx)("div",{children:"Loading..."})}var f_,g_={id:"script-loader",version:"weekly"};class m_ extends t.PureComponent{constructor(){super(...arguments),WE(this,"check",null),WE(this,"state",{loaded:!1}),WE(this,"cleanupCallback",(()=>{delete window.google.maps,this.injectScript()})),WE(this,"isCleaningUp",o_((function*(){return new Promise((function(e){if(d_){if(l_)var t=window.setInterval((function(){d_||(window.clearInterval(t),e())}),1)}else e()}))}))),WE(this,"cleanup",(()=>{d_=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter((function(e){return"string"===typeof e.src&&e.src.includes("maps.googleapis")})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)})),Array.prototype.slice.call(document.getElementsByTagName("link")).filter((function(e){return"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"===e.href})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)})),Array.prototype.slice.call(document.getElementsByTagName("style")).filter((function(e){return void 0!==e.innerText&&e.innerText.length>0&&e.innerText.includes(".gm-")})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))})),WE(this,"injectScript",(()=>{this.props.preventGoogleFontsLoading&&h_(),QE(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id),u_({id:this.props.id,nonce:this.props.nonce,url:a_(this.props)}).then((()=>{this.props.onLoad&&this.props.onLoad(),this.setState((function(){return{loaded:!0}}))})).catch((e=>{this.props.onError&&this.props.onError(e),console.error("\n          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",") to <LoadScript />\n          Otherwise it is a Network issue.\n        "))}))})),WE(this,"getRef",(e=>{this.check=e}))}componentDidMount(){if(l_){if(window.google&&window.google.maps&&!d_)return void console.error("google api is already presented");this.isCleaningUp().then(this.injectScript).catch((function(e){console.error("Error at injecting script after cleaning up: ",e)}))}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),l_&&e.language!==this.props.language&&(this.cleanup(),this.setState((function(){return{loaded:!1}}),this.cleanupCallback))}componentWillUnmount(){if(l_){this.cleanup();window.setTimeout((()=>{this.check||(delete window.google,d_=!1)}),1),this.props.onUnmount&&this.props.onUnmount()}}render(){return(0,vw.jsxs)(vw.Fragment,{children:[(0,vw.jsx)("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||(0,vw.jsx)(p_,{})]})}}function v_(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}WE(m_,"defaultProps",g_);var y_=["loadingElement","onLoad","onError","onUnmount","children"],b_=(0,vw.jsx)(p_,{});(0,t.memo)((function(e){var{loadingElement:n,onLoad:r,onError:i,onUnmount:s,children:o}=e,a=v_(e,y_),{isLoaded:l,loadError:u}=function(e){var{id:n=g_.id,version:r=g_.version,nonce:i,googleMapsApiKey:s,googleMapsClientId:o,language:a,region:l,libraries:u,preventGoogleFontsLoading:c,channel:h,mapIds:d,authReferrerPolicy:p}=e,f=(0,t.useRef)(!1),[g,m]=(0,t.useState)(!1),[v,y]=(0,t.useState)(void 0);(0,t.useEffect)((function(){return f.current=!0,()=>{f.current=!1}}),[]),(0,t.useEffect)((function(){l_&&c&&h_()}),[c]),(0,t.useEffect)((function(){g&&QE(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")}),[g]);var b=a_({version:r,googleMapsApiKey:s,googleMapsClientId:o,language:a,region:l,libraries:u,channel:h,mapIds:d,authReferrerPolicy:p});(0,t.useEffect)((function(){function e(){f.current&&(m(!0),f_=b)}l_&&(window.google&&window.google.maps&&f_===b?e():u_({id:n,url:b,nonce:i}).then(e).catch((function(e){f.current&&y(e),console.warn("\n        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(s||"-",") or Client ID (").concat(o||"-",")\n        Otherwise it is a Network issue.\n      ")),console.error(e)})))}),[n,b,i]);var w=(0,t.useRef)(void 0);return(0,t.useEffect)((function(){w.current&&u!==w.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),w.current=u}),[u]),{isLoaded:g,loadError:v,url:b}}(a);return(0,t.useEffect)((function(){l&&"function"===typeof r&&r()}),[l,r]),(0,t.useEffect)((function(){u&&"function"===typeof i&&i(u)}),[u,i]),(0,t.useEffect)((function(){return()=>{s&&s()}}),[s]),l?o:n||b_}));"function"===typeof SuppressedError&&SuppressedError;var w_;!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(w_||(w_={}));function E_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function __(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E_(Object(n),!0).forEach((function(t){WE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S_={},x_={options(e,t){e.setOptions(t)}};(0,t.memo)((function(e){var{options:n,onLoad:r,onUnmount:i}=e,s=(0,t.useContext)(YE),[o,a]=(0,t.useState)(null);return(0,t.useEffect)((()=>{null!==o&&o.setMap(s)}),[s]),(0,t.useEffect)((()=>{n&&null!==o&&o.setOptions(n)}),[o,n]),(0,t.useEffect)((()=>{var e=new google.maps.TrafficLayer(__(__({},n),{},{map:s}));return a(e),r&&r(e),()=>{null!==o&&(i&&i(o),o.setMap(null))}}),[]),null}));class k_ extends t.PureComponent{constructor(){super(...arguments),WE(this,"state",{trafficLayer:null}),WE(this,"setTrafficLayerCallback",(()=>{null!==this.state.trafficLayer&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)})),WE(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(__(__({},this.props.options),{},{map:this.context}));this.registeredEvents=t_({updaterMap:x_,eventMap:S_,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{trafficLayer:e}}),this.setTrafficLayerCallback)}componentDidUpdate(e){null!==this.state.trafficLayer&&(e_(this.registeredEvents),this.registeredEvents=t_({updaterMap:x_,eventMap:S_,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){null!==this.state.trafficLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),e_(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}WE(k_,"contextType",YE);(0,t.memo)((function(e){var{onLoad:n,onUnmount:r}=e,i=(0,t.useContext)(YE),[s,o]=(0,t.useState)(null);return(0,t.useEffect)((()=>{null!==s&&s.setMap(i)}),[i]),(0,t.useEffect)((()=>{var e=new google.maps.BicyclingLayer;return o(e),e.setMap(i),n&&n(e),()=>{null!==e&&(r&&r(e),e.setMap(null))}}),[]),null}));class C_ extends t.PureComponent{constructor(){super(...arguments),WE(this,"state",{bicyclingLayer:null}),WE(this,"setBicyclingLayerCallback",(()=>{null!==this.state.bicyclingLayer&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))}))}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState((()=>({bicyclingLayer:e})),this.setBicyclingLayerCallback)}componentWillUnmount(){null!==this.state.bicyclingLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}WE(C_,"contextType",YE);(0,t.memo)((function(e){var{onLoad:n,onUnmount:r}=e,i=(0,t.useContext)(YE),[s,o]=(0,t.useState)(null);return(0,t.useEffect)((()=>{null!==s&&s.setMap(i)}),[i]),(0,t.useEffect)((()=>{var e=new google.maps.TransitLayer;return o(e),e.setMap(i),n&&n(e),()=>{null!==s&&(r&&r(s),s.setMap(null))}}),[]),null}));class T_ extends t.PureComponent{constructor(){super(...arguments),WE(this,"state",{transitLayer:null}),WE(this,"setTransitLayerCallback",(()=>{null!==this.state.transitLayer&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))}))}componentDidMount(){var e=new google.maps.TransitLayer;this.setState((function(){return{transitLayer:e}}),this.setTransitLayerCallback)}componentWillUnmount(){null!==this.state.transitLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}function I_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I_(Object(n),!0).forEach((function(t){WE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}WE(T_,"contextType",YE);var P_={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},O_={drawingMode(e,t){e.setDrawingMode(t)},options(e,t){e.setOptions(t)}};(0,t.memo)((function(e){var{options:n,drawingMode:r,onCircleComplete:i,onMarkerComplete:s,onOverlayComplete:o,onPolygonComplete:a,onPolylineComplete:l,onRectangleComplete:u,onLoad:c,onUnmount:h}=e,d=(0,t.useContext)(YE),[p,f]=(0,t.useState)(null),[g,m]=(0,t.useState)(null),[v,y]=(0,t.useState)(null),[b,w]=(0,t.useState)(null),[E,_]=(0,t.useState)(null),[S,x]=(0,t.useState)(null),[k,C]=(0,t.useState)(null);return(0,t.useEffect)((()=>{null!==p&&p.setMap(d)}),[d]),(0,t.useEffect)((()=>{n&&null!==p&&p.setOptions(n)}),[p,n]),(0,t.useEffect)((()=>{null!==p&&p.setDrawingMode(null!==r&&void 0!==r?r:null)}),[p,r]),(0,t.useEffect)((()=>{p&&i&&(null!==g&&google.maps.event.removeListener(g),m(google.maps.event.addListener(p,"circlecomplete",i)))}),[p,i]),(0,t.useEffect)((()=>{p&&s&&(null!==v&&google.maps.event.removeListener(v),y(google.maps.event.addListener(p,"markercomplete",s)))}),[p,s]),(0,t.useEffect)((()=>{p&&o&&(null!==b&&google.maps.event.removeListener(b),w(google.maps.event.addListener(p,"overlaycomplete",o)))}),[p,o]),(0,t.useEffect)((()=>{p&&a&&(null!==E&&google.maps.event.removeListener(E),_(google.maps.event.addListener(p,"polygoncomplete",a)))}),[p,a]),(0,t.useEffect)((()=>{p&&l&&(null!==S&&google.maps.event.removeListener(S),x(google.maps.event.addListener(p,"polylinecomplete",l)))}),[p,l]),(0,t.useEffect)((()=>{p&&u&&(null!==k&&google.maps.event.removeListener(k),C(google.maps.event.addListener(p,"rectanglecomplete",u)))}),[p,u]),(0,t.useEffect)((()=>{QE(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var e=new google.maps.drawing.DrawingManager(L_(L_({},n),{},{map:d}));return r&&e.setDrawingMode(r),i&&m(google.maps.event.addListener(e,"circlecomplete",i)),s&&y(google.maps.event.addListener(e,"markercomplete",s)),o&&w(google.maps.event.addListener(e,"overlaycomplete",o)),a&&_(google.maps.event.addListener(e,"polygoncomplete",a)),l&&x(google.maps.event.addListener(e,"polylinecomplete",l)),u&&C(google.maps.event.addListener(e,"rectanglecomplete",u)),f(e),c&&c(e),()=>{null!==p&&(g&&google.maps.event.removeListener(g),v&&google.maps.event.removeListener(v),b&&google.maps.event.removeListener(b),E&&google.maps.event.removeListener(E),S&&google.maps.event.removeListener(S),k&&google.maps.event.removeListener(k),h&&h(p),p.setMap(null))}}),[]),null}));class A_ extends t.PureComponent{constructor(e){super(e),WE(this,"registeredEvents",[]),WE(this,"state",{drawingManager:null}),WE(this,"setDrawingManagerCallback",(()=>{null!==this.state.drawingManager&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)})),QE(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(L_(L_({},this.props.options),{},{map:this.context}));this.registeredEvents=t_({updaterMap:O_,eventMap:P_,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{drawingManager:e}}),this.setDrawingManagerCallback)}componentDidUpdate(e){null!==this.state.drawingManager&&(e_(this.registeredEvents),this.registeredEvents=t_({updaterMap:O_,eventMap:P_,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){null!==this.state.drawingManager&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),e_(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}function D_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D_(Object(n),!0).forEach((function(t){WE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}WE(A_,"contextType",YE);var M_={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},N_={animation(e,t){e.setAnimation(t)},clickable(e,t){e.setClickable(t)},cursor(e,t){e.setCursor(t)},draggable(e,t){e.setDraggable(t)},icon(e,t){e.setIcon(t)},label(e,t){e.setLabel(t)},map(e,t){e.setMap(t)},opacity(e,t){e.setOpacity(t)},options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},shape(e,t){e.setShape(t)},title(e,t){e.setTitle(t)},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},j_={};(0,t.memo)((function(e){var{position:n,options:r,clusterer:i,noClustererRedraw:s,children:o,draggable:a,visible:l,animation:u,clickable:c,cursor:h,icon:d,label:p,opacity:f,shape:g,title:m,zIndex:v,onClick:y,onDblClick:b,onDrag:w,onDragEnd:E,onDragStart:_,onMouseOut:S,onMouseOver:x,onMouseUp:k,onMouseDown:C,onRightClick:T,onClickableChanged:I,onCursorChanged:L,onAnimationChanged:P,onDraggableChanged:O,onFlatChanged:A,onIconChanged:D,onPositionChanged:R,onShapeChanged:M,onTitleChanged:N,onVisibleChanged:j,onZindexChanged:U,onLoad:F,onUnmount:z}=e,V=(0,t.useContext)(YE),[B,$]=(0,t.useState)(null),[W,H]=(0,t.useState)(null),[q,K]=(0,t.useState)(null),[G,Q]=(0,t.useState)(null),[Y,J]=(0,t.useState)(null),[X,Z]=(0,t.useState)(null),[ee,te]=(0,t.useState)(null),[ne,re]=(0,t.useState)(null),[ie,se]=(0,t.useState)(null),[oe,ae]=(0,t.useState)(null),[le,ue]=(0,t.useState)(null),[ce,he]=(0,t.useState)(null),[de,pe]=(0,t.useState)(null),[fe,ge]=(0,t.useState)(null),[me,ve]=(0,t.useState)(null),[ye,be]=(0,t.useState)(null),[we,Ee]=(0,t.useState)(null),[_e,Se]=(0,t.useState)(null),[xe,ke]=(0,t.useState)(null),[Ce,Te]=(0,t.useState)(null),[Ie,Le]=(0,t.useState)(null),[Pe,Oe]=(0,t.useState)(null);(0,t.useEffect)((()=>{null!==B&&B.setMap(V)}),[V]),(0,t.useEffect)((()=>{"undefined"!==typeof r&&null!==B&&B.setOptions(r)}),[B,r]),(0,t.useEffect)((()=>{"undefined"!==typeof a&&null!==B&&B.setDraggable(a)}),[B,a]),(0,t.useEffect)((()=>{n&&null!==B&&B.setPosition(n)}),[B,n]),(0,t.useEffect)((()=>{"undefined"!==typeof l&&null!==B&&B.setVisible(l)}),[B,l]),(0,t.useEffect)((()=>{null===B||void 0===B||B.setAnimation(u)}),[B,u]),(0,t.useEffect)((()=>{B&&void 0!==c&&B.setClickable(c)}),[B,c]),(0,t.useEffect)((()=>{B&&void 0!==h&&B.setCursor(h)}),[B,h]),(0,t.useEffect)((()=>{B&&void 0!==d&&B.setIcon(d)}),[B,d]),(0,t.useEffect)((()=>{B&&void 0!==p&&B.setLabel(p)}),[B,p]),(0,t.useEffect)((()=>{B&&void 0!==f&&B.setOpacity(f)}),[B,f]),(0,t.useEffect)((()=>{B&&void 0!==g&&B.setShape(g)}),[B,g]),(0,t.useEffect)((()=>{B&&void 0!==m&&B.setTitle(m)}),[B,m]),(0,t.useEffect)((()=>{B&&void 0!==v&&B.setZIndex(v)}),[B,v]),(0,t.useEffect)((()=>{B&&b&&(null!==W&&google.maps.event.removeListener(W),H(google.maps.event.addListener(B,"dblclick",b)))}),[b]),(0,t.useEffect)((()=>{B&&E&&(null!==q&&google.maps.event.removeListener(q),K(google.maps.event.addListener(B,"dragend",E)))}),[E]),(0,t.useEffect)((()=>{B&&_&&(null!==G&&google.maps.event.removeListener(G),Q(google.maps.event.addListener(B,"dragstart",_)))}),[_]),(0,t.useEffect)((()=>{B&&C&&(null!==Y&&google.maps.event.removeListener(Y),J(google.maps.event.addListener(B,"mousedown",C)))}),[C]),(0,t.useEffect)((()=>{B&&S&&(null!==X&&google.maps.event.removeListener(X),Z(google.maps.event.addListener(B,"mouseout",S)))}),[S]),(0,t.useEffect)((()=>{B&&x&&(null!==ee&&google.maps.event.removeListener(ee),te(google.maps.event.addListener(B,"mouseover",x)))}),[x]),(0,t.useEffect)((()=>{B&&k&&(null!==ne&&google.maps.event.removeListener(ne),re(google.maps.event.addListener(B,"mouseup",k)))}),[k]),(0,t.useEffect)((()=>{B&&T&&(null!==ie&&google.maps.event.removeListener(ie),se(google.maps.event.addListener(B,"rightclick",T)))}),[T]),(0,t.useEffect)((()=>{B&&y&&(null!==oe&&google.maps.event.removeListener(oe),ae(google.maps.event.addListener(B,"click",y)))}),[y]),(0,t.useEffect)((()=>{B&&w&&(null!==le&&google.maps.event.removeListener(le),ue(google.maps.event.addListener(B,"drag",w)))}),[w]),(0,t.useEffect)((()=>{B&&I&&(null!==ce&&google.maps.event.removeListener(ce),he(google.maps.event.addListener(B,"clickable_changed",I)))}),[I]),(0,t.useEffect)((()=>{B&&L&&(null!==de&&google.maps.event.removeListener(de),pe(google.maps.event.addListener(B,"cursor_changed",L)))}),[L]),(0,t.useEffect)((()=>{B&&P&&(null!==fe&&google.maps.event.removeListener(fe),ge(google.maps.event.addListener(B,"animation_changed",P)))}),[P]),(0,t.useEffect)((()=>{B&&O&&(null!==me&&google.maps.event.removeListener(me),ve(google.maps.event.addListener(B,"draggable_changed",O)))}),[O]),(0,t.useEffect)((()=>{B&&A&&(null!==ye&&google.maps.event.removeListener(ye),be(google.maps.event.addListener(B,"flat_changed",A)))}),[A]),(0,t.useEffect)((()=>{B&&D&&(null!==we&&google.maps.event.removeListener(we),Ee(google.maps.event.addListener(B,"icon_changed",D)))}),[D]),(0,t.useEffect)((()=>{B&&R&&(null!==_e&&google.maps.event.removeListener(_e),Se(google.maps.event.addListener(B,"position_changed",R)))}),[R]),(0,t.useEffect)((()=>{B&&M&&(null!==xe&&google.maps.event.removeListener(xe),ke(google.maps.event.addListener(B,"shape_changed",M)))}),[M]),(0,t.useEffect)((()=>{B&&N&&(null!==Ce&&google.maps.event.removeListener(Ce),Te(google.maps.event.addListener(B,"title_changed",N)))}),[N]),(0,t.useEffect)((()=>{B&&j&&(null!==Ie&&google.maps.event.removeListener(Ie),Le(google.maps.event.addListener(B,"visible_changed",j)))}),[j]),(0,t.useEffect)((()=>{B&&U&&(null!==Pe&&google.maps.event.removeListener(Pe),Oe(google.maps.event.addListener(B,"zindex_changed",U)))}),[U]),(0,t.useEffect)((()=>{var e=R_(R_(R_({},r||j_),i?j_:{map:V}),{},{position:n}),t=new google.maps.Marker(e);return i?i.addMarker(t,!!s):t.setMap(V),n&&t.setPosition(n),"undefined"!==typeof l&&t.setVisible(l),"undefined"!==typeof a&&t.setDraggable(a),"undefined"!==typeof c&&t.setClickable(c),"string"===typeof h&&t.setCursor(h),d&&t.setIcon(d),"undefined"!==typeof p&&t.setLabel(p),"undefined"!==typeof f&&t.setOpacity(f),g&&t.setShape(g),"string"===typeof m&&t.setTitle(m),"number"===typeof v&&t.setZIndex(v),b&&H(google.maps.event.addListener(t,"dblclick",b)),E&&K(google.maps.event.addListener(t,"dragend",E)),_&&Q(google.maps.event.addListener(t,"dragstart",_)),C&&J(google.maps.event.addListener(t,"mousedown",C)),S&&Z(google.maps.event.addListener(t,"mouseout",S)),x&&te(google.maps.event.addListener(t,"mouseover",x)),k&&re(google.maps.event.addListener(t,"mouseup",k)),T&&se(google.maps.event.addListener(t,"rightclick",T)),y&&ae(google.maps.event.addListener(t,"click",y)),w&&ue(google.maps.event.addListener(t,"drag",w)),I&&he(google.maps.event.addListener(t,"clickable_changed",I)),L&&pe(google.maps.event.addListener(t,"cursor_changed",L)),P&&ge(google.maps.event.addListener(t,"animation_changed",P)),O&&ve(google.maps.event.addListener(t,"draggable_changed",O)),A&&be(google.maps.event.addListener(t,"flat_changed",A)),D&&Ee(google.maps.event.addListener(t,"icon_changed",D)),R&&Se(google.maps.event.addListener(t,"position_changed",R)),M&&ke(google.maps.event.addListener(t,"shape_changed",M)),N&&Te(google.maps.event.addListener(t,"title_changed",N)),j&&Le(google.maps.event.addListener(t,"visible_changed",j)),U&&Oe(google.maps.event.addListener(t,"zindex_changed",U)),$(t),F&&F(t),()=>{null!==W&&google.maps.event.removeListener(W),null!==q&&google.maps.event.removeListener(q),null!==G&&google.maps.event.removeListener(G),null!==Y&&google.maps.event.removeListener(Y),null!==X&&google.maps.event.removeListener(X),null!==ee&&google.maps.event.removeListener(ee),null!==ne&&google.maps.event.removeListener(ne),null!==ie&&google.maps.event.removeListener(ie),null!==oe&&google.maps.event.removeListener(oe),null!==ce&&google.maps.event.removeListener(ce),null!==de&&google.maps.event.removeListener(de),null!==fe&&google.maps.event.removeListener(fe),null!==me&&google.maps.event.removeListener(me),null!==ye&&google.maps.event.removeListener(ye),null!==we&&google.maps.event.removeListener(we),null!==_e&&google.maps.event.removeListener(_e),null!==Ce&&google.maps.event.removeListener(Ce),null!==Ie&&google.maps.event.removeListener(Ie),null!==Pe&&google.maps.event.removeListener(Pe),z&&z(t),i?i.removeMarker(t,!!s):t&&t.setMap(null)}}),[]);var Ae=(0,t.useMemo)((()=>o?t.Children.map(o,(e=>{if(!(0,t.isValidElement)(e))return e;var n=e;return(0,t.cloneElement)(n,{anchor:B})})):null),[o,B]);return(0,vw.jsx)(vw.Fragment,{children:Ae})||null}));class U_ extends t.PureComponent{constructor(){super(...arguments),WE(this,"registeredEvents",[])}componentDidMount(){var e=this;return o_((function*(){var t=R_(R_(R_({},e.props.options||j_),e.props.clusterer?j_:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(t),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=t_({updaterMap:N_,eventMap:M_,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)}))()}componentDidUpdate(e){this.marker&&(e_(this.registeredEvents),this.registeredEvents=t_({updaterMap:N_,eventMap:M_,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),e_(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?t.Children.map(this.props.children,(e=>{if(!(0,t.isValidElement)(e))return e;var n=e;return(0,t.cloneElement)(n,{anchor:this.marker})})):null;return e||null}}WE(U_,"contextType",YE);var F_=function(){function e(t,n){t.getClusterer().extend(e,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return e.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},e.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},e.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var n=t.getMaxZoom(),r=this.cluster.getBounds(),i=t.getMap();null!==i&&"fitBounds"in i&&i.fitBounds(r),this.timeOut=window.setTimeout((function(){var e=t.getMap();if(null!==e){"fitBounds"in e&&e.fitBounds(r);var i=e.getZoom()||0;null!==n&&i>n&&e.setZoom(n+1)}}),100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},e.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},e.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},e.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),null===(e=this.getPanes())||void 0===e||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();null!==t&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),null!==this.boundsChangedListener&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),null!==this.timeOut&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},e.prototype.draw=function(){if(this.visible&&null!==this.div&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=null!==e?"".concat(e.y,"px"):"0",this.div.style.left=null!==e?"".concat(e.x,"px"):"0"}},e.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},e.prototype.show=function(){var e,t,n,r,i,s;if(this.div&&this.center){var o=null===this.sums||"undefined"===typeof this.sums.title||""===this.sums.title?this.cluster.getClusterer().getTitle():this.sums.title,a=this.backgroundPosition.split(" "),l=parseInt((null===(e=a[0])||void 0===e?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),u=parseInt((null===(t=a[1])||void 0===t?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),c=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(null!==c?"".concat(c.y,"px"):"0","; left: ").concat(null!==c?"".concat(c.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var h=document.createElement("img");h.alt=o,h.src=this.url,h.width=this.width,h.height=this.height,h.setAttribute("style","position: absolute; top: ".concat(u,"px; left: ").concat(l,"px")),this.cluster.getClusterer().enableRetinaIcons||(h.style.clip="rect(-".concat(u,"px, -").concat(l+this.width,"px, -").concat(u+this.height,", -").concat(l,")"));var d=document.createElement("div");d.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),(null===(n=this.sums)||void 0===n?void 0:n.text)&&(d.innerText="".concat(null===(r=this.sums)||void 0===r?void 0:r.text)),(null===(i=this.sums)||void 0===i?void 0:i.html)&&(d.innerHTML="".concat(null===(s=this.sums)||void 0===s?void 0:s.html)),this.div.innerHTML="",this.div.appendChild(h),this.div.appendChild(d),this.div.title=o,this.div.style.display=""}this.visible=!0},e.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),n=t[Math.min(t.length-1,Math.max(0,e.index-1))];n&&(this.url=n.url,this.height=n.height,this.width=n.width,n.className&&(this.className="".concat(this.clusterClassName," ").concat(n.className)),this.anchorText=n.anchorText||[0,0],this.anchorIcon=n.anchorIcon||[this.height/2,this.width/2],this.textColor=n.textColor||"black",this.textSize=n.textSize||11,this.textDecoration=n.textDecoration||"none",this.fontWeight=n.fontWeight||"bold",this.fontStyle=n.fontStyle||"normal",this.fontFamily=n.fontFamily||"Arial,sans-serif",this.backgroundPosition=n.backgroundPosition||"0 0")},e.prototype.setCenter=function(e){this.center=e},e.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return null!==t&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},e}(),z_=function(){function e(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new F_(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return e.prototype.getSize=function(){return this.markers.length},e.prototype.getMarkers=function(){return this.markers},e.prototype.getCenter=function(){return this.center},e.prototype.getMap=function(){return this.map},e.prototype.getClusterer=function(){return this.markerClusterer},e.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=0,n=this.getMarkers();t<n.length;t++){var r=n[t].getPosition();r&&e.extend(r)}return e},e.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},e.prototype.addMarker=function(e){var t,n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter&&(n=e.getPosition())){var r=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(r-1)+n.lat())/r,(this.center.lng()*(r-1)+n.lng())/r),this.calculateBounds()}}else(n=e.getPosition())&&(this.center=n,this.calculateBounds());e.isAdded=!0,this.markers.push(e);var i=this.markers.length,s=this.markerClusterer.getMaxZoom(),o=null===(t=this.map)||void 0===t?void 0:t.getZoom();if(null!==s&&"undefined"!==typeof o&&o>s)e.getMap()!==this.map&&e.setMap(this.map);else if(i<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(i===this.minClusterSize)for(var a=0,l=this.markers;a<l.length;a++){l[a].setMap(null)}else e.setMap(null);return!0},e.prototype.isMarkerInClusterBounds=function(e){if(null!==this.bounds){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},e.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},e.prototype.updateIcon=function(){var e,t=this.markers.length,n=this.markerClusterer.getMaxZoom(),r=null===(e=this.map)||void 0===e?void 0:e.getZoom();null!==n&&"undefined"!==typeof r&&r>n||t<this.minClusterSize?this.clusterIcon.hide():(this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show())},e.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},e}();function V_(e,t){var n=e.length,r=n.toString().length,i=Math.min(r,t);return{text:n.toString(),index:i,title:""}}var B_=[53,56,66,78,90],$_=function(){function e(t,n,r){void 0===n&&(n=[]),void 0===r&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(e,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,void 0!==r.zoomOnClick&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,void 0!==r.averageCenter&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,void 0!==r.ignoreHidden&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,void 0!==r.enableRetinaIcons&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",this.imageExtension=r.imageExtension||"png",this.imageSizes=r.imageSizes||B_,this.calculator=r.calculator||V_,this.batchSize=r.batchSize||2e3,this.batchSizeIE=r.batchSizeIE||500,this.clusterClass=r.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(t)}return e.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(null===(e=this.getMap())||void 0===e?void 0:e.getZoom())!==(this.get("minZoom")||0)&&(null===(t=this.getMap())||void 0===t?void 0:t.getZoom())!==this.get("maxZoom")||google.maps.event.trigger(this,"idle")},e.prototype.onIdle=function(){this.redraw()},e.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),null!==e&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},e.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var n=t[e];n.getMap()!==this.activeMap&&n.setMap(this.activeMap)}for(var r=0,i=this.clusters;r<i.length;r++){i[r].remove()}this.clusters=[];for(var s=0,o=this.listeners;s<o.length;s++){var a=o[s];google.maps.event.removeListener(a)}this.listeners=[],this.activeMap=null,this.ready=!1},e.prototype.draw=function(){},e.prototype.getMap=function(){return null},e.prototype.getPanes=function(){return null},e.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},e.prototype.setMap=function(){},e.prototype.addListener=function(){return{remove:function(){}}},e.prototype.bindTo=function(){},e.prototype.get=function(){},e.prototype.notify=function(){},e.prototype.set=function(){},e.prototype.setValues=function(){},e.prototype.unbind=function(){},e.prototype.unbindAll=function(){},e.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},e.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,n=0,r=e;n<r.length;n++){var i=r[n].getPosition();i&&t.extend(i)}var s=this.getMap();null!==s&&"fitBounds"in s&&s.fitBounds(t)},e.prototype.getGridSize=function(){return this.gridSize},e.prototype.setGridSize=function(e){this.gridSize=e},e.prototype.getMinimumClusterSize=function(){return this.minClusterSize},e.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.setMaxZoom=function(e){this.maxZoom=e},e.prototype.getStyles=function(){return this.styles},e.prototype.setStyles=function(e){this.styles=e},e.prototype.getTitle=function(){return this.title},e.prototype.setTitle=function(e){this.title=e},e.prototype.getZoomOnClick=function(){return this.zoomOnClick},e.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},e.prototype.getAverageCenter=function(){return this.averageCenter},e.prototype.setAverageCenter=function(e){this.averageCenter=e},e.prototype.getIgnoreHidden=function(){return this.ignoreHidden},e.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},e.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},e.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},e.prototype.getImageExtension=function(){return this.imageExtension},e.prototype.setImageExtension=function(e){this.imageExtension=e},e.prototype.getImagePath=function(){return this.imagePath},e.prototype.setImagePath=function(e){this.imagePath=e},e.prototype.getImageSizes=function(){return this.imageSizes},e.prototype.setImageSizes=function(e){this.imageSizes=e},e.prototype.getCalculator=function(){return this.calculator},e.prototype.setCalculator=function(e){this.calculator=e},e.prototype.getBatchSizeIE=function(){return this.batchSizeIE},e.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},e.prototype.getClusterClass=function(){return this.clusterClass},e.prototype.setClusterClass=function(e){this.clusterClass=e},e.prototype.getMarkers=function(){return this.markers},e.prototype.getTotalMarkers=function(){return this.markers.length},e.prototype.getClusters=function(){return this.clusters},e.prototype.getTotalClusters=function(){return this.clusters.length},e.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},e.prototype.addMarkers=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];r&&this.pushMarkerTo(r)}t||this.redraw()},e.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",(function(){t.ready&&(e.isAdded=!1,t.repaint())})),e.isAdded=!1,this.markers.push(e)},e.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var n=0;n<this.markers.length;n++)if(e===this.markers[n]){t=n;break}return-1!==t&&(e.setMap(null),this.markers.splice(t,1),!0)},e.prototype.removeMarker=function(e,t){var n=this.removeMarker_(e);return!t&&n&&this.repaint(),n},e.prototype.removeMarkers=function(e,t){for(var n=!1,r=0,i=e;r<i.length;r++){var s=i[r];n=n||this.removeMarker_(s)}return!t&&n&&this.repaint(),n},e.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},e.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout((function(){for(var t=0,n=e;t<n.length;t++){n[t].remove()}}),0)},e.prototype.getExtendedBounds=function(e){var t=this.getProjection(),n=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));null!==n&&(n.x+=this.gridSize,n.y-=this.gridSize);var r=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(null!==r&&(r.x-=this.gridSize,r.y+=this.gridSize),null!==n){var i=t.fromDivPixelToLatLng(n);null!==i&&e.extend(i)}if(null!==r){var s=t.fromDivPixelToLatLng(r);null!==s&&e.extend(s)}return e},e.prototype.redraw=function(){this.createClusters(0)},e.prototype.resetViewport=function(e){for(var t=0,n=this.clusters;t<n.length;t++){n[t].remove()}this.clusters=[];for(var r=0,i=this.markers;r<i.length;r++){var s=i[r];s.isAdded=!1,e&&s.setMap(null)}},e.prototype.distanceBetweenPoints=function(e,t){var n=(t.lat()-e.lat())*Math.PI/180,r=(t.lng()-e.lng())*Math.PI/180,i=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2);return 2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))*6371},e.prototype.isMarkerInBounds=function(e,t){var n=e.getPosition();return!!n&&t.contains(n)},e.prototype.addToClosestCluster=function(e){for(var t,n=4e4,r=null,i=0,s=this.clusters;i<s.length;i++){var o=(t=s[i]).getCenter(),a=e.getPosition();if(o&&a){var l=this.distanceBetweenPoints(o,a);l<n&&(n=l,r=t)}}r&&r.isMarkerInClusterBounds(e)?r.addMarker(e):((t=new z_(this)).addMarker(e),this.clusters.push(t))},e.prototype.createClusters=function(e){var t=this;if(this.ready){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),null!==this.timerRefStatic&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var n=this.getMap(),r=(null!==n&&"getBounds"in n?n.getBounds():null),i=((null===n||void 0===n?void 0:n.getZoom())||0)>3?new google.maps.LatLngBounds(null===r||void 0===r?void 0:r.getSouthWest(),null===r||void 0===r?void 0:r.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),s=this.getExtendedBounds(i),o=Math.min(e+this.batchSize,this.markers.length),a=e;a<o;a++){var l=this.markers[a];l&&!l.isAdded&&this.isMarkerInBounds(l,s)&&(!this.ignoreHidden||this.ignoreHidden&&l.getVisible())&&this.addToClosestCluster(l)}if(o<this.markers.length)this.timerRefStatic=window.setTimeout((function(){t.createClusters(o)}),0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var u=0,c=this.clusters;u<c.length;u++){c[u].updateIcon()}}}},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype){var n=t;this.prototype[n]=e.prototype[n]}return this}.apply(e,[t])},e}();function W_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var H_={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},q_={averageCenter(e,t){e.setAverageCenter(t)},batchSizeIE(e,t){e.setBatchSizeIE(t)},calculator(e,t){e.setCalculator(t)},clusterClass(e,t){e.setClusterClass(t)},enableRetinaIcons(e,t){e.setEnableRetinaIcons(t)},gridSize(e,t){e.setGridSize(t)},ignoreHidden(e,t){e.setIgnoreHidden(t)},imageExtension(e,t){e.setImageExtension(t)},imagePath(e,t){e.setImagePath(t)},imageSizes(e,t){e.setImageSizes(t)},maxZoom(e,t){e.setMaxZoom(t)},minimumClusterSize(e,t){e.setMinimumClusterSize(t)},styles(e,t){e.setStyles(t)},title(e,t){e.setTitle(t)},zoomOnClick(e,t){e.setZoomOnClick(t)}},K_={};(0,t.memo)((function(e){var{children:n,options:r,averageCenter:i,batchSizeIE:s,calculator:o,clusterClass:a,enableRetinaIcons:l,gridSize:u,ignoreHidden:c,imageExtension:h,imagePath:d,imageSizes:p,maxZoom:f,minimumClusterSize:g,styles:m,title:v,zoomOnClick:y,onClick:b,onClusteringBegin:w,onClusteringEnd:E,onMouseOver:_,onMouseOut:S,onLoad:x,onUnmount:k}=e,[C,T]=(0,t.useState)(null),I=(0,t.useContext)(YE),[L,P]=(0,t.useState)(null),[O,A]=(0,t.useState)(null),[D,R]=(0,t.useState)(null),[M,N]=(0,t.useState)(null),[j,U]=(0,t.useState)(null);return(0,t.useEffect)((()=>{C&&S&&(null!==M&&google.maps.event.removeListener(M),N(google.maps.event.addListener(C,H_.onMouseOut,S)))}),[S]),(0,t.useEffect)((()=>{C&&_&&(null!==j&&google.maps.event.removeListener(j),U(google.maps.event.addListener(C,H_.onMouseOver,_)))}),[_]),(0,t.useEffect)((()=>{C&&b&&(null!==L&&google.maps.event.removeListener(L),P(google.maps.event.addListener(C,H_.onClick,b)))}),[b]),(0,t.useEffect)((()=>{C&&w&&(null!==O&&google.maps.event.removeListener(O),A(google.maps.event.addListener(C,H_.onClusteringBegin,w)))}),[w]),(0,t.useEffect)((()=>{C&&E&&(null!==D&&google.maps.event.removeListener(D),A(google.maps.event.addListener(C,H_.onClusteringEnd,E)))}),[E]),(0,t.useEffect)((()=>{"undefined"!==typeof i&&null!==C&&q_.averageCenter(C,i)}),[C,i]),(0,t.useEffect)((()=>{"undefined"!==typeof s&&null!==C&&q_.batchSizeIE(C,s)}),[C,s]),(0,t.useEffect)((()=>{"undefined"!==typeof o&&null!==C&&q_.calculator(C,o)}),[C,o]),(0,t.useEffect)((()=>{"undefined"!==typeof a&&null!==C&&q_.clusterClass(C,a)}),[C,a]),(0,t.useEffect)((()=>{"undefined"!==typeof l&&null!==C&&q_.enableRetinaIcons(C,l)}),[C,l]),(0,t.useEffect)((()=>{"undefined"!==typeof u&&null!==C&&q_.gridSize(C,u)}),[C,u]),(0,t.useEffect)((()=>{"undefined"!==typeof c&&null!==C&&q_.ignoreHidden(C,c)}),[C,c]),(0,t.useEffect)((()=>{"undefined"!==typeof h&&null!==C&&q_.imageExtension(C,h)}),[C,h]),(0,t.useEffect)((()=>{"undefined"!==typeof d&&null!==C&&q_.imagePath(C,d)}),[C,d]),(0,t.useEffect)((()=>{"undefined"!==typeof p&&null!==C&&q_.imageSizes(C,p)}),[C,p]),(0,t.useEffect)((()=>{"undefined"!==typeof f&&null!==C&&q_.maxZoom(C,f)}),[C,f]),(0,t.useEffect)((()=>{"undefined"!==typeof g&&null!==C&&q_.minimumClusterSize(C,g)}),[C,g]),(0,t.useEffect)((()=>{"undefined"!==typeof m&&null!==C&&q_.styles(C,m)}),[C,m]),(0,t.useEffect)((()=>{"undefined"!==typeof v&&null!==C&&q_.title(C,v)}),[C,v]),(0,t.useEffect)((()=>{"undefined"!==typeof y&&null!==C&&q_.zoomOnClick(C,y)}),[C,y]),(0,t.useEffect)((()=>{if(I){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W_(Object(n),!0).forEach((function(t){WE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r||K_),t=new $_(I,[],e);return i&&q_.averageCenter(t,i),s&&q_.batchSizeIE(t,s),o&&q_.calculator(t,o),a&&q_.clusterClass(t,a),l&&q_.enableRetinaIcons(t,l),u&&q_.gridSize(t,u),c&&q_.ignoreHidden(t,c),h&&q_.imageExtension(t,h),d&&q_.imagePath(t,d),p&&q_.imageSizes(t,p),f&&q_.maxZoom(t,f),g&&q_.minimumClusterSize(t,g),m&&q_.styles(t,m),v&&q_.title(t,v),y&&q_.zoomOnClick(t,y),S&&N(google.maps.event.addListener(t,H_.onMouseOut,S)),_&&U(google.maps.event.addListener(t,H_.onMouseOver,_)),b&&P(google.maps.event.addListener(t,H_.onClick,b)),w&&A(google.maps.event.addListener(t,H_.onClusteringBegin,w)),E&&R(google.maps.event.addListener(t,H_.onClusteringEnd,E)),T(t),x&&x(t),()=>{null!==M&&google.maps.event.removeListener(M),null!==j&&google.maps.event.removeListener(j),null!==L&&google.maps.event.removeListener(L),null!==O&&google.maps.event.removeListener(O),null!==D&&google.maps.event.removeListener(D),k&&k(t)}}}),[]),null!==C&&n(C)||null}));class G_ extends t.PureComponent{constructor(){super(...arguments),WE(this,"registeredEvents",[]),WE(this,"state",{markerClusterer:null}),WE(this,"setClustererCallback",(()=>{null!==this.state.markerClusterer&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)}))}componentDidMount(){if(this.context){var e=new $_(this.context,[],this.props.options);this.registeredEvents=t_({updaterMap:q_,eventMap:H_,prevProps:{},nextProps:this.props,instance:e}),this.setState((()=>({markerClusterer:e})),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(e_(this.registeredEvents),this.registeredEvents=t_({updaterMap:q_,eventMap:H_,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){null!==this.state.markerClusterer&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),e_(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return null!==this.state.markerClusterer?this.props.children(this.state.markerClusterer):null}}function Q_(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}WE(G_,"contextType",YE);var Y_=function(){function e(t){void 0===t&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(e,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===t.closeBoxURL&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),"undefined"===typeof t.visible&&("undefined"===typeof t.isHidden?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return e.prototype.createInfoBoxDiv=function(){var e=this;if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),"string"===typeof this.content?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var t=this.getPanes();if(null!==t&&t[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(0!==this.maxWidth&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var n=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-n.left-n.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var r=0,i=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"];r<i.length;r++){var s=i[r];this.eventListeners.push(google.maps.event.addListener(this.div,s,Q_))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",(function(){e.div&&(e.div.style.cursor="default")})))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",(function(t){t.returnValue=!1,t.preventDefault&&t.preventDefault(),e.enableEventPropagation||Q_(t)})),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg=function(){var e="";return""!==this.closeBoxURL&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},e.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&""!==this.closeBoxURL?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},e.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},e.prototype.getCloseClickHandler=function(){return this.closeClickHandler},e.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var n=0,r=0,i=t.getBounds();i&&!i.contains(this.position)&&t.setCenter(this.position);var s=t.getDiv(),o=s.offsetWidth,a=s.offsetHeight,l=this.pixelOffset.width,u=this.pixelOffset.height,c=this.div.offsetWidth,h=this.div.offsetHeight,d=this.infoBoxClearance.width,p=this.infoBoxClearance.height,f=this.getProjection().fromLatLngToContainerPixel(this.position);null!==f&&(f.x<-l+d?n=f.x+l-d:f.x+c+l+d>o&&(n=f.x+c+l+d-o),this.alignBottom?f.y<-u+p+h?r=f.y+u-p-h:f.y+u+p>a&&(r=f.y+u+p-a):f.y<-u+p?r=f.y+u-p:f.y+h+u+p>a&&(r=f.y+h+u+p-a)),0===n&&0===r||t.panBy(n,r)}}},e.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)","undefined"!==typeof this.div.style.opacity&&""!==this.div.style.opacity){var n=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*n+')"',this.div.style.filter="alpha(opacity="+100*n+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",null!==this.zIndex&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},e.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,n=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;n&&(e.top=parseInt(n.borderTopWidth||"",10)||0,e.bottom=parseInt(n.borderBottomWidth||"",10)||0,e.left=parseInt(n.borderLeftWidth||"",10)||0,e.right=parseInt(n.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var r=this.div.currentStyle;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}return e},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},e.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection().fromLatLngToDivPixel(this.position);null!==e&&(this.div.style.left=e.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(e.y+this.pixelOffset.height)+"px":this.div.style.top=e.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},e.prototype.setOptions=function(e){void 0===e&&(e={}),"undefined"!==typeof e.boxClass&&(this.boxClass=e.boxClass,this.setBoxStyle()),"undefined"!==typeof e.boxStyle&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),"undefined"!==typeof e.content&&this.setContent(e.content),"undefined"!==typeof e.disableAutoPan&&(this.disableAutoPan=e.disableAutoPan),"undefined"!==typeof e.maxWidth&&(this.maxWidth=e.maxWidth),"undefined"!==typeof e.pixelOffset&&(this.pixelOffset=e.pixelOffset),"undefined"!==typeof e.alignBottom&&(this.alignBottom=e.alignBottom),"undefined"!==typeof e.position&&this.setPosition(e.position),"undefined"!==typeof e.zIndex&&this.setZIndex(e.zIndex),"undefined"!==typeof e.closeBoxMargin&&(this.closeBoxMargin=e.closeBoxMargin),"undefined"!==typeof e.closeBoxURL&&(this.closeBoxURL=e.closeBoxURL),"undefined"!==typeof e.infoBoxClearance&&(this.infoBoxClearance=e.infoBoxClearance),"undefined"!==typeof e.isHidden&&(this.isHidden=e.isHidden),"undefined"!==typeof e.visible&&(this.isHidden=!e.visible),"undefined"!==typeof e.enableEventPropagation&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},e.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),"string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px","string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},e.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},e.prototype.getContent=function(){return this.content},e.prototype.getPosition=function(){return this.position},e.prototype.getZIndex=function(){return this.zIndex},e.prototype.getVisible=function(){var e=this.getMap();return"undefined"!==typeof e&&null!==e&&!this.isHidden},e.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},e.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},e.prototype.open=function(e,t){var n=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",(function(){var e=t.getPosition();n.setPosition(e)})),this.mapListener=google.maps.event.addListener(t,"map_changed",(function(){n.setMap(t.map)}))),this.setMap(e),this.div&&this.panBox()},e.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var n=t[e];google.maps.event.removeListener(n)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype)Object.prototype.hasOwnProperty.call(this,t)||(this.prototype[t]=e.prototype[t]);return this}.apply(e,[t])},e}(),J_=["position"],X_=["position"];function Z_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z_(Object(n),!0).forEach((function(t){WE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tS={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},nS={options(e,t){e.setOptions(t)},position(e,t){t instanceof google.maps.LatLng?e.setPosition(t):e.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},rS={};var iS,sS;(0,t.memo)((function(e){var{children:n,anchor:r,options:i,position:o,zIndex:a,onCloseClick:l,onDomReady:u,onContentChanged:c,onPositionChanged:h,onZindexChanged:d,onLoad:p,onUnmount:f}=e,g=(0,t.useContext)(YE),[m,v]=(0,t.useState)(null),[y,b]=(0,t.useState)(null),[w,E]=(0,t.useState)(null),[_,S]=(0,t.useState)(null),[x,k]=(0,t.useState)(null),[C,T]=(0,t.useState)(null),I=(0,t.useRef)(null);return(0,t.useEffect)((()=>{g&&null!==m&&(m.close(),r?m.open(g,r):m.getPosition()&&m.open(g))}),[g,m,r]),(0,t.useEffect)((()=>{i&&null!==m&&m.setOptions(i)}),[m,i]),(0,t.useEffect)((()=>{if(o&&null!==m){var e=o instanceof google.maps.LatLng?o:new google.maps.LatLng(o.lat,o.lng);m.setPosition(e)}}),[o]),(0,t.useEffect)((()=>{"number"===typeof a&&null!==m&&m.setZIndex(a)}),[a]),(0,t.useEffect)((()=>{m&&l&&(null!==y&&google.maps.event.removeListener(y),b(google.maps.event.addListener(m,"closeclick",l)))}),[l]),(0,t.useEffect)((()=>{m&&u&&(null!==w&&google.maps.event.removeListener(w),E(google.maps.event.addListener(m,"domready",u)))}),[u]),(0,t.useEffect)((()=>{m&&c&&(null!==_&&google.maps.event.removeListener(_),S(google.maps.event.addListener(m,"content_changed",c)))}),[c]),(0,t.useEffect)((()=>{m&&h&&(null!==x&&google.maps.event.removeListener(x),k(google.maps.event.addListener(m,"position_changed",h)))}),[h]),(0,t.useEffect)((()=>{m&&d&&(null!==C&&google.maps.event.removeListener(C),T(google.maps.event.addListener(m,"zindex_changed",d)))}),[d]),(0,t.useEffect)((()=>{if(g){var e,t=i||rS,{position:n}=t,s=v_(t,J_);!n||n instanceof google.maps.LatLng||(e=new google.maps.LatLng(n.lat,n.lng));var o=new Y_(eS(eS({},s),e?{position:e}:{}));I.current=document.createElement("div"),v(o),l&&b(google.maps.event.addListener(o,"closeclick",l)),u&&E(google.maps.event.addListener(o,"domready",u)),c&&S(google.maps.event.addListener(o,"content_changed",c)),h&&k(google.maps.event.addListener(o,"position_changed",h)),d&&T(google.maps.event.addListener(o,"zindex_changed",d)),o.setContent(I.current),r?o.open(g,r):o.getPosition()?o.open(g):QE(!1,"You must provide either an anchor or a position prop for <InfoBox>."),p&&p(o)}return()=>{null!==m&&(y&&google.maps.event.removeListener(y),_&&google.maps.event.removeListener(_),w&&google.maps.event.removeListener(w),x&&google.maps.event.removeListener(x),C&&google.maps.event.removeListener(C),f&&f(m),m.close())}}),[]),I.current?(0,s.createPortal)(t.Children.only(n),I.current):null}));class oS extends t.PureComponent{constructor(){super(...arguments),WE(this,"registeredEvents",[]),WE(this,"containerElement",null),WE(this,"state",{infoBox:null}),WE(this,"open",((e,t)=>{t?null!==this.context&&e.open(this.context,t):e.getPosition()?null!==this.context&&e.open(this.context):QE(!1,"You must provide either an anchor or a position prop for <InfoBox>.")})),WE(this,"setInfoBoxCallback",(()=>{null!==this.state.infoBox&&null!==this.containerElement&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))}))}componentDidMount(){var e,t=this.props.options||{},{position:n}=t,r=v_(t,X_);!n||n instanceof google.maps.LatLng||(e=new google.maps.LatLng(n.lat,n.lng));var i=new Y_(eS(eS({},r),e?{position:e}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=t_({updaterMap:nS,eventMap:tS,prevProps:{},nextProps:this.props,instance:i}),this.setState({infoBox:i},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:t}=this.state;null!==t&&(e_(this.registeredEvents),this.registeredEvents=t_({updaterMap:nS,eventMap:tS,prevProps:e,nextProps:this.props,instance:t}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:t}=this.state;null!==t&&(e&&e(t),e_(this.registeredEvents),t.close())}render(){return this.containerElement?(0,s.createPortal)(t.Children.only(this.props.children),this.containerElement):null}}WE(oS,"contextType",YE);var aS=(sS||(sS=1,iS=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(s=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;0!==i--;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),iS),lS=HE(aS),uS=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class cS{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[t,n]=new Uint8Array(e,0,2);if(219!==t)throw new Error("Data does not appear to be in a KDBush format.");var r=n>>4;if(1!==r)throw new Error("Got v".concat(r," data when expected v").concat(1,"."));var i=uS[15&n];if(!i)throw new Error("Unrecognized array type.");var[s]=new Uint16Array(e,2,1),[o]=new Uint32Array(e,4,1);return new cS(o,s,i,e)}constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float64Array,r=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=n,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var i=uS.indexOf(this.ArrayType),s=2*e*this.ArrayType.BYTES_PER_ELEMENT,o=e*this.IndexArrayType.BYTES_PER_ELEMENT,a=(8-o%8)%8;if(i<0)throw new Error("Unexpected typed array class: ".concat(n,"."));r&&r instanceof ArrayBuffer?(this.data=r,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+o+a,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+s+o+a),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+o+a,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+i]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){var n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=t,n}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return hS(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:s,nodeSize:o}=this,a=[0,i.length-1,0],l=[];a.length;){var u=a.pop()||0,c=a.pop()||0,h=a.pop()||0;if(c-h<=o)for(var d=h;d<=c;d++){var p=s[2*d],f=s[2*d+1];p>=e&&p<=n&&f>=t&&f<=r&&l.push(i[d])}else{var g=h+c>>1,m=s[2*g],v=s[2*g+1];m>=e&&m<=n&&v>=t&&v<=r&&l.push(i[g]),(0===u?e<=m:t<=v)&&(a.push(h),a.push(g-1),a.push(1-u)),(0===u?n>=m:r>=v)&&(a.push(g+1),a.push(c),a.push(1-u))}}return l}within(e,t,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:r,coords:i,nodeSize:s}=this,o=[0,r.length-1,0],a=[],l=n*n;o.length;){var u=o.pop()||0,c=o.pop()||0,h=o.pop()||0;if(c-h<=s)for(var d=h;d<=c;d++)gS(i[2*d],i[2*d+1],e,t)<=l&&a.push(r[d]);else{var p=h+c>>1,f=i[2*p],g=i[2*p+1];gS(f,g,e,t)<=l&&a.push(r[p]),(0===u?e-n<=f:t-n<=g)&&(o.push(h),o.push(p-1),o.push(1-u)),(0===u?e+n>=f:t+n>=g)&&(o.push(p+1),o.push(c),o.push(1-u))}}return a}}function hS(e,t,n,r,i,s){if(!(i-r<=n)){var o=r+i>>1;dS(e,t,o,r,i,s),hS(e,t,n,r,o-1,1-s),hS(e,t,n,o+1,i,1-s)}}function dS(e,t,n,r,i,s){for(;i>r;){if(i-r>600){var o=i-r+1,a=n-r+1,l=Math.log(o),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(o-u)/o)*(a-o/2<0?-1:1);dS(e,t,n,Math.max(r,Math.floor(n-a*u/o+c)),Math.min(i,Math.floor(n+(o-a)*u/o+c)),s)}var h=t[2*n+s],d=r,p=i;for(pS(e,t,r,n),t[2*i+s]>h&&pS(e,t,r,i);d<p;){for(pS(e,t,d,p),d++,p--;t[2*d+s]<h;)d++;for(;t[2*p+s]>h;)p--}t[2*r+s]===h?pS(e,t,r,p):pS(e,t,++p,i),p<=n&&(r=p+1),n<=p&&(i=p-1)}}function pS(e,t,n,r){fS(e,n,r),fS(t,2*n,2*r),fS(t,2*n+1,2*r+1)}function fS(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function gS(e,t,n,r){var i=e-n,s=t-r;return i*i+s*s}var mS,vS={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},yS=Math.fround||(mS=new Float32Array(1),e=>(mS[0]=+e,mS[0]));class bS{constructor(e){this.options=Object.assign(Object.create(vS),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:t,minZoom:n,maxZoom:r}=this.options;t&&console.time("total time");var i="prepare ".concat(e.length," points");t&&console.time(i),this.points=e;for(var s=[],o=0;o<e.length;o++){var a=e[o];if(a.geometry){var[l,u]=a.geometry.coordinates,c=yS(_S(l)),h=yS(SS(u));s.push(c,h,1/0,o,-1,1),this.options.reduce&&s.push(0)}}var d=this.trees[r+1]=this._createTree(s);t&&console.timeEnd(i);for(var p=r;p>=n;p--){var f=+Date.now();d=this.trees[p]=this._createTree(this._cluster(d,p)),t&&console.log("z%d: %d clusters in %dms",p,d.numItems,+Date.now()-f)}return t&&console.timeEnd("total time"),this}getClusters(e,t){var n=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),i=180===e[2]?180:((e[2]+180)%360+360)%360-180,s=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,i=180;else if(n>i){var o=this.getClusters([n,r,180,s],t),a=this.getClusters([-180,r,i,s],t);return o.concat(a)}var l=this.trees[this._limitZoom(t)],u=l.range(_S(n),SS(s),_S(i),SS(r)),c=l.data,h=[];for(var d of u){var p=this.stride*d;h.push(c[p+5]>1?wS(c,p,this.clusterProps):this.points[c[p+3]])}return h}getChildren(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);var s=i.data;if(t*this.stride>=s.length)throw new Error(r);var o=this.options.radius/(this.options.extent*Math.pow(2,n-1)),a=s[t*this.stride],l=s[t*this.stride+1],u=i.within(a,l,o),c=[];for(var h of u){var d=h*this.stride;s[d+4]===e&&c.push(s[d+5]>1?wS(s,d,this.clusterProps):this.points[s[d+3]])}if(0===c.length)throw new Error(r);return c}getLeaves(e,t,n){t=t||10,n=n||0;var r=[];return this._appendLeaves(r,e,t,n,0),r}getTile(e,t,n){var r=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:s,radius:o}=this.options,a=o/s,l=(n-a)/i,u=(n+1+a)/i,c={features:[]};return this._addTileFeatures(r.range((t-a)/i,l,(t+1+a)/i,u),r.data,t,n,i,c),0===t&&this._addTileFeatures(r.range(1-a/i,l,1,u),r.data,i,n,i,c),t===i-1&&this._addTileFeatures(r.range(0,l,a/i,u),r.data,-1,n,i,c),c.features.length?c:null}getClusterExpansionZoom(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}_appendLeaves(e,t,n,r,i){var s=this.getChildren(t);for(var o of s){var a=o.properties;if(a&&a.cluster?i+a.point_count<=r?i+=a.point_count:i=this._appendLeaves(e,a.cluster_id,n,r,i):i<r?i++:e.push(o),e.length===n)break}return i}_createTree(e){for(var t=new cS(e.length/this.stride|0,this.options.nodeSize,Float32Array),n=0;n<e.length;n+=this.stride)t.add(e[n],e[n+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,n,r,i,s){for(var o of e){var a=o*this.stride,l=t[a+5]>1,u=void 0,c=void 0,h=void 0;if(l)u=ES(t,a,this.clusterProps),c=t[a],h=t[a+1];else{var d=this.points[t[a+3]];u=d.properties;var[p,f]=d.geometry.coordinates;c=_S(p),h=SS(f)}var g={type:1,geometry:[[Math.round(this.options.extent*(c*i-n)),Math.round(this.options.extent*(h*i-r))]],tags:u},m=void 0;void 0!==(m=l||this.options.generateId?t[a+3]:this.points[t[a+3]].id)&&(g.id=m),s.features.push(g)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){for(var{radius:n,extent:r,reduce:i,minPoints:s}=this.options,o=n/(r*Math.pow(2,t)),a=e.data,l=[],u=this.stride,c=0;c<a.length;c+=u)if(!(a[c+2]<=t)){a[c+2]=t;var h=a[c],d=a[c+1],p=e.within(a[c],a[c+1],o),f=a[c+5],g=f;for(var m of p){var v=m*u;a[v+2]>t&&(g+=a[v+5])}if(g>f&&g>=s){var y=h*f,b=d*f,w=void 0,E=-1,_=(c/u<<5)+(t+1)+this.points.length;for(var S of p){var x=S*u;if(!(a[x+2]<=t)){a[x+2]=t;var k=a[x+5];y+=a[x]*k,b+=a[x+1]*k,a[x+4]=_,i&&(w||(w=this._map(a,c,!0),E=this.clusterProps.length,this.clusterProps.push(w)),i(w,this._map(a,x)))}}a[c+4]=_,l.push(y/g,b/g,1/0,_,-1,g),i&&l.push(E)}else{for(var C=0;C<u;C++)l.push(a[c+C]);if(g>1)for(var T of p){var I=T*u;if(!(a[I+2]<=t)){a[I+2]=t;for(var L=0;L<u;L++)l.push(a[I+L])}}}}return l}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,n){if(e[t+5]>1){var r=this.clusterProps[e[t+6]];return n?Object.assign({},r):r}var i=this.points[e[t+3]].properties,s=this.options.map(i);return n&&s===i?Object.assign({},s):s}}function wS(e,t,n){return{type:"Feature",id:e[t+3],properties:ES(e,t,n),geometry:{type:"Point",coordinates:[xS(e[t]),kS(e[t+1])]}}}function ES(e,t,n){var r=e[t+5],i=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,s=e[t+6],o=-1===s?{}:Object.assign({},n[s]);return Object.assign(o,{cluster:!0,cluster_id:e[t+3],point_count:r,point_count_abbreviated:i})}function _S(e){return e/360+.5}function SS(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function xS(e){return 360*(e-.5)}function kS(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function CS(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}class TS{static isAdvancedMarkerAvailable(e){return google.maps.marker&&!0===e.getMapCapabilities().isAdvancedMarkersAvailable}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return!!this.isAdvancedMarker(e)||e.getVisible()}}class IS{constructor(e){var{markers:t,position:n}=e;this.markers=t,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(0!==this.markers.length||this._position){var e=new google.maps.LatLngBounds(this._position,this._position);for(var t of this.markers)e.extend(TS.getPosition(t));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter((e=>TS.getVisible(e))).length}push(e){this.markers.push(e)}delete(){this.marker&&(TS.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class LS{constructor(e){var{maxZoom:t=16}=e;this.maxZoom=t}noop(e){var{markers:t}=e;return OS(t)}}var PS,OS=e=>e.map((e=>new IS({position:TS.getPosition(e),markers:[e]})));class AS extends LS{constructor(e){var{maxZoom:t,radius:n=60}=e,r=CS(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new bS(Object.assign({maxZoom:this.maxZoom,radius:n},r))}calculate(e){var t=!1,n={zoom:e.map.getZoom()};if(!lS(e.markers,this.markers)){t=!0,this.markers=[...e.markers];var r=this.markers.map((e=>{var t=TS.getPosition(e);return{type:"Feature",geometry:{type:"Point",coordinates:[t.lng(),t.lat()]},properties:{marker:e}}}));this.superCluster.load(r)}return t||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(t=!lS(this.state,n)),this.state=n,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster(e){var{map:t}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map((e=>this.transformCluster(e)))}transformCluster(e){var{geometry:{coordinates:[t,n]},properties:r}=e;if(r.cluster)return new IS({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map((e=>e.properties.marker)),position:{lat:n,lng:t}});var i=r.marker;return new IS({markers:[i],position:TS.getPosition(i)})}}class DS{constructor(e,t){this.markers={sum:e.length};var n=t.map((e=>e.count)),r=n.reduce(((e,t)=>e+t),0);this.clusters={count:t.length,markers:{mean:r/t.length,sum:r,min:Math.min(...n),max:Math.max(...n)}}}}class RS{render(e,t,n){var{count:r,position:i}=e,s=r>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",o='<svg fill="'.concat(s,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">\n<circle cx="120" cy="120" opacity=".6" r="70" />\n<circle cx="120" cy="120" opacity=".3" r="90" />\n<circle cx="120" cy="120" opacity=".2" r="110" />\n<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">').concat(r,"</text>\n</svg>"),a="Cluster of ".concat(r," markers"),l=Number(google.maps.Marker.MAX_ZINDEX)+r;if(TS.isAdvancedMarkerAvailable(n)){var u=(new DOMParser).parseFromString(o,"image/svg+xml").documentElement;u.setAttribute("transform","translate(0 25)");var c={map:n,position:i,zIndex:l,title:a,content:u};return new google.maps.marker.AdvancedMarkerElement(c)}var h={position:i,zIndex:l,title:a,icon:{url:"data:image/svg+xml;base64,".concat(btoa(o)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(h)}}class MS{constructor(){!function(e,t){for(var n in t.prototype)e.prototype[n]=t.prototype[n]}(MS,google.maps.OverlayView)}}!function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"}(PS||(PS={}));var NS=(e,t,n)=>{n.fitBounds(t.bounds)};class jS extends MS{constructor(e){var{map:t,markers:n=[],algorithmOptions:r={},algorithm:i=new AS(r),renderer:s=new RS,onClusterClick:o=NS}=e;super(),this.markers=[...n],this.clusters=[],this.algorithm=i,this.renderer=s,this.onClusterClick=o,t&&this.setMap(t)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach((e=>{this.addMarker(e,!0)})),t||this.render()}removeMarker(e,t){var n=this.markers.indexOf(e);return-1!==n&&(TS.setMap(e,null),this.markers.splice(n,1),t||this.render(),!0)}removeMarkers(e,t){var n=!1;return e.forEach((e=>{n=this.removeMarker(e,!0)||n})),n&&!t&&this.render(),n}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,PS.CLUSTERING_BEGIN,this);var{clusters:t,changed:n}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(n||void 0==n){var r=new Set;for(var i of t)1==i.markers.length&&r.add(i.markers[0]);var s=[];for(var o of this.clusters)null!=o.marker&&(1==o.markers.length?r.has(o.marker)||TS.setMap(o.marker,null):s.push(o.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame((()=>s.forEach((e=>TS.setMap(e,null)))))}google.maps.event.trigger(this,PS.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach((e=>TS.setMap(e,null))),this.clusters.forEach((e=>e.delete())),this.clusters=[]}renderClusters(){var e=new DS(this.markers,this.clusters),t=this.getMap();this.clusters.forEach((n=>{1===n.markers.length?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,e,t),n.markers.forEach((e=>TS.setMap(e,null))),this.onClusterClick&&n.marker.addListener("click",(e=>{google.maps.event.trigger(this,PS.CLUSTER_CLICK,n),this.onClusterClick(e,n,t)}))),TS.setMap(n.marker,t)}))}}function US(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?US(Object(n),!0).forEach((function(t){WE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):US(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zS(e){var n=function(){QE(!!t.useContext,"useGoogleMap is React hook and requires React version 16.8+");var e=(0,t.useContext)(YE);return QE(!!e,"useGoogleMap needs a GoogleMap available up in the tree"),e}(),[r,i]=(0,t.useState)(null);return(0,t.useEffect)((()=>{if(n&&null===r){var t=new jS(FS(FS({},e),{},{map:n}));i(t)}}),[n]),r}(0,t.memo)((function(e){var{children:t,options:n}=e,r=zS(n);return null!==r?t(r):null}));var VS={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},BS={options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},zIndex(e,t){e.setZIndex(t)}};(0,t.memo)((function(e){var{children:n,anchor:r,options:i,position:o,zIndex:a,onCloseClick:l,onDomReady:u,onContentChanged:c,onPositionChanged:h,onZindexChanged:d,onLoad:p,onUnmount:f}=e,g=(0,t.useContext)(YE),[m,v]=(0,t.useState)(null),[y,b]=(0,t.useState)(null),[w,E]=(0,t.useState)(null),[_,S]=(0,t.useState)(null),[x,k]=(0,t.useState)(null),[C,T]=(0,t.useState)(null),I=(0,t.useRef)(null);return(0,t.useEffect)((()=>{null!==m&&(m.close(),r?m.open(g,r):m.getPosition()&&m.open(g))}),[g,m,r]),(0,t.useEffect)((()=>{i&&null!==m&&m.setOptions(i)}),[m,i]),(0,t.useEffect)((()=>{o&&null!==m&&m.setPosition(o)}),[o]),(0,t.useEffect)((()=>{"number"===typeof a&&null!==m&&m.setZIndex(a)}),[a]),(0,t.useEffect)((()=>{m&&l&&(null!==y&&google.maps.event.removeListener(y),b(google.maps.event.addListener(m,"closeclick",l)))}),[l]),(0,t.useEffect)((()=>{m&&u&&(null!==w&&google.maps.event.removeListener(w),E(google.maps.event.addListener(m,"domready",u)))}),[u]),(0,t.useEffect)((()=>{m&&c&&(null!==_&&google.maps.event.removeListener(_),S(google.maps.event.addListener(m,"content_changed",c)))}),[c]),(0,t.useEffect)((()=>{m&&h&&(null!==x&&google.maps.event.removeListener(x),k(google.maps.event.addListener(m,"position_changed",h)))}),[h]),(0,t.useEffect)((()=>{m&&d&&(null!==C&&google.maps.event.removeListener(C),T(google.maps.event.addListener(m,"zindex_changed",d)))}),[d]),(0,t.useEffect)((()=>{var e=new google.maps.InfoWindow(i);return v(e),I.current=document.createElement("div"),l&&b(google.maps.event.addListener(e,"closeclick",l)),u&&E(google.maps.event.addListener(e,"domready",u)),c&&S(google.maps.event.addListener(e,"content_changed",c)),h&&k(google.maps.event.addListener(e,"position_changed",h)),d&&T(google.maps.event.addListener(e,"zindex_changed",d)),e.setContent(I.current),o&&e.setPosition(o),a&&e.setZIndex(a),r?e.open(g,r):e.getPosition()?e.open(g):QE(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),p&&p(e),()=>{y&&google.maps.event.removeListener(y),_&&google.maps.event.removeListener(_),w&&google.maps.event.removeListener(w),x&&google.maps.event.removeListener(x),C&&google.maps.event.removeListener(C),f&&f(e),e.close()}}),[]),I.current?(0,s.createPortal)(t.Children.only(n),I.current):null}));class $S extends t.PureComponent{constructor(){super(...arguments),WE(this,"registeredEvents",[]),WE(this,"containerElement",null),WE(this,"state",{infoWindow:null}),WE(this,"open",((e,t)=>{t?e.open(this.context,t):e.getPosition()?e.open(this.context):QE(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")})),WE(this,"setInfoWindowCallback",(()=>{null!==this.state.infoWindow&&null!==this.containerElement&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))}))}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=t_({updaterMap:BS,eventMap:VS,prevProps:{},nextProps:this.props,instance:e}),this.setState((()=>({infoWindow:e})),this.setInfoWindowCallback)}componentDidUpdate(e){null!==this.state.infoWindow&&(e_(this.registeredEvents),this.registeredEvents=t_({updaterMap:BS,eventMap:VS,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){null!==this.state.infoWindow&&(e_(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?(0,s.createPortal)(t.Children.only(this.props.children),this.containerElement):null}}function WS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function HS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WS(Object(n),!0).forEach((function(t){WE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}WE($S,"contextType",YE);var qS={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},KS={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},visible(e,t){e.setVisible(t)}},GS={};(0,t.memo)((function(e){var{options:n,draggable:r,editable:i,visible:s,path:o,onDblClick:a,onDragEnd:l,onDragStart:u,onMouseDown:c,onMouseMove:h,onMouseOut:d,onMouseOver:p,onMouseUp:f,onRightClick:g,onClick:m,onDrag:v,onLoad:y,onUnmount:b}=e,w=(0,t.useContext)(YE),[E,_]=(0,t.useState)(null),[S,x]=(0,t.useState)(null),[k,C]=(0,t.useState)(null),[T,I]=(0,t.useState)(null),[L,P]=(0,t.useState)(null),[O,A]=(0,t.useState)(null),[D,R]=(0,t.useState)(null),[M,N]=(0,t.useState)(null),[j,U]=(0,t.useState)(null),[F,z]=(0,t.useState)(null),[V,B]=(0,t.useState)(null),[$,W]=(0,t.useState)(null);return(0,t.useEffect)((()=>{null!==E&&E.setMap(w)}),[w]),(0,t.useEffect)((()=>{"undefined"!==typeof n&&null!==E&&E.setOptions(n)}),[E,n]),(0,t.useEffect)((()=>{"undefined"!==typeof r&&null!==E&&E.setDraggable(r)}),[E,r]),(0,t.useEffect)((()=>{"undefined"!==typeof i&&null!==E&&E.setEditable(i)}),[E,i]),(0,t.useEffect)((()=>{"undefined"!==typeof s&&null!==E&&E.setVisible(s)}),[E,s]),(0,t.useEffect)((()=>{"undefined"!==typeof o&&null!==E&&E.setPath(o)}),[E,o]),(0,t.useEffect)((()=>{E&&a&&(null!==S&&google.maps.event.removeListener(S),x(google.maps.event.addListener(E,"dblclick",a)))}),[a]),(0,t.useEffect)((()=>{E&&l&&(null!==k&&google.maps.event.removeListener(k),C(google.maps.event.addListener(E,"dragend",l)))}),[l]),(0,t.useEffect)((()=>{E&&u&&(null!==T&&google.maps.event.removeListener(T),I(google.maps.event.addListener(E,"dragstart",u)))}),[u]),(0,t.useEffect)((()=>{E&&c&&(null!==L&&google.maps.event.removeListener(L),P(google.maps.event.addListener(E,"mousedown",c)))}),[c]),(0,t.useEffect)((()=>{E&&h&&(null!==O&&google.maps.event.removeListener(O),A(google.maps.event.addListener(E,"mousemove",h)))}),[h]),(0,t.useEffect)((()=>{E&&d&&(null!==D&&google.maps.event.removeListener(D),R(google.maps.event.addListener(E,"mouseout",d)))}),[d]),(0,t.useEffect)((()=>{E&&p&&(null!==M&&google.maps.event.removeListener(M),N(google.maps.event.addListener(E,"mouseover",p)))}),[p]),(0,t.useEffect)((()=>{E&&f&&(null!==j&&google.maps.event.removeListener(j),U(google.maps.event.addListener(E,"mouseup",f)))}),[f]),(0,t.useEffect)((()=>{E&&g&&(null!==F&&google.maps.event.removeListener(F),z(google.maps.event.addListener(E,"rightclick",g)))}),[g]),(0,t.useEffect)((()=>{E&&m&&(null!==V&&google.maps.event.removeListener(V),B(google.maps.event.addListener(E,"click",m)))}),[m]),(0,t.useEffect)((()=>{E&&v&&(null!==$&&google.maps.event.removeListener($),W(google.maps.event.addListener(E,"drag",v)))}),[v]),(0,t.useEffect)((()=>{var e=new google.maps.Polyline(HS(HS({},n||GS),{},{map:w}));return o&&e.setPath(o),"undefined"!==typeof s&&e.setVisible(s),"undefined"!==typeof i&&e.setEditable(i),"undefined"!==typeof r&&e.setDraggable(r),a&&x(google.maps.event.addListener(e,"dblclick",a)),l&&C(google.maps.event.addListener(e,"dragend",l)),u&&I(google.maps.event.addListener(e,"dragstart",u)),c&&P(google.maps.event.addListener(e,"mousedown",c)),h&&A(google.maps.event.addListener(e,"mousemove",h)),d&&R(google.maps.event.addListener(e,"mouseout",d)),p&&N(google.maps.event.addListener(e,"mouseover",p)),f&&U(google.maps.event.addListener(e,"mouseup",f)),g&&z(google.maps.event.addListener(e,"rightclick",g)),m&&B(google.maps.event.addListener(e,"click",m)),v&&W(google.maps.event.addListener(e,"drag",v)),_(e),y&&y(e),()=>{null!==S&&google.maps.event.removeListener(S),null!==k&&google.maps.event.removeListener(k),null!==T&&google.maps.event.removeListener(T),null!==L&&google.maps.event.removeListener(L),null!==O&&google.maps.event.removeListener(O),null!==D&&google.maps.event.removeListener(D),null!==M&&google.maps.event.removeListener(M),null!==j&&google.maps.event.removeListener(j),null!==F&&google.maps.event.removeListener(F),null!==V&&google.maps.event.removeListener(V),b&&b(e),e.setMap(null)}}),[]),null}));class QS extends t.PureComponent{constructor(){super(...arguments),WE(this,"registeredEvents",[]),WE(this,"state",{polyline:null}),WE(this,"setPolylineCallback",(()=>{null!==this.state.polyline&&this.props.onLoad&&this.props.onLoad(this.state.polyline)}))}componentDidMount(){var e=new google.maps.Polyline(HS(HS({},this.props.options),{},{map:this.context}));this.registeredEvents=t_({updaterMap:KS,eventMap:qS,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{polyline:e}}),this.setPolylineCallback)}componentDidUpdate(e){null!==this.state.polyline&&(e_(this.registeredEvents),this.registeredEvents=t_({updaterMap:KS,eventMap:qS,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){null!==this.state.polyline&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),e_(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}function YS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YS(Object(n),!0).forEach((function(t){WE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}WE(QS,"contextType",YE);var XS={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},ZS={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},paths(e,t){e.setPaths(t)},visible(e,t){e.setVisible(t)}};(0,t.memo)((function(e){var{options:n,draggable:r,editable:i,visible:s,path:o,paths:a,onDblClick:l,onDragEnd:u,onDragStart:c,onMouseDown:h,onMouseMove:d,onMouseOut:p,onMouseOver:f,onMouseUp:g,onRightClick:m,onClick:v,onDrag:y,onLoad:b,onUnmount:w,onEdit:E}=e,_=(0,t.useContext)(YE),[S,x]=(0,t.useState)(null),[k,C]=(0,t.useState)(null),[T,I]=(0,t.useState)(null),[L,P]=(0,t.useState)(null),[O,A]=(0,t.useState)(null),[D,R]=(0,t.useState)(null),[M,N]=(0,t.useState)(null),[j,U]=(0,t.useState)(null),[F,z]=(0,t.useState)(null),[V,B]=(0,t.useState)(null),[$,W]=(0,t.useState)(null),[H,q]=(0,t.useState)(null);return(0,t.useEffect)((()=>{null!==S&&S.setMap(_)}),[_]),(0,t.useEffect)((()=>{"undefined"!==typeof n&&null!==S&&S.setOptions(n)}),[S,n]),(0,t.useEffect)((()=>{"undefined"!==typeof r&&null!==S&&S.setDraggable(r)}),[S,r]),(0,t.useEffect)((()=>{"undefined"!==typeof i&&null!==S&&S.setEditable(i)}),[S,i]),(0,t.useEffect)((()=>{"undefined"!==typeof s&&null!==S&&S.setVisible(s)}),[S,s]),(0,t.useEffect)((()=>{"undefined"!==typeof o&&null!==S&&S.setPath(o)}),[S,o]),(0,t.useEffect)((()=>{"undefined"!==typeof a&&null!==S&&S.setPaths(a)}),[S,a]),(0,t.useEffect)((()=>{S&&"function"===typeof l&&(null!==k&&google.maps.event.removeListener(k),C(google.maps.event.addListener(S,"dblclick",l)))}),[l]),(0,t.useEffect)((()=>{S&&(google.maps.event.addListener(S.getPath(),"insert_at",(()=>{null===E||void 0===E||E(S)})),google.maps.event.addListener(S.getPath(),"set_at",(()=>{null===E||void 0===E||E(S)})),google.maps.event.addListener(S.getPath(),"remove_at",(()=>{null===E||void 0===E||E(S)})))}),[S,E]),(0,t.useEffect)((()=>{S&&"function"===typeof u&&(null!==T&&google.maps.event.removeListener(T),I(google.maps.event.addListener(S,"dragend",u)))}),[u]),(0,t.useEffect)((()=>{S&&"function"===typeof c&&(null!==L&&google.maps.event.removeListener(L),P(google.maps.event.addListener(S,"dragstart",c)))}),[c]),(0,t.useEffect)((()=>{S&&"function"===typeof h&&(null!==O&&google.maps.event.removeListener(O),A(google.maps.event.addListener(S,"mousedown",h)))}),[h]),(0,t.useEffect)((()=>{S&&"function"===typeof d&&(null!==D&&google.maps.event.removeListener(D),R(google.maps.event.addListener(S,"mousemove",d)))}),[d]),(0,t.useEffect)((()=>{S&&"function"===typeof p&&(null!==M&&google.maps.event.removeListener(M),N(google.maps.event.addListener(S,"mouseout",p)))}),[p]),(0,t.useEffect)((()=>{S&&"function"===typeof f&&(null!==j&&google.maps.event.removeListener(j),U(google.maps.event.addListener(S,"mouseover",f)))}),[f]),(0,t.useEffect)((()=>{S&&"function"===typeof g&&(null!==F&&google.maps.event.removeListener(F),z(google.maps.event.addListener(S,"mouseup",g)))}),[g]),(0,t.useEffect)((()=>{S&&"function"===typeof m&&(null!==V&&google.maps.event.removeListener(V),B(google.maps.event.addListener(S,"rightclick",m)))}),[m]),(0,t.useEffect)((()=>{S&&"function"===typeof v&&(null!==$&&google.maps.event.removeListener($),W(google.maps.event.addListener(S,"click",v)))}),[v]),(0,t.useEffect)((()=>{S&&"function"===typeof y&&(null!==H&&google.maps.event.removeListener(H),q(google.maps.event.addListener(S,"drag",y)))}),[y]),(0,t.useEffect)((()=>{var e=new google.maps.Polygon(JS(JS({},n),{},{map:_}));return o&&e.setPath(o),a&&e.setPaths(a),"undefined"!==typeof s&&e.setVisible(s),"undefined"!==typeof i&&e.setEditable(i),"undefined"!==typeof r&&e.setDraggable(r),l&&C(google.maps.event.addListener(e,"dblclick",l)),u&&I(google.maps.event.addListener(e,"dragend",u)),c&&P(google.maps.event.addListener(e,"dragstart",c)),h&&A(google.maps.event.addListener(e,"mousedown",h)),d&&R(google.maps.event.addListener(e,"mousemove",d)),p&&N(google.maps.event.addListener(e,"mouseout",p)),f&&U(google.maps.event.addListener(e,"mouseover",f)),g&&z(google.maps.event.addListener(e,"mouseup",g)),m&&B(google.maps.event.addListener(e,"rightclick",m)),v&&W(google.maps.event.addListener(e,"click",v)),y&&q(google.maps.event.addListener(e,"drag",y)),x(e),b&&b(e),()=>{null!==k&&google.maps.event.removeListener(k),null!==T&&google.maps.event.removeListener(T),null!==L&&google.maps.event.removeListener(L),null!==O&&google.maps.event.removeListener(O),null!==D&&google.maps.event.removeListener(D),null!==M&&google.maps.event.removeListener(M),null!==j&&google.maps.event.removeListener(j),null!==F&&google.maps.event.removeListener(F),null!==V&&google.maps.event.removeListener(V),null!==$&&google.maps.event.removeListener($),w&&w(e),e.setMap(null)}}),[]),null}));class ex extends t.PureComponent{constructor(){super(...arguments),WE(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=t_({updaterMap:ZS,eventMap:XS,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(e_(this.registeredEvents),this.registeredEvents=t_({updaterMap:ZS,eventMap:XS,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),e_(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}function tx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tx(Object(n),!0).forEach((function(t){WE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}WE(ex,"contextType",YE);var rx={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},ix={bounds(e,t){e.setBounds(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},visible(e,t){e.setVisible(t)}};(0,t.memo)((function(e){var{options:n,bounds:r,draggable:i,editable:s,visible:o,onDblClick:a,onDragEnd:l,onDragStart:u,onMouseDown:c,onMouseMove:h,onMouseOut:d,onMouseOver:p,onMouseUp:f,onRightClick:g,onClick:m,onDrag:v,onBoundsChanged:y,onLoad:b,onUnmount:w}=e,E=(0,t.useContext)(YE),[_,S]=(0,t.useState)(null),[x,k]=(0,t.useState)(null),[C,T]=(0,t.useState)(null),[I,L]=(0,t.useState)(null),[P,O]=(0,t.useState)(null),[A,D]=(0,t.useState)(null),[R,M]=(0,t.useState)(null),[N,j]=(0,t.useState)(null),[U,F]=(0,t.useState)(null),[z,V]=(0,t.useState)(null),[B,$]=(0,t.useState)(null),[W,H]=(0,t.useState)(null),[q,K]=(0,t.useState)(null);return(0,t.useEffect)((()=>{null!==_&&_.setMap(E)}),[E]),(0,t.useEffect)((()=>{"undefined"!==typeof n&&null!==_&&_.setOptions(n)}),[_,n]),(0,t.useEffect)((()=>{"undefined"!==typeof i&&null!==_&&_.setDraggable(i)}),[_,i]),(0,t.useEffect)((()=>{"undefined"!==typeof s&&null!==_&&_.setEditable(s)}),[_,s]),(0,t.useEffect)((()=>{"undefined"!==typeof o&&null!==_&&_.setVisible(o)}),[_,o]),(0,t.useEffect)((()=>{"undefined"!==typeof r&&null!==_&&_.setBounds(r)}),[_,r]),(0,t.useEffect)((()=>{_&&a&&(null!==x&&google.maps.event.removeListener(x),k(google.maps.event.addListener(_,"dblclick",a)))}),[a]),(0,t.useEffect)((()=>{_&&l&&(null!==C&&google.maps.event.removeListener(C),T(google.maps.event.addListener(_,"dragend",l)))}),[l]),(0,t.useEffect)((()=>{_&&u&&(null!==I&&google.maps.event.removeListener(I),L(google.maps.event.addListener(_,"dragstart",u)))}),[u]),(0,t.useEffect)((()=>{_&&c&&(null!==P&&google.maps.event.removeListener(P),O(google.maps.event.addListener(_,"mousedown",c)))}),[c]),(0,t.useEffect)((()=>{_&&h&&(null!==A&&google.maps.event.removeListener(A),D(google.maps.event.addListener(_,"mousemove",h)))}),[h]),(0,t.useEffect)((()=>{_&&d&&(null!==R&&google.maps.event.removeListener(R),M(google.maps.event.addListener(_,"mouseout",d)))}),[d]),(0,t.useEffect)((()=>{_&&p&&(null!==N&&google.maps.event.removeListener(N),j(google.maps.event.addListener(_,"mouseover",p)))}),[p]),(0,t.useEffect)((()=>{_&&f&&(null!==U&&google.maps.event.removeListener(U),F(google.maps.event.addListener(_,"mouseup",f)))}),[f]),(0,t.useEffect)((()=>{_&&g&&(null!==z&&google.maps.event.removeListener(z),V(google.maps.event.addListener(_,"rightclick",g)))}),[g]),(0,t.useEffect)((()=>{_&&m&&(null!==B&&google.maps.event.removeListener(B),$(google.maps.event.addListener(_,"click",m)))}),[m]),(0,t.useEffect)((()=>{_&&v&&(null!==W&&google.maps.event.removeListener(W),H(google.maps.event.addListener(_,"drag",v)))}),[v]),(0,t.useEffect)((()=>{_&&y&&(null!==q&&google.maps.event.removeListener(q),K(google.maps.event.addListener(_,"bounds_changed",y)))}),[y]),(0,t.useEffect)((()=>{var e=new google.maps.Rectangle(nx(nx({},n),{},{map:E}));return"undefined"!==typeof o&&e.setVisible(o),"undefined"!==typeof s&&e.setEditable(s),"undefined"!==typeof i&&e.setDraggable(i),"undefined"!==typeof r&&e.setBounds(r),a&&k(google.maps.event.addListener(e,"dblclick",a)),l&&T(google.maps.event.addListener(e,"dragend",l)),u&&L(google.maps.event.addListener(e,"dragstart",u)),c&&O(google.maps.event.addListener(e,"mousedown",c)),h&&D(google.maps.event.addListener(e,"mousemove",h)),d&&M(google.maps.event.addListener(e,"mouseout",d)),p&&j(google.maps.event.addListener(e,"mouseover",p)),f&&F(google.maps.event.addListener(e,"mouseup",f)),g&&V(google.maps.event.addListener(e,"rightclick",g)),m&&$(google.maps.event.addListener(e,"click",m)),v&&H(google.maps.event.addListener(e,"drag",v)),y&&K(google.maps.event.addListener(e,"bounds_changed",y)),S(e),b&&b(e),()=>{null!==x&&google.maps.event.removeListener(x),null!==C&&google.maps.event.removeListener(C),null!==I&&google.maps.event.removeListener(I),null!==P&&google.maps.event.removeListener(P),null!==A&&google.maps.event.removeListener(A),null!==R&&google.maps.event.removeListener(R),null!==N&&google.maps.event.removeListener(N),null!==U&&google.maps.event.removeListener(U),null!==z&&google.maps.event.removeListener(z),null!==B&&google.maps.event.removeListener(B),null!==W&&google.maps.event.removeListener(W),null!==q&&google.maps.event.removeListener(q),w&&w(e),e.setMap(null)}}),[]),null}));class sx extends t.PureComponent{constructor(){super(...arguments),WE(this,"registeredEvents",[]),WE(this,"state",{rectangle:null}),WE(this,"setRectangleCallback",(()=>{null!==this.state.rectangle&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)}))}componentDidMount(){var e=new google.maps.Rectangle(nx(nx({},this.props.options),{},{map:this.context}));this.registeredEvents=t_({updaterMap:ix,eventMap:rx,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{rectangle:e}}),this.setRectangleCallback)}componentDidUpdate(e){null!==this.state.rectangle&&(e_(this.registeredEvents),this.registeredEvents=t_({updaterMap:ix,eventMap:rx,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){null!==this.state.rectangle&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),e_(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}function ox(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ax(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ox(Object(n),!0).forEach((function(t){WE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ox(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}WE(sx,"contextType",YE);var lx={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},ux={center(e,t){e.setCenter(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},radius(e,t){e.setRadius(t)},visible(e,t){e.setVisible(t)}},cx={};(0,t.memo)((function(e){var{options:n,center:r,radius:i,draggable:s,editable:o,visible:a,onDblClick:l,onDragEnd:u,onDragStart:c,onMouseDown:h,onMouseMove:d,onMouseOut:p,onMouseOver:f,onMouseUp:g,onRightClick:m,onClick:v,onDrag:y,onCenterChanged:b,onRadiusChanged:w,onLoad:E,onUnmount:_}=e,S=(0,t.useContext)(YE),[x,k]=(0,t.useState)(null),[C,T]=(0,t.useState)(null),[I,L]=(0,t.useState)(null),[P,O]=(0,t.useState)(null),[A,D]=(0,t.useState)(null),[R,M]=(0,t.useState)(null),[N,j]=(0,t.useState)(null),[U,F]=(0,t.useState)(null),[z,V]=(0,t.useState)(null),[B,$]=(0,t.useState)(null),[W,H]=(0,t.useState)(null),[q,K]=(0,t.useState)(null),[G,Q]=(0,t.useState)(null),[Y,J]=(0,t.useState)(null);return(0,t.useEffect)((()=>{null!==x&&x.setMap(S)}),[S]),(0,t.useEffect)((()=>{"undefined"!==typeof n&&null!==x&&x.setOptions(n)}),[x,n]),(0,t.useEffect)((()=>{"undefined"!==typeof s&&null!==x&&x.setDraggable(s)}),[x,s]),(0,t.useEffect)((()=>{"undefined"!==typeof o&&null!==x&&x.setEditable(o)}),[x,o]),(0,t.useEffect)((()=>{"undefined"!==typeof a&&null!==x&&x.setVisible(a)}),[x,a]),(0,t.useEffect)((()=>{"number"===typeof i&&null!==x&&x.setRadius(i)}),[x,i]),(0,t.useEffect)((()=>{"undefined"!==typeof r&&null!==x&&x.setCenter(r)}),[x,r]),(0,t.useEffect)((()=>{x&&l&&(null!==C&&google.maps.event.removeListener(C),T(google.maps.event.addListener(x,"dblclick",l)))}),[l]),(0,t.useEffect)((()=>{x&&u&&(null!==I&&google.maps.event.removeListener(I),L(google.maps.event.addListener(x,"dragend",u)))}),[u]),(0,t.useEffect)((()=>{x&&c&&(null!==P&&google.maps.event.removeListener(P),O(google.maps.event.addListener(x,"dragstart",c)))}),[c]),(0,t.useEffect)((()=>{x&&h&&(null!==A&&google.maps.event.removeListener(A),D(google.maps.event.addListener(x,"mousedown",h)))}),[h]),(0,t.useEffect)((()=>{x&&d&&(null!==R&&google.maps.event.removeListener(R),M(google.maps.event.addListener(x,"mousemove",d)))}),[d]),(0,t.useEffect)((()=>{x&&p&&(null!==N&&google.maps.event.removeListener(N),j(google.maps.event.addListener(x,"mouseout",p)))}),[p]),(0,t.useEffect)((()=>{x&&f&&(null!==U&&google.maps.event.removeListener(U),F(google.maps.event.addListener(x,"mouseover",f)))}),[f]),(0,t.useEffect)((()=>{x&&g&&(null!==z&&google.maps.event.removeListener(z),V(google.maps.event.addListener(x,"mouseup",g)))}),[g]),(0,t.useEffect)((()=>{x&&m&&(null!==B&&google.maps.event.removeListener(B),$(google.maps.event.addListener(x,"rightclick",m)))}),[m]),(0,t.useEffect)((()=>{x&&v&&(null!==W&&google.maps.event.removeListener(W),H(google.maps.event.addListener(x,"click",v)))}),[v]),(0,t.useEffect)((()=>{x&&y&&(null!==q&&google.maps.event.removeListener(q),K(google.maps.event.addListener(x,"drag",y)))}),[y]),(0,t.useEffect)((()=>{x&&b&&(null!==G&&google.maps.event.removeListener(G),Q(google.maps.event.addListener(x,"center_changed",b)))}),[v]),(0,t.useEffect)((()=>{x&&w&&(null!==Y&&google.maps.event.removeListener(Y),J(google.maps.event.addListener(x,"radius_changed",w)))}),[w]),(0,t.useEffect)((()=>{var e=new google.maps.Circle(ax(ax({},n||cx),{},{map:S}));return"number"===typeof i&&e.setRadius(i),"undefined"!==typeof r&&e.setCenter(r),"number"===typeof i&&e.setRadius(i),"undefined"!==typeof a&&e.setVisible(a),"undefined"!==typeof o&&e.setEditable(o),"undefined"!==typeof s&&e.setDraggable(s),l&&T(google.maps.event.addListener(e,"dblclick",l)),u&&L(google.maps.event.addListener(e,"dragend",u)),c&&O(google.maps.event.addListener(e,"dragstart",c)),h&&D(google.maps.event.addListener(e,"mousedown",h)),d&&M(google.maps.event.addListener(e,"mousemove",d)),p&&j(google.maps.event.addListener(e,"mouseout",p)),f&&F(google.maps.event.addListener(e,"mouseover",f)),g&&V(google.maps.event.addListener(e,"mouseup",g)),m&&$(google.maps.event.addListener(e,"rightclick",m)),v&&H(google.maps.event.addListener(e,"click",v)),y&&K(google.maps.event.addListener(e,"drag",y)),b&&Q(google.maps.event.addListener(e,"center_changed",b)),w&&J(google.maps.event.addListener(e,"radius_changed",w)),k(e),E&&E(e),()=>{null!==C&&google.maps.event.removeListener(C),null!==I&&google.maps.event.removeListener(I),null!==P&&google.maps.event.removeListener(P),null!==A&&google.maps.event.removeListener(A),null!==R&&google.maps.event.removeListener(R),null!==N&&google.maps.event.removeListener(N),null!==U&&google.maps.event.removeListener(U),null!==z&&google.maps.event.removeListener(z),null!==B&&google.maps.event.removeListener(B),null!==W&&google.maps.event.removeListener(W),null!==G&&google.maps.event.removeListener(G),null!==Y&&google.maps.event.removeListener(Y),_&&_(e),e.setMap(null)}}),[]),null}));class hx extends t.PureComponent{constructor(){super(...arguments),WE(this,"registeredEvents",[]),WE(this,"state",{circle:null}),WE(this,"setCircleCallback",(()=>{null!==this.state.circle&&this.props.onLoad&&this.props.onLoad(this.state.circle)}))}componentDidMount(){var e=new google.maps.Circle(ax(ax({},this.props.options),{},{map:this.context}));this.registeredEvents=t_({updaterMap:ux,eventMap:lx,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{circle:e}}),this.setCircleCallback)}componentDidUpdate(e){null!==this.state.circle&&(e_(this.registeredEvents),this.registeredEvents=t_({updaterMap:ux,eventMap:lx,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){var e;null!==this.state.circle&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),e_(this.registeredEvents),null===(e=this.state.circle)||void 0===e||e.setMap(null))}render(){return null}}function dx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function px(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dx(Object(n),!0).forEach((function(t){WE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}WE(hx,"contextType",YE);var fx={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},gx={add(e,t){e.add(t)},addgeojson(e,t,n){e.addGeoJson(t,n)},contains(e,t){e.contains(t)},foreach(e,t){e.forEach(t)},loadgeojson(e,t,n,r){e.loadGeoJson(t,n,r)},overridestyle(e,t,n){e.overrideStyle(t,n)},remove(e,t){e.remove(t)},revertstyle(e,t){e.revertStyle(t)},controlposition(e,t){e.setControlPosition(t)},controls(e,t){e.setControls(t)},drawingmode(e,t){e.setDrawingMode(t)},map(e,t){e.setMap(t)},style(e,t){e.setStyle(t)},togeojson(e,t){e.toGeoJson(t)}};(0,t.memo)((function(e){var{options:n,onClick:r,onDblClick:i,onMouseDown:s,onMouseMove:o,onMouseOut:a,onMouseOver:l,onMouseUp:u,onRightClick:c,onAddFeature:h,onRemoveFeature:d,onRemoveProperty:p,onSetGeometry:f,onSetProperty:g,onLoad:m,onUnmount:v}=e,y=(0,t.useContext)(YE),[b,w]=(0,t.useState)(null),[E,_]=(0,t.useState)(null),[S,x]=(0,t.useState)(null),[k,C]=(0,t.useState)(null),[T,I]=(0,t.useState)(null),[L,P]=(0,t.useState)(null),[O,A]=(0,t.useState)(null),[D,R]=(0,t.useState)(null),[M,N]=(0,t.useState)(null),[j,U]=(0,t.useState)(null),[F,z]=(0,t.useState)(null),[V,B]=(0,t.useState)(null),[$,W]=(0,t.useState)(null),[H,q]=(0,t.useState)(null);return(0,t.useEffect)((()=>{null!==b&&b.setMap(y)}),[y]),(0,t.useEffect)((()=>{b&&i&&(null!==E&&google.maps.event.removeListener(E),_(google.maps.event.addListener(b,"dblclick",i)))}),[i]),(0,t.useEffect)((()=>{b&&s&&(null!==S&&google.maps.event.removeListener(S),x(google.maps.event.addListener(b,"mousedown",s)))}),[s]),(0,t.useEffect)((()=>{b&&o&&(null!==k&&google.maps.event.removeListener(k),C(google.maps.event.addListener(b,"mousemove",o)))}),[o]),(0,t.useEffect)((()=>{b&&a&&(null!==T&&google.maps.event.removeListener(T),I(google.maps.event.addListener(b,"mouseout",a)))}),[a]),(0,t.useEffect)((()=>{b&&l&&(null!==L&&google.maps.event.removeListener(L),P(google.maps.event.addListener(b,"mouseover",l)))}),[l]),(0,t.useEffect)((()=>{b&&u&&(null!==O&&google.maps.event.removeListener(O),A(google.maps.event.addListener(b,"mouseup",u)))}),[u]),(0,t.useEffect)((()=>{b&&c&&(null!==D&&google.maps.event.removeListener(D),R(google.maps.event.addListener(b,"rightclick",c)))}),[c]),(0,t.useEffect)((()=>{b&&r&&(null!==M&&google.maps.event.removeListener(M),N(google.maps.event.addListener(b,"click",r)))}),[r]),(0,t.useEffect)((()=>{b&&h&&(null!==j&&google.maps.event.removeListener(j),U(google.maps.event.addListener(b,"addfeature",h)))}),[h]),(0,t.useEffect)((()=>{b&&d&&(null!==F&&google.maps.event.removeListener(F),z(google.maps.event.addListener(b,"removefeature",d)))}),[d]),(0,t.useEffect)((()=>{b&&p&&(null!==V&&google.maps.event.removeListener(V),B(google.maps.event.addListener(b,"removeproperty",p)))}),[p]),(0,t.useEffect)((()=>{b&&f&&(null!==$&&google.maps.event.removeListener($),W(google.maps.event.addListener(b,"setgeometry",f)))}),[f]),(0,t.useEffect)((()=>{b&&g&&(null!==H&&google.maps.event.removeListener(H),q(google.maps.event.addListener(b,"setproperty",g)))}),[g]),(0,t.useEffect)((()=>{if(null!==y){var e=new google.maps.Data(px(px({},n),{},{map:y}));i&&_(google.maps.event.addListener(e,"dblclick",i)),s&&x(google.maps.event.addListener(e,"mousedown",s)),o&&C(google.maps.event.addListener(e,"mousemove",o)),a&&I(google.maps.event.addListener(e,"mouseout",a)),l&&P(google.maps.event.addListener(e,"mouseover",l)),u&&A(google.maps.event.addListener(e,"mouseup",u)),c&&R(google.maps.event.addListener(e,"rightclick",c)),r&&N(google.maps.event.addListener(e,"click",r)),h&&U(google.maps.event.addListener(e,"addfeature",h)),d&&z(google.maps.event.addListener(e,"removefeature",d)),p&&B(google.maps.event.addListener(e,"removeproperty",p)),f&&W(google.maps.event.addListener(e,"setgeometry",f)),g&&q(google.maps.event.addListener(e,"setproperty",g)),w(e),m&&m(e)}return()=>{b&&(null!==E&&google.maps.event.removeListener(E),null!==S&&google.maps.event.removeListener(S),null!==k&&google.maps.event.removeListener(k),null!==T&&google.maps.event.removeListener(T),null!==L&&google.maps.event.removeListener(L),null!==O&&google.maps.event.removeListener(O),null!==D&&google.maps.event.removeListener(D),null!==M&&google.maps.event.removeListener(M),null!==j&&google.maps.event.removeListener(j),null!==F&&google.maps.event.removeListener(F),null!==V&&google.maps.event.removeListener(V),null!==$&&google.maps.event.removeListener($),null!==H&&google.maps.event.removeListener(H),v&&v(b),b.setMap(null))}}),[]),null}));class mx extends t.PureComponent{constructor(){super(...arguments),WE(this,"registeredEvents",[]),WE(this,"state",{data:null}),WE(this,"setDataCallback",(()=>{null!==this.state.data&&this.props.onLoad&&this.props.onLoad(this.state.data)}))}componentDidMount(){if(null!==this.context){var e=new google.maps.Data(px(px({},this.props.options),{},{map:this.context}));this.registeredEvents=t_({updaterMap:gx,eventMap:fx,prevProps:{},nextProps:this.props,instance:e}),this.setState((()=>({data:e})),this.setDataCallback)}}componentDidUpdate(e){null!==this.state.data&&(e_(this.registeredEvents),this.registeredEvents=t_({updaterMap:gx,eventMap:fx,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){null!==this.state.data&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),e_(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}function vx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vx(Object(n),!0).forEach((function(t){WE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}WE(mx,"contextType",YE);var bx={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},wx={options(e,t){e.setOptions(t)},url(e,t){e.setUrl(t)},zIndex(e,t){e.setZIndex(t)}};class Ex extends t.PureComponent{constructor(){super(...arguments),WE(this,"registeredEvents",[]),WE(this,"state",{kmlLayer:null}),WE(this,"setKmlLayerCallback",(()=>{null!==this.state.kmlLayer&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)}))}componentDidMount(){var e=new google.maps.KmlLayer(yx(yx({},this.props.options),{},{map:this.context}));this.registeredEvents=t_({updaterMap:wx,eventMap:bx,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{kmlLayer:e}}),this.setKmlLayerCallback)}componentDidUpdate(e){null!==this.state.kmlLayer&&(e_(this.registeredEvents),this.registeredEvents=t_({updaterMap:wx,eventMap:bx,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){null!==this.state.kmlLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),e_(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}function _x(e,t){return"function"===typeof t?t(e.offsetWidth,e.offsetHeight):{x:0,y:0}}function Sx(e,t){return new t(e.lat,e.lng)}function xx(e,t){return new t(new google.maps.LatLng(e.ne.lat,e.ne.lng),new google.maps.LatLng(e.sw.lat,e.sw.lng))}function kx(e,t,n,r){return void 0!==n?function(e,t,n){var r=e&&e.fromLatLngToDivPixel(n.getNorthEast()),i=e&&e.fromLatLngToDivPixel(n.getSouthWest());return r&&i?{left:"".concat(i.x+t.x,"px"),top:"".concat(r.y+t.y,"px"),width:"".concat(r.x-i.x-t.x,"px"),height:"".concat(i.y-r.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}(e,t,function(e,t,n){return e instanceof t?e:n(e,t)}(n,google.maps.LatLngBounds,xx)):function(e,t,n){var r=e&&e.fromLatLngToDivPixel(n);if(r){var{x:i,y:s}=r;return{left:"".concat(i+t.x,"px"),top:"".concat(s+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}(e,t,function(e,t,n){return e instanceof t?e:n(e,t)}(r,google.maps.LatLng,Sx))}function Cx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tx(e,t,n,r,i){class s extends google.maps.OverlayView{constructor(e,t,n,r){super(),this.container=e,this.pane=t,this.position=n,this.bounds=r}onAdd(){var e,t=null===(e=this.getPanes())||void 0===e?void 0:e[this.pane];null===t||void 0===t||t.appendChild(this.container)}draw(){var e=this.getProjection(),t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cx(Object(n),!0).forEach((function(t){WE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.container?_x(this.container,i):{x:0,y:0}),n=kx(e,t,this.bounds,this.position);for(var[r,s]of Object.entries(n))this.container.style[r]=s}onRemove(){null!==this.container.parentNode&&this.container.parentNode.removeChild(this.container)}}return new s(e,t,n,r)}function Ix(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lx(e){return e?(e instanceof google.maps.LatLng?e:new google.maps.LatLng(e.lat,e.lng))+"":""}function Px(e){return e?(e instanceof google.maps.LatLngBounds?e:new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.east),new google.maps.LatLng(e.north,e.west)))+"":""}WE(Ex,"contextType",YE);(0,t.memo)((function(e){var{position:n,bounds:r,mapPaneName:i,zIndex:o,onLoad:a,onUnmount:l,getPixelPositionOffset:u,children:c}=e,h=(0,t.useContext)(YE),d=(0,t.useMemo)((()=>{var e=document.createElement("div");return e.style.position="absolute",e}),[]),p=(0,t.useMemo)((()=>Tx(d,i,n,r,u)),[d,i,n,r]);return(0,t.useEffect)((()=>(null===a||void 0===a||a(p),null===p||void 0===p||p.setMap(h),()=>{null===l||void 0===l||l(p),null===p||void 0===p||p.setMap(null)})),[h,p]),(0,t.useEffect)((()=>{d.style.zIndex="".concat(o)}),[o,d]),s.createPortal(c,d)}));class Ox extends t.PureComponent{constructor(e){super(e),WE(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),WE(this,"updatePane",(()=>{var e=this.props.mapPaneName,t=this.overlayView.getPanes();QE(!!e,"OverlayView requires props.mapPaneName but got %s",e),t?this.setState({paneEl:t[e]}):this.setState({paneEl:null})})),WE(this,"onAdd",(()=>{var e,t;this.updatePane(),null===(e=(t=this.props).onLoad)||void 0===e||e.call(t,this.overlayView)})),WE(this,"onPositionElement",(()=>{var e,t,n,r,i,s,o=this.overlayView.getProjection(),a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ix(Object(n),!0).forEach((function(t){WE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ix(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({x:0,y:0},this.containerRef.current?_x(this.containerRef.current,this.props.getPixelPositionOffset):{}),l=kx(o,a,this.props.bounds,this.props.position);(i=l,s={left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height},i.left!==s.left||i.top!==s.top||i.width!==s.height||i.height!==s.height)&&this.setState({containerStyle:{top:null!==(e=l.top)&&void 0!==e?e:0,left:null!==(t=l.left)&&void 0!==t?t:0,width:null!==(n=l.width)&&void 0!==n?n:0,height:null!==(r=l.height)&&void 0!==r?r:0,position:"absolute"}})})),WE(this,"draw",(()=>{this.onPositionElement()})),WE(this,"onRemove",(()=>{var e,t;this.setState((()=>({paneEl:null}))),null===(e=(t=this.props).onUnmount)||void 0===e||e.call(t,this.overlayView)})),this.containerRef=(0,t.createRef)();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var t=Lx(e.position),n=Lx(this.props.position),r=Px(e.bounds),i=Px(this.props.bounds);t===n&&r===i||this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?s.createPortal((0,vw.jsx)("div",{ref:this.containerRef,style:this.state.containerStyle,children:t.Children.only(this.props.children)}),e):null}}function Ax(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ax(Object(n),!0).forEach((function(t){WE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ax(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}WE(Ox,"FLOAT_PANE","floatPane"),WE(Ox,"MAP_PANE","mapPane"),WE(Ox,"MARKER_LAYER","markerLayer"),WE(Ox,"OVERLAY_LAYER","overlayLayer"),WE(Ox,"OVERLAY_MOUSE_TARGET","overlayMouseTarget"),WE(Ox,"contextType",YE);var Rx={onDblClick:"dblclick",onClick:"click"},Mx={opacity(e,t){e.setOpacity(t)}};(0,t.memo)((function(e){var{url:n,bounds:r,options:i,visible:s}=e,o=(0,t.useContext)(YE),a=new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.west),new google.maps.LatLng(r.north,r.east)),l=(0,t.useMemo)((()=>new google.maps.GroundOverlay(n,a,i)),[]);return(0,t.useEffect)((()=>{null!==l&&l.setMap(o)}),[o]),(0,t.useEffect)((()=>{"undefined"!==typeof n&&null!==l&&(l.set("url",n),l.setMap(o))}),[l,n]),(0,t.useEffect)((()=>{"undefined"!==typeof s&&null!==l&&l.setOpacity(s?1:0)}),[l,s]),(0,t.useEffect)((()=>{var e=new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.west),new google.maps.LatLng(r.north,r.east));"undefined"!==typeof r&&null!==l&&(l.set("bounds",e),l.setMap(o))}),[l,r]),null}));class Nx extends t.PureComponent{constructor(){super(...arguments),WE(this,"registeredEvents",[]),WE(this,"state",{groundOverlay:null}),WE(this,"setGroundOverlayCallback",(()=>{null!==this.state.groundOverlay&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)}))}componentDidMount(){QE(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,Dx(Dx({},this.props.options),{},{map:this.context}));this.registeredEvents=t_({updaterMap:Mx,eventMap:Rx,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{groundOverlay:e}}),this.setGroundOverlayCallback)}componentDidUpdate(e){null!==this.state.groundOverlay&&(e_(this.registeredEvents),this.registeredEvents=t_({updaterMap:Mx,eventMap:Rx,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}function jx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ux(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jx(Object(n),!0).forEach((function(t){WE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}WE(Nx,"defaultProps",{onLoad:function(){}}),WE(Nx,"contextType",YE);var Fx={},zx={data(e,t){e.setData(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)}};(0,t.memo)((function(e){var{data:n,onLoad:r,onUnmount:i,options:s}=e,o=(0,t.useContext)(YE),[a,l]=(0,t.useState)(null);return(0,t.useEffect)((()=>{google.maps.visualization||QE(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)}),[]),(0,t.useEffect)((()=>{QE(!!n,"data property is required in HeatmapLayer %s",n)}),[n]),(0,t.useEffect)((()=>{null!==a&&a.setMap(o)}),[o]),(0,t.useEffect)((()=>{s&&null!==a&&a.setOptions(s)}),[a,s]),(0,t.useEffect)((()=>{var e=new google.maps.visualization.HeatmapLayer(Ux(Ux({},s),{},{data:n,map:o}));return l(e),r&&r(e),()=>{null!==a&&(i&&i(a),a.setMap(null))}}),[]),null}));class Vx extends t.PureComponent{constructor(){super(...arguments),WE(this,"registeredEvents",[]),WE(this,"state",{heatmapLayer:null}),WE(this,"setHeatmapLayerCallback",(()=>{null!==this.state.heatmapLayer&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)}))}componentDidMount(){QE(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),QE(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(Ux(Ux({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=t_({updaterMap:zx,eventMap:Fx,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{heatmapLayer:e}}),this.setHeatmapLayerCallback)}componentDidUpdate(e){e_(this.registeredEvents),this.registeredEvents=t_({updaterMap:zx,eventMap:Fx,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){null!==this.state.heatmapLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),e_(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}WE(Vx,"contextType",YE);var Bx={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},$x={register(e,t,n){e.registerPanoProvider(t,n)},links(e,t){e.setLinks(t)},motionTracking(e,t){e.setMotionTracking(t)},options(e,t){e.setOptions(t)},pano(e,t){e.setPano(t)},position(e,t){e.setPosition(t)},pov(e,t){e.setPov(t)},visible(e,t){e.setVisible(t)},zoom(e,t){e.setZoom(t)}};class Wx extends t.PureComponent{constructor(){super(...arguments),WE(this,"registeredEvents",[]),WE(this,"state",{streetViewPanorama:null}),WE(this,"setStreetViewPanoramaCallback",(()=>{null!==this.state.streetViewPanorama&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)}))}componentDidMount(){var e,t,n=null!==(e=null===(t=this.context)||void 0===t?void 0:t.getStreetView())&&void 0!==e?e:null;this.registeredEvents=t_({updaterMap:$x,eventMap:Bx,prevProps:{},nextProps:this.props,instance:n}),this.setState((()=>({streetViewPanorama:n})),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){null!==this.state.streetViewPanorama&&(e_(this.registeredEvents),this.registeredEvents=t_({updaterMap:$x,eventMap:Bx,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){null!==this.state.streetViewPanorama&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),e_(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}WE(Wx,"contextType",YE);class Hx extends t.PureComponent{constructor(){super(...arguments),WE(this,"state",{streetViewService:null}),WE(this,"setStreetViewServiceCallback",(()=>{null!==this.state.streetViewService&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)}))}componentDidMount(){var e=new google.maps.StreetViewService;this.setState((function(){return{streetViewService:e}}),this.setStreetViewServiceCallback)}componentWillUnmount(){null!==this.state.streetViewService&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}WE(Hx,"contextType",YE);t.PureComponent;var qx={onDirectionsChanged:"directions_changed"},Kx={directions(e,t){e.setDirections(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},panel(e,t){e.setPanel(t)},routeIndex(e,t){e.setRouteIndex(t)}};class Gx extends t.PureComponent{constructor(){super(...arguments),WE(this,"registeredEvents",[]),WE(this,"state",{directionsRenderer:null}),WE(this,"setDirectionsRendererCallback",(()=>{null!==this.state.directionsRenderer&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))}))}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=t_({updaterMap:Kx,eventMap:qx,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{directionsRenderer:e}}),this.setDirectionsRendererCallback)}componentDidUpdate(e){null!==this.state.directionsRenderer&&(e_(this.registeredEvents),this.registeredEvents=t_({updaterMap:Kx,eventMap:qx,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){null!==this.state.directionsRenderer&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),e_(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}WE(Gx,"contextType",YE);t.PureComponent;var Qx={onPlacesChanged:"places_changed"},Yx={bounds(e,t){e.setBounds(t)}};class Jx extends t.PureComponent{constructor(){super(...arguments),WE(this,"registeredEvents",[]),WE(this,"containerElement",(0,t.createRef)()),WE(this,"state",{searchBox:null}),WE(this,"setSearchBoxCallback",(()=>{null!==this.state.searchBox&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)}))}componentDidMount(){if(QE(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),null!==this.containerElement&&null!==this.containerElement.current){var e=this.containerElement.current.querySelector("input");if(null!==e){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=t_({updaterMap:Yx,eventMap:Qx,prevProps:{},nextProps:this.props,instance:t}),this.setState((function(){return{searchBox:t}}),this.setSearchBoxCallback)}}}componentDidUpdate(e){null!==this.state.searchBox&&(e_(this.registeredEvents),this.registeredEvents=t_({updaterMap:Yx,eventMap:Qx,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){null!==this.state.searchBox&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),e_(this.registeredEvents))}render(){return(0,vw.jsx)("div",{ref:this.containerElement,children:t.Children.only(this.props.children)})}}WE(Jx,"contextType",YE);var Xx={onPlaceChanged:"place_changed"},Zx={bounds(e,t){e.setBounds(t)},restrictions(e,t){e.setComponentRestrictions(t)},fields(e,t){e.setFields(t)},options(e,t){e.setOptions(t)},types(e,t){e.setTypes(t)}};class ek extends t.PureComponent{constructor(){super(...arguments),WE(this,"registeredEvents",[]),WE(this,"containerElement",(0,t.createRef)()),WE(this,"state",{autocomplete:null}),WE(this,"setAutocompleteCallback",(()=>{null!==this.state.autocomplete&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)}))}componentDidMount(){var e;QE(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var t=null===(e=this.containerElement.current)||void 0===e?void 0:e.querySelector("input");if(t){var n=new google.maps.places.Autocomplete(t,this.props.options);this.registeredEvents=t_({updaterMap:Zx,eventMap:Xx,prevProps:{},nextProps:this.props,instance:n}),this.setState((()=>({autocomplete:n})),this.setAutocompleteCallback)}}componentDidUpdate(e){e_(this.registeredEvents),this.registeredEvents=t_({updaterMap:Zx,eventMap:Xx,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){null!==this.state.autocomplete&&e_(this.registeredEvents)}render(){return(0,vw.jsx)("div",{ref:this.containerElement,className:this.props.className,children:t.Children.only(this.props.children)})}}WE(ek,"defaultProps",{className:""}),WE(ek,"contextType",YE);const tk=yr.div`
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
`,nk=yr.div`
  margin-bottom: 20px;
`,rk=yr.h1`
  font-size: 1.8rem;
  color: #333;
  margin-bottom: 10px;
`,ik=yr.div`
  margin-bottom: 20px;
  display: flex;
  gap: 10px;
`,sk=yr.button`
  padding: 8px 16px;
  border-radius: 20px;
  background-color: ${e=>{let{active:t}=e;return t?"#4a86e8":"white"}};
  color: ${e=>{let{active:t}=e;return t?"white":"#333"}};
  border: 1px solid #4a86e8;
  cursor: pointer;
  transition: all 0.3s ease;

  &:hover {
    background-color: ${e=>{let{active:t}=e;return t?"#3a76d8":"#f0f0f0"}};
  }
`,ok=yr.div`
  display: flex;
  gap: 10px;
  margin-bottom: 20px;
  flex-wrap: wrap;
`,ak=yr.button`
  padding: 8px 16px;
  border-radius: 20px;
  background-color: ${e=>{let{active:t}=e;return t?"#4a86e8":"white"}};
  color: ${e=>{let{active:t}=e;return t?"white":"#333"}};
  border: 1px solid #4a86e8;
  cursor: pointer;
  transition: all 0.3s ease;

  &:hover {
    background-color: ${e=>{let{active:t}=e;return t?"#3a76d8":"#f0f0f0"}};
  }
`,lk=yr.div`
  width: 100%;
  height: 600px;
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  margin-bottom: 20px;

  @media (max-width: 768px) {
    height: 400px;
  }
`,uk=yr.form`
  background-color: white;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
`,ck=yr.h3`
  font-size: 1.2rem;
  color: #333;
  margin-bottom: 15px;
`,hk=yr.div`
  margin-bottom: 15px;
`,dk=yr.label`
  display: block;
  margin-bottom: 5px;
  color: #555;
  font-size: 0.9rem;
`,pk=yr.input`
  width: 100%;
  padding: 8px;
  border: 1px solid #ddd;
  border-radius: 5px;
  font-size: 1rem;
`,fk=yr.select`
  width: 100%;
  padding: 8px;
  border: 1px solid #ddd;
  border-radius: 5px;
  font-size: 1rem;
`,gk=yr.button`
  background-color: #4a86e8;
  color: white;
  padding: 10px 20px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 1rem;
  transition: background-color 0.3s;

  &:hover {
    background-color: #3a76d8;
  }

  &:disabled {
    background-color: #a2c0f7;
    cursor: not-allowed;
  }
`,mk=yr(uk)`
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 1000;
  max-width: 500px;
  width: 90%;
  background-color: white;
  padding: 30px;
  border-radius: 15px;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
`,vk=yr.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: 999;
`,yk=yr.button`
  position: absolute;
  top: 10px;
  right: 10px;
  background: none;
  border: none;
  font-size: 24px;
  cursor: pointer;
  color: #666;
  
  &:hover {
    color: #333;
  }
`,bk=[{id:"all",name:"\uc804\uccb4"},{id:"restaurant",name:"\ub9db\uc9d1"},{id:"cafe",name:"\uce74\ud398"},{id:"movie",name:"\uc601\ud654\uad00"},{id:"date",name:"\ub370\uc774\ud2b8"},{id:"travel",name:"\uc5ec\ud589"},{id:"special",name:"\ud2b9\ubcc4\ud55c \ub0a0"}],wk=()=>{const e=(0,t.useRef)(null),n=(0,t.useRef)(null),r=(0,t.useRef)([]),[i,s]=(0,t.useState)("all"),[o,a]=(0,t.useState)([]),[l,u]=(0,t.useState)({title:"",date:"",category:"date",description:"",location:null}),[c,h]=(0,t.useState)(!1),[d,p]=(0,t.useState)(null),[f,g]=(0,t.useState)("naver"),[m,v]=(0,t.useState)(null);(0,t.useEffect)((()=>{const t=()=>{if(!e.current||!window.naver)return;const t={center:new window.naver.maps.LatLng(37.5665,126.978),zoom:11,zoomControl:!0,zoomControlOptions:{position:window.naver.maps.Position.TOP_RIGHT}};n.current=new window.naver.maps.Map(e.current,t),window.naver.maps.Event.addListener(n.current,"click",y)};return window.naver&&window.naver.maps?t():window.addEventListener("load",t),w(),()=>{window.removeEventListener("load",t)}}),[]);const y=e=>{const t=e.coord;u((e=>({...e,location:{lat:t.lat(),lng:t.lng()}})));const i=new window.naver.maps.Marker({position:t,map:n.current,icon:{content:'<div style="\n          background-color: #4a86e8;\n          border-radius: 50%;\n          width: 12px;\n          height: 12px;\n          border: 2px solid white;\n          box-shadow: 0 2px 4px rgba(0,0,0,0.2);\n        "></div>',anchor:new window.naver.maps.Point(6,6)}});r.current.length>0&&r.current[0].setMap(null),r.current=[i]},b=e=>{const t={lat:e.latLng.lat(),lng:e.latLng.lng()};u((e=>({...e,location:t})))},w=async()=>{try{const e=(await Ev(bm(gw,"memories"))).docs.map((e=>({id:e.id,...e.data()})));a(e),E(e)}catch(e){console.error("\ucd94\uc5b5 \ub85c\ub4dc \uc624\ub958:",e)}},E=e=>{n.current&&(r.current.forEach((e=>e.setMap(null))),r.current=[],e.forEach((e=>{if(!e.location)return;const t=new window.naver.maps.Marker({position:new window.naver.maps.LatLng(e.location.lat,e.location.lng),map:n.current,icon:{content:'<div style="\n            background-color: #4a86e8;\n            border-radius: 50%;\n            width: 12px;\n            height: 12px;\n            border: 2px solid white;\n            box-shadow: 0 2px 4px rgba(0,0,0,0.2);\n          "></div>',anchor:new window.naver.maps.Point(6,6)}});r.current.push(t);const i=new window.naver.maps.InfoWindow({content:`\n          <div style="padding: 10px;">\n            <h3 style="margin: 0 0 5px 0;">${e.title}</h3>\n            <p style="margin: 0 0 5px 0;">${e.date}</p>\n            <p style="margin: 0;">${e.description}</p>\n          </div>\n        `});window.naver.maps.Event.addListener(t,"click",(()=>{i.getMap()?i.close():i.open(n.current,t)}))})))},_=e=>{const{name:t,value:n}=e.target;p((e=>({...e,[t]:n})))};return(0,vw.jsxs)(tk,{children:[(0,vw.jsxs)(nk,{children:[(0,vw.jsx)(rk,{children:"\ucd94\uc5b5 \uc9c0\ub3c4"}),(0,vw.jsxs)(ik,{children:[(0,vw.jsx)(sk,{active:"naver"===f,onClick:()=>g("naver"),children:"\ub124\uc774\ubc84 \uc9c0\ub3c4"}),(0,vw.jsx)(sk,{active:"google"===f,onClick:()=>g("google"),children:"\uad6c\uae00 \uc9c0\ub3c4"})]}),(0,vw.jsx)(ok,{children:bk.map((e=>(0,vw.jsx)(ak,{active:i===e.id,onClick:()=>(e=>{s(e);const t="all"===e?o:o.filter((t=>t.category===e));E(t)})(e.id),children:e.name},e.id)))})]}),"naver"===f?(0,vw.jsx)(lk,{ref:e}):(0,vw.jsx)(m_,{googleMapsApiKey:"AIzaSyDiV0sSiuFWEfwe8K6K5Ud-yglJEOODSqo",children:(0,vw.jsxs)(i_,{mapContainerStyle:{width:"100%",height:"600px"},center:{lat:37.5665,lng:126.978},zoom:11,onClick:b,children:[o.map((e=>(0,vw.jsx)(U_,{position:{lat:e.location.lat,lng:e.location.lng},onClick:()=>(e=>{v(e),p(e)})(e)},e.id))),l.location&&"google"===f&&(0,vw.jsx)(U_,{position:{lat:l.location.lat,lng:l.location.lng},icon:{url:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png"}}),m&&(0,vw.jsx)($S,{position:{lat:m.location.lat,lng:m.location.lng},onCloseClick:()=>v(null),children:(0,vw.jsxs)("div",{children:[(0,vw.jsx)("h3",{children:m.title}),(0,vw.jsx)("p",{children:m.date}),(0,vw.jsx)("p",{children:m.description}),(0,vw.jsx)("button",{onClick:()=>p(m),style:{padding:"5px 10px",backgroundColor:"#4a86e8",color:"white",border:"none",borderRadius:"3px",marginTop:"5px",cursor:"pointer"},children:"\uc218\uc815\ud558\uae30"})]})})]})}),(0,vw.jsxs)(uk,{onSubmit:async e=>{if(e.preventDefault(),l.location){h(!0);try{await xv(bm(gw,"memories"),{...l,createdAt:(new Date).toISOString()});alert("\ucd94\uc5b5\uc774 \uc131\uacf5\uc801\uc73c\ub85c \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),u({title:"",date:"",category:"date",description:"",location:null}),w()}catch(t){console.error("\ucd94\uc5b5 \uc800\uc7a5 \uc624\ub958:",t);let e="\ucd94\uc5b5 \uc800\uc7a5 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.";switch(t.code){case"permission-denied":e="\uc800\uc7a5 \uad8c\ud55c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \ub85c\uadf8\uc778\ud574\uc8fc\uc138\uc694.";break;case"unavailable":e="\uc11c\ube44\uc2a4\uac00 \uc77c\uc2dc\uc801\uc73c\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.";break;default:e=`\uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4: ${t.message}`}alert(e)}finally{h(!1)}}else alert("\uc9c0\ub3c4\ub97c \ud074\ub9ad\ud558\uc5ec \uc704\uce58\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694.")},children:[(0,vw.jsx)(ck,{children:"\uc0c8\ub85c\uc6b4 \ucd94\uc5b5 \uae30\ub85d\ud558\uae30"}),(0,vw.jsxs)(hk,{children:[(0,vw.jsx)(dk,{htmlFor:"title",children:"\uc81c\ubaa9"}),(0,vw.jsx)(pk,{id:"title",value:l.title,onChange:e=>u((t=>({...t,title:e.target.value}))),required:!0})]}),(0,vw.jsxs)(hk,{children:[(0,vw.jsx)(dk,{htmlFor:"date",children:"\ub0a0\uc9dc"}),(0,vw.jsx)(pk,{id:"date",type:"date",value:l.date,onChange:e=>u((t=>({...t,date:e.target.value}))),required:!0})]}),(0,vw.jsxs)(hk,{children:[(0,vw.jsx)(dk,{htmlFor:"category",children:"\uce74\ud14c\uace0\ub9ac"}),(0,vw.jsx)(fk,{id:"category",value:l.category,onChange:e=>u((t=>({...t,category:e.target.value}))),children:bk.slice(1).map((e=>(0,vw.jsx)("option",{value:e.id,children:e.name},e.id)))})]}),(0,vw.jsxs)(hk,{children:[(0,vw.jsx)(dk,{htmlFor:"description",children:"\uc124\uba85"}),(0,vw.jsx)(pk,{id:"description",as:"textarea",value:l.description,onChange:e=>u((t=>({...t,description:e.target.value}))),required:!0})]}),(0,vw.jsx)(gk,{type:"submit",disabled:c,children:c?"\uc800\uc7a5 \uc911...":"\ucd94\uc5b5 \uc800\uc7a5\ud558\uae30"})]}),d&&(0,vw.jsxs)(vw.Fragment,{children:[(0,vw.jsx)(vk,{onClick:()=>{p(null),v(null)}}),(0,vw.jsxs)(mk,{onSubmit:async e=>{if(e.preventDefault(),d.title.trim()&&d.description.trim())try{const e=wm(gw,"memories",d.id);await _v(e,{title:d.title,description:d.description,category:d.category,date:d.date}),p(null),v(null),w()}catch(t){console.error("\uba54\ubaa8\ub9ac \uc218\uc815 \uc624\ub958:",t),alert("\uba54\ubaa8\ub9ac \uc218\uc815 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}else alert("\uc81c\ubaa9\uacfc \uc124\uba85\uc744 \ubaa8\ub450 \uc785\ub825\ud574\uc8fc\uc138\uc694.")},children:[(0,vw.jsx)(yk,{onClick:()=>{p(null),v(null)},children:"\xd7"}),(0,vw.jsx)(ck,{children:"\uba54\ubaa8\ub9ac \uc218\uc815"}),(0,vw.jsxs)(hk,{children:[(0,vw.jsx)(dk,{children:"\uc81c\ubaa9"}),(0,vw.jsx)(pk,{type:"text",name:"title",value:d.title,onChange:_,placeholder:"\uba54\ubaa8\ub9ac \uc81c\ubaa9"})]}),(0,vw.jsxs)(hk,{children:[(0,vw.jsx)(dk,{children:"\ub0a0\uc9dc"}),(0,vw.jsx)(pk,{type:"date",name:"date",value:d.date,onChange:_})]}),(0,vw.jsxs)(hk,{children:[(0,vw.jsx)(dk,{children:"\uce74\ud14c\uace0\ub9ac"}),(0,vw.jsx)(fk,{name:"category",value:d.category,onChange:_,children:bk.slice(1).map((e=>(0,vw.jsx)("option",{value:e.id,children:e.name},e.id)))})]}),(0,vw.jsxs)(hk,{children:[(0,vw.jsx)(dk,{children:"\uc124\uba85"}),(0,vw.jsx)(pk,{as:"textarea",name:"description",value:d.description,onChange:_,placeholder:"\uba54\ubaa8\ub9ac \uc124\uba85"})]}),(0,vw.jsx)(gk,{type:"submit",children:"\uc218\uc815\ud558\uae30"})]})]})]})},Ek=yr.div`
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
`,_k=yr.div`
  margin-bottom: 30px;
`,Sk=yr.h1`
  font-size: 1.8rem;
  color: #333;
  margin-bottom: 10px;
`,xk=yr.div`
  display: flex;
  gap: 10px;
  margin-bottom: 20px;
  flex-wrap: wrap;
`,kk=yr.button`
  padding: 8px 16px;
  border-radius: 20px;
  background-color: ${e=>{let{active:t}=e;return t?"#4a86e8":"white"}};
  color: ${e=>{let{active:t}=e;return t?"white":"#333"}};
  border: 1px solid #4a86e8;
  cursor: pointer;
  transition: all 0.3s ease;

  &:hover {
    background-color: ${e=>{let{active:t}=e;return t?"#3a76d8":"#f0f0f0"}};
  }
`,Ck=yr.div`
  position: relative;
  padding: 20px 0;

  &::before {
    content: '';
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    width: 2px;
    height: 100%;
    background-color: #4a86e8;
    
    @media (max-width: 768px) {
      left: 30px;
    }
  }
`,Tk=yr.div`
  display: flex;
  justify-content: ${e=>{let{position:t}=e;return"left"===t?"flex-start":"flex-end"}};
  padding: 20px 0;
  width: 100%;
  position: relative;

  @media (max-width: 768px) {
    justify-content: flex-start;
    padding-left: 60px;
  }
`,Ik=yr.div`
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  width: 16px;
  height: 16px;
  background-color: #4a86e8;
  border: 3px solid white;
  border-radius: 50%;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);

  @media (max-width: 768px) {
    left: 30px;
  }
`,Lk=yr.div`
  width: 45%;
  background-color: white;
  border-radius: 10px;
  padding: 20px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  position: relative;

  &::before {
    content: '';
    position: absolute;
    top: 20px;
    ${e=>{let{position:t}=e;return"left"===t?"right: -10px; border-left: 10px solid white;":"left: -10px; border-right: 10px solid white;"}}
    border-top: 10px solid transparent;
    border-bottom: 10px solid transparent;
  }

  @media (max-width: 768px) {
    width: 100%;

    &::before {
      left: -10px;
      border-right: 10px solid white;
      border-left: none;
    }
  }
`,Pk=yr.img`
  width: 100%;
  height: 200px;
  object-fit: cover;
  border-radius: 5px;
  margin-bottom: 15px;
`,Ok=yr.h3`
  font-size: 1.2rem;
  color: #333;
  margin-bottom: 10px;
`,Ak=yr.p`
  font-size: 0.9rem;
  color: #666;
  margin-bottom: 10px;
`,Dk=yr.p`
  font-size: 1rem;
  color: #555;
  line-height: 1.5;
`,Rk=yr.span`
  display: inline-block;
  padding: 4px 8px;
  background-color: #e8f0fe;
  color: #4a86e8;
  border-radius: 15px;
  font-size: 0.8rem;
  margin-bottom: 10px;
`,Mk=yr.button`
  display: block;
  width: 200px;
  margin: 30px auto;
  padding: 10px 20px;
  background-color: #4a86e8;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 1rem;
  transition: background-color 0.3s;

  &:hover {
    background-color: #3a76d8;
  }

  &:disabled {
    background-color: #a2c0f7;
    cursor: not-allowed;
  }
`,Nk=[{id:"all",name:"\uc804\uccb4"},{id:"date",name:"\ub370\uc774\ud2b8"},{id:"travel",name:"\uc5ec\ud589"},{id:"food",name:"\ub9db\uc9d1"},{id:"cafe",name:"\uce74\ud398"},{id:"special",name:"\ud2b9\ubcc4\ud55c \ub0a0"}],jk=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)("all"),[s,o]=(0,t.useState)(!1),[a,l]=(0,t.useState)(1);(0,t.useEffect)((()=>{u()}),[r]);const u=async()=>{o(!0);try{const e=rv(bm(gw,"memories"),av("date","desc"));let t=(await Ev(e)).docs.map((e=>({id:e.id,...e.data()})));"all"!==r&&(t=t.filter((e=>e.category===r))),n(t)}catch(e){console.error("\ucd94\uc5b5 \ub85c\ub4dc \uc624\ub958:",e)}finally{o(!1)}},c=e.slice(0,10*a),h=e.length>c.length,d=e=>{const t=Nk.find((t=>t.id===e));return t?t.name:e};return(0,vw.jsxs)(Ek,{children:[(0,vw.jsxs)(_k,{children:[(0,vw.jsx)(Sk,{children:"\uc6b0\ub9ac\uc758 \ud0c0\uc784\ub77c\uc778"}),(0,vw.jsx)(xk,{children:Nk.map((e=>(0,vw.jsx)(kk,{active:r===e.id,onClick:()=>(e=>{i(e),l(1)})(e.id),children:e.name},e.id)))})]}),(0,vw.jsx)(Ck,{children:c.map(((e,t)=>(0,vw.jsxs)(Tk,{position:t%2===0?"left":"right",children:[(0,vw.jsx)(Ik,{}),(0,vw.jsxs)(Lk,{position:t%2===0?"left":"right",children:[e.photoUrl&&(0,vw.jsx)(Pk,{src:e.photoUrl,alt:e.title}),(0,vw.jsx)(Rk,{children:d(e.category)}),(0,vw.jsx)(Ok,{children:e.title}),(0,vw.jsx)(Ak,{children:new Date(e.date).toLocaleDateString()}),(0,vw.jsx)(Dk,{children:e.description})]})]},e.id)))}),h&&(0,vw.jsx)(Mk,{onClick:()=>l((e=>e+1)),disabled:s,children:s?"\ub85c\ub529 \uc911...":"\ub354 \ubcf4\uae30"})]})},Uk=yr.div`
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
`,Fk=yr.div`
  margin-bottom: 30px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 20px;
`,zk=yr.h1`
  font-size: 2rem;
  color: #333;
  margin: 0;
`,Vk=yr.div`
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
`,Bk=yr.div`
  display: flex;
  gap: 10px;
  margin-bottom: 15px;
  flex-wrap: wrap;
`,$k=yr.button`
  padding: 8px 16px;
  border-radius: 20px;
  background-color: ${e=>{let{active:t}=e;return t?"#4a86e8":"white"}};
  color: ${e=>{let{active:t}=e;return t?"white":"#333"}};
  border: 1px solid #4a86e8;
  cursor: pointer;
  transition: all 0.3s ease;
  font-size: 0.9rem;

  &:hover {
    background-color: ${e=>{let{active:t}=e;return t?"#3a76d8":"#f0f0f0"}};
  }
`,Wk=yr.form`
  background-color: white;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  margin-bottom: 30px;
`,Hk=yr.div`
  margin-bottom: 15px;
`,qk=yr.label`
  display: block;
  margin-bottom: 5px;
  color: #333;
  font-weight: 500;
`,Kk=yr.input`
  width: 100%;
  padding: 8px 12px;
  border: 1px solid #ddd;
  border-radius: 5px;
  font-size: 1rem;
`,Gk=yr.textarea`
  width: 100%;
  padding: 8px 12px;
  border: 1px solid #ddd;
  border-radius: 5px;
  font-size: 1rem;
  min-height: 100px;
  resize: vertical;
`,Qk=yr.button`
  padding: 10px 20px;
  background-color: #4a86e8;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 1rem;
  transition: background-color 0.3s;

  &:hover {
    background-color: #3a76d8;
  }

  &:disabled {
    background-color: #a2c0f7;
    cursor: not-allowed;
  }
`,Yk=yr.div`
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 20px;
`,Jk=yr.div`
  background: white;
  border-radius: 12px;
  padding: 20px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
  cursor: pointer;

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }
`,Xk=yr.h3`
  margin: 0 0 10px 0;
  color: #333;
  font-size: 1.2rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
`,Zk=yr.div`
  color: #666;
  font-size: 0.95rem;
  line-height: 1.5;
  max-height: ${e=>{let{isExpanded:t}=e;return t?"500px":"0"}};
  overflow: hidden;
  transition: max-height 0.3s ease;
`,eC=yr.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 10px;
  font-size: 0.85rem;
  color: #999;
`,tC=yr.span`
  display: inline-block;
  padding: 4px 8px;
  background-color: #e8f0fe;
  color: #4a86e8;
  border-radius: 12px;
  font-size: 0.8rem;
`,nC=yr.button`
  position: absolute;
  top: 10px;
  right: 10px;
  background: none;
  border: none;
  color: #ff4444;
  cursor: pointer;
  font-size: 1.2rem;
  opacity: 0;
  transition: opacity 0.3s;

  ${Jk}:hover & {
    opacity: 1;
  }

  &:hover {
    color: #ff0000;
  }
`,rC=yr.div`
  text-align: center;
  padding: 20px;
  color: #666;
  font-size: 1.1rem;
`,iC=yr.div`
  text-align: center;
  padding: 20px;
  color: #666;
  font-size: 1.1rem;
`,sC=[{id:"all",name:"\uc804\uccb4"},{id:"love",name:"\uc0ac\ub791"},{id:"memory",name:"\ucd94\uc5b5"},{id:"wish",name:"\uc18c\ub9dd"},{id:"gratitude",name:"\uac10\uc0ac"}],oC=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)("all"),[s,o]=(0,t.useState)(!0),[a,l]=(0,t.useState)(null),[u,c]=(0,t.useState)({title:"",content:"",category:"love"});(0,t.useEffect)((()=>{h()}),[r]);const h=async()=>{o(!0);try{const e=rv(bm(gw,"messages"),av("date","desc"));let t=(await Ev(e)).docs.map((e=>({id:e.id,...e.data()})));"all"!==r&&(t=t.filter((e=>e.category===r))),n(t)}catch(e){console.error("\uba54\uc2dc\uc9c0 \ub85c\ub4dc \uc624\ub958:",e)}finally{o(!1)}},d=e=>{const{name:t,value:n}=e.target;c((e=>({...e,[t]:n})))};return(0,vw.jsxs)(Uk,{children:[(0,vw.jsxs)(Fk,{children:[(0,vw.jsx)(zk,{children:"\uc6b0\ub9ac\uc758 \uba54\uc2dc\uc9c0"}),(0,vw.jsx)(Vk,{children:(0,vw.jsxs)(Bk,{children:[(0,vw.jsx)($k,{active:"all"===r,onClick:()=>i("all"),children:"\uc804\uccb4"}),sC.map((e=>(0,vw.jsx)($k,{active:r===e.id,onClick:()=>i(e.id),children:e.name},e.id)))]})})]}),(0,vw.jsxs)(Wk,{onSubmit:async e=>{if(e.preventDefault(),u.title.trim()&&u.content.trim()){o(!0);try{await xv(bm(gw,"messages"),{...u,date:(new Date).toISOString()}),c({title:"",content:"",category:"love"}),h()}catch(t){console.error("\uba54\uc2dc\uc9c0 \uc800\uc7a5 \uc624\ub958:",t),alert("\uba54\uc2dc\uc9c0 \uc800\uc7a5 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}finally{o(!1)}}else alert("\uc81c\ubaa9\uacfc \ub0b4\uc6a9\uc744 \ubaa8\ub450 \uc785\ub825\ud574\uc8fc\uc138\uc694.")},children:[(0,vw.jsxs)(Hk,{children:[(0,vw.jsx)(qk,{children:"\uc81c\ubaa9"}),(0,vw.jsx)(Kk,{type:"text",name:"title",value:u.title,onChange:d,placeholder:"\uba54\uc2dc\uc9c0 \uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694"})]}),(0,vw.jsxs)(Hk,{children:[(0,vw.jsx)(qk,{children:"\uce74\ud14c\uace0\ub9ac"}),(0,vw.jsx)(Kk,{as:"select",name:"category",value:u.category,onChange:d,children:sC.filter((e=>"all"!==e.id)).map((e=>(0,vw.jsx)("option",{value:e.id,children:e.name},e.id)))})]}),(0,vw.jsxs)(Hk,{children:[(0,vw.jsx)(qk,{children:"\ub0b4\uc6a9"}),(0,vw.jsx)(Gk,{name:"content",value:u.content,onChange:d,placeholder:"\uba54\uc2dc\uc9c0 \ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694"})]}),(0,vw.jsx)(Qk,{type:"submit",disabled:s,children:s?"\uc800\uc7a5 \uc911...":"\uba54\uc2dc\uc9c0 \ub0a8\uae30\uae30"})]}),(0,vw.jsx)(Yk,{children:s?(0,vw.jsx)(rC,{children:"\ub85c\ub529 \uc911..."}):0===e.length?(0,vw.jsx)(iC,{children:"\uba54\uc2dc\uc9c0\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."}):e.map((e=>{var t;return(0,vw.jsxs)(Jk,{onClick:()=>{return t=e.id,void l(a===t?null:t);var t},children:[(0,vw.jsxs)(Xk,{children:[e.title,(0,vw.jsx)(nC,{onClick:t=>{t.stopPropagation(),(async e=>{if(window.confirm("\uc774 \uba54\uc2dc\uc9c0\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))try{o(!0),await Sv(wm(gw,"messages",e)),h()}catch(t){console.error("\uba54\uc2dc\uc9c0 \uc0ad\uc81c \uc624\ub958:",t),alert("\uba54\uc2dc\uc9c0 \uc0ad\uc81c \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}finally{o(!1)}})(e.id)},children:"\xd7"})]}),(0,vw.jsx)(Zk,{isExpanded:a===e.id,children:e.content}),(0,vw.jsxs)(eC,{children:[(0,vw.jsx)(tC,{children:null===(t=sC.find((t=>t.id===e.category)))||void 0===t?void 0:t.name}),(0,vw.jsx)("span",{children:new Date(e.date).toLocaleDateString()})]})]},e.id)}))})]})},aC=yr.div`
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
  text-align: center;
`,lC=yr.div`
  padding: 60px 20px;
  background: linear-gradient(135deg, #4a86e8 0%, #3a76d8 100%);
  color: white;
  border-radius: 10px;
  margin-bottom: 40px;
`,uC=yr.h1`
  font-size: 2.5rem;
  margin-bottom: 20px;
`,cC=yr.p`
  font-size: 1.2rem;
  margin-bottom: 30px;
`,hC=yr(Te)`
  display: inline-block;
  padding: 12px 30px;
  background-color: white;
  color: #4a86e8;
  text-decoration: none;
  border-radius: 25px;
  font-weight: 600;
  transition: transform 0.3s;

  &:hover {
    transform: translateY(-2px);
  }
`,dC=yr.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 30px;
  margin-top: 40px;
`,pC=yr.div`
  padding: 20px;
  background-color: white;
  border-radius: 10px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
`,fC=yr.h3`
  font-size: 1.3rem;
  color: #333;
  margin-bottom: 10px;
`,gC=yr.p`
  color: #666;
  line-height: 1.6;
`,mC=()=>(0,vw.jsxs)(aC,{children:[(0,vw.jsxs)(lC,{children:[(0,vw.jsx)(uC,{children:"\uc6b0\ub9ac\uc758 \ucd94\uc5b5\uc744 \ud2b9\ubcc4\ud558\uac8c"}),(0,vw.jsx)(cC,{children:"\uc0ac\uc9c4, \uba54\uc2dc\uc9c0, \uc9c0\ub3c4\ub85c \uc6b0\ub9ac\uc758 \uc18c\uc911\ud55c \uc21c\uac04\ub4e4\uc744 \uae30\ub85d\ud558\uace0 \uacf5\uc720\ud558\uc138\uc694"}),(0,vw.jsx)(hC,{to:"/signup",children:"\uc2dc\uc791\ud558\uae30"})]}),(0,vw.jsxs)(dC,{children:[(0,vw.jsxs)(pC,{children:[(0,vw.jsx)(fC,{children:"\uac24\ub7ec\ub9ac"}),(0,vw.jsx)(gC,{children:"\uc0ac\uc9c4\uc744 \uc5c5\ub85c\ub4dc\ud558\uace0 \uce74\ud14c\uace0\ub9ac\ubcc4\ub85c \uc815\ub9ac\ud558\uc5ec \uc6b0\ub9ac\uc758 \ud2b9\ubcc4\ud55c \uc21c\uac04\ub4e4\uc744 \ubcf4\uad00\ud558\uc138\uc694."})]}),(0,vw.jsxs)(pC,{children:[(0,vw.jsx)(fC,{children:"\ucd94\uc5b5 \uc9c0\ub3c4"}),(0,vw.jsx)(gC,{children:"\ud568\uaed8 \ub2e4\ub2cc \uc7a5\uc18c\ub4e4\uc744 \uc9c0\ub3c4\uc5d0 \ud45c\uc2dc\ud558\uace0 \uadf8\uacf3\uc5d0\uc11c\uc758 \ucd94\uc5b5\uc744 \uae30\ub85d\ud558\uc138\uc694."})]}),(0,vw.jsxs)(pC,{children:[(0,vw.jsx)(fC,{children:"\ud0c0\uc784\ub77c\uc778"}),(0,vw.jsx)(gC,{children:"\uc2dc\uac04 \uc21c\uc11c\ub300\ub85c \uc6b0\ub9ac\uc758 \ucd94\uc5b5\ub4e4\uc744 \uc815\ub9ac\ud558\uace0 \ud2b9\ubcc4\ud55c \uc21c\uac04\ub4e4\uc744 \ub418\ub3cc\uc544\ubcf4\uc138\uc694."})]}),(0,vw.jsxs)(pC,{children:[(0,vw.jsx)(fC,{children:"\uba54\uc2dc\uc9c0"}),(0,vw.jsx)(gC,{children:"\uc11c\ub85c\uc5d0\uac8c \uc804\ud558\ub294 \ub530\ub73b\ud55c \uba54\uc2dc\uc9c0\ub97c \ub0a8\uae30\uace0 \uc18c\ud1b5\ud558\uc138\uc694."})]})]})]}),vC=yr.div`
  max-width: 400px;
  margin: 40px auto;
  padding: 20px;
`,yC=yr.h1`
  font-size: 2rem;
  color: #333;
  margin-bottom: 20px;
  text-align: center;
`,bC=yr.form`
  background-color: white;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
`,wC=yr.div`
  margin-bottom: 20px;
`,EC=yr.label`
  display: block;
  margin-bottom: 5px;
  color: #555;
`,_C=yr.input`
  width: 100%;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 5px;
  font-size: 1rem;

  &:focus {
    border-color: #4a86e8;
    outline: none;
  }
`,SC=yr.button`
  width: 100%;
  padding: 12px;
  background-color: #4a86e8;
  color: white;
  border: none;
  border-radius: 5px;
  font-size: 1rem;
  cursor: pointer;
  transition: background-color 0.3s;

  &:hover {
    background-color: #3a76d8;
  }

  &:disabled {
    background-color: #a2c0f7;
    cursor: not-allowed;
  }
`,xC=yr.div`
  color: #dc3545;
  margin-top: 10px;
  font-size: 0.9rem;
  text-align: center;
`,kC=yr.p`
  text-align: center;
  margin-top: 20px;
  color: #666;

  a {
    color: #4a86e8;
    text-decoration: none;

    &:hover {
      text-decoration: underline;
    }
  }
`,CC=()=>{const e=ee(),[n,r]=(0,t.useState)({name:"",email:"",password:"",confirmPassword:""}),[i,s]=(0,t.useState)(""),[o,a]=(0,t.useState)(!1),l=e=>{const{name:t,value:n}=e.target;r((e=>({...e,[t]:n})))};return(0,vw.jsxs)(vC,{children:[(0,vw.jsx)(yC,{children:"\ud68c\uc6d0\uac00\uc785"}),(0,vw.jsxs)(bC,{onSubmit:async t=>{if(t.preventDefault(),s(""),n.password===n.confirmPassword)try{a(!0);const t=await ka(fw,n.email,n.password);await Ta(t.user,{displayName:n.name}),await function(e,t,n){e=dm(e,vm);const r=dm(e.firestore,_m),i=fv(e.converter,t,n);return kv(r,[jm(Nm(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,cd.none())])}(wm(gw,"users",t.user.uid),{name:n.name,email:n.email,createdAt:(new Date).toISOString(),emailNotifications:!0,darkMode:!1}),e("/dashboard")}catch(i){switch(console.error("\ud68c\uc6d0\uac00\uc785 \uc624\ub958:",i),i.code){case"auth/email-already-in-use":s("\uc774\ubbf8 \uc0ac\uc6a9 \uc911\uc778 \uc774\uba54\uc77c\uc785\ub2c8\ub2e4.");break;case"auth/invalid-email":s("\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uc774\uba54\uc77c \ud615\uc2dd\uc785\ub2c8\ub2e4.");break;case"auth/weak-password":s("\ube44\ubc00\ubc88\ud638\ub294 \ucd5c\uc18c 6\uc790 \uc774\uc0c1\uc774\uc5b4\uc57c \ud569\ub2c8\ub2e4.");break;default:s("\ud68c\uc6d0\uac00\uc785 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}}finally{a(!1)}else s("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")},children:[(0,vw.jsxs)(wC,{children:[(0,vw.jsx)(EC,{children:"\uc774\ub984"}),(0,vw.jsx)(_C,{type:"text",name:"name",value:n.name,onChange:l,required:!0})]}),(0,vw.jsxs)(wC,{children:[(0,vw.jsx)(EC,{children:"\uc774\uba54\uc77c"}),(0,vw.jsx)(_C,{type:"email",name:"email",value:n.email,onChange:l,required:!0})]}),(0,vw.jsxs)(wC,{children:[(0,vw.jsx)(EC,{children:"\ube44\ubc00\ubc88\ud638"}),(0,vw.jsx)(_C,{type:"password",name:"password",value:n.password,onChange:l,required:!0})]}),(0,vw.jsxs)(wC,{children:[(0,vw.jsx)(EC,{children:"\ube44\ubc00\ubc88\ud638 \ud655\uc778"}),(0,vw.jsx)(_C,{type:"password",name:"confirmPassword",value:n.confirmPassword,onChange:l,required:!0})]}),(0,vw.jsx)(SC,{type:"submit",disabled:o,children:o?"\uac00\uc785 \uc911...":"\uac00\uc785\ud558\uae30"}),i&&(0,vw.jsx)(xC,{children:i})]}),(0,vw.jsxs)(kC,{children:["\uc774\ubbf8 \uacc4\uc815\uc774 \uc788\uc73c\uc2e0\uac00\uc694? ",(0,vw.jsx)(Te,{to:"/login",children:"\ub85c\uadf8\uc778"})]})]})},TC=yr.div`
  max-width: 800px;
  margin: 0 auto;
  padding: 20px;
`,IC=yr.div`
  margin-bottom: 30px;
`,LC=yr.h1`
  font-size: 2rem;
  color: #333;
  margin-bottom: 10px;
`,PC=yr.p`
  color: #666;
  font-size: 1.1rem;
`,OC=yr.div`
  background-color: white;
  border-radius: 10px;
  padding: 20px;
  margin-bottom: 20px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
`,AC=yr.h2`
  font-size: 1.3rem;
  color: #333;
  margin-bottom: 20px;
  padding-bottom: 10px;
  border-bottom: 1px solid #eee;
`,DC=yr.div`
  margin-bottom: 20px;
`,RC=yr.label`
  display: block;
  margin-bottom: 8px;
  color: #555;
  font-weight: 500;
`,MC=yr.input`
  width: 100%;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 5px;
  font-size: 1rem;
  transition: border-color 0.3s;

  &:focus {
    border-color: #4a86e8;
    outline: none;
  }
`,NC=yr.button`
  background-color: #4a86e8;
  color: white;
  padding: 10px 20px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 1rem;
  transition: background-color 0.3s;

  &:hover {
    background-color: #3a76d8;
  }

  &:disabled {
    background-color: #a2c0f7;
    cursor: not-allowed;
  }
`,jC=yr.label`
  display: flex;
  align-items: center;
  cursor: pointer;
  user-select: none;
`,UC=yr.input`
  display: none;
`,FC=yr.span`
  position: relative;
  display: inline-block;
  width: 50px;
  height: 24px;
  background-color: #ccc;
  border-radius: 24px;
  margin-right: 10px;
  transition: background-color 0.3s;

  &:before {
    content: '';
    position: absolute;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background-color: white;
    top: 2px;
    left: 2px;
    transition: transform 0.3s;
  }

  ${UC}:checked + & {
    background-color: #4a86e8;
  }

  ${UC}:checked + &:before {
    transform: translateX(26px);
  }
`,zC=yr.div`
  color: #28a745;
  margin-top: 10px;
  font-size: 0.9rem;
`,VC=yr.div`
  color: #dc3545;
  margin-top: 10px;
  font-size: 0.9rem;
`,BC=()=>{const[e,n]=(0,t.useState)(null),[r,i]=(0,t.useState)(!1),[s,o]=(0,t.useState)(""),[a,l]=(0,t.useState)(""),[u,c]=(0,t.useState)({displayName:"",email:"",currentPassword:"",newPassword:"",confirmPassword:"",emailNotifications:!0,darkMode:!1});(0,t.useEffect)((()=>{const e=fw.onAuthStateChanged((e=>{e&&(n(e),c((t=>({...t,displayName:e.displayName||"",email:e.email||""}))))}));return()=>e()}),[]);const h=e=>{const{name:t,value:n,type:r,checked:i}=e.target;c((e=>({...e,[t]:"checkbox"===r?i:n})))};return(0,vw.jsxs)(TC,{children:[(0,vw.jsxs)(IC,{children:[(0,vw.jsx)(LC,{children:"\uc124\uc815"}),(0,vw.jsx)(PC,{children:"\uacc4\uc815 \ubc0f \uc571 \uc124\uc815\uc744 \uad00\ub9ac\ud558\uc138\uc694"})]}),(0,vw.jsxs)(OC,{children:[(0,vw.jsx)(AC,{children:"\ud504\ub85c\ud544 \uc124\uc815"}),(0,vw.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),i(!0),o(""),l("");try{u.displayName!==e.displayName&&await Ta(e,{displayName:u.displayName}),u.email!==e.email&&await function(e,t){const n=Gr(e);return ls(n.auth.app)?Promise.reject(Rs(n.auth)):Ia(n,t,null)}(e,u.email);const t=wm(gw,"users",e.uid);await _v(t,{displayName:u.displayName,email:u.email,updatedAt:(new Date).toISOString()}),o("\ud504\ub85c\ud544\uc774 \uc131\uacf5\uc801\uc73c\ub85c \uc5c5\ub370\uc774\ud2b8\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}catch(a){console.error("\ud504\ub85c\ud544 \uc5c5\ub370\uc774\ud2b8 \uc624\ub958:",a),l("\ud504\ub85c\ud544 \uc5c5\ub370\uc774\ud2b8 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}finally{i(!1)}},children:[(0,vw.jsxs)(DC,{children:[(0,vw.jsx)(RC,{children:"\uc774\ub984"}),(0,vw.jsx)(MC,{type:"text",name:"displayName",value:u.displayName,onChange:h})]}),(0,vw.jsxs)(DC,{children:[(0,vw.jsx)(RC,{children:"\uc774\uba54\uc77c"}),(0,vw.jsx)(MC,{type:"email",name:"email",value:u.email,onChange:h})]}),(0,vw.jsx)(NC,{type:"submit",disabled:r,children:r?"\uc800\uc7a5 \uc911...":"\ud504\ub85c\ud544 \uc5c5\ub370\uc774\ud2b8"}),s&&(0,vw.jsx)(zC,{children:s}),a&&(0,vw.jsx)(VC,{children:a})]})]}),(0,vw.jsxs)(OC,{children:[(0,vw.jsx)(AC,{children:"\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd"}),(0,vw.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),i(!0),o(""),l(""),u.newPassword!==u.confirmPassword)return l("\uc0c8 \ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),void i(!1);try{await function(e,t){return Ia(Gr(e),null,t)}(e,u.newPassword),o("\ube44\ubc00\ubc88\ud638\uac00 \uc131\uacf5\uc801\uc73c\ub85c \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),c((e=>({...e,currentPassword:"",newPassword:"",confirmPassword:""})))}catch(a){console.error("\ube44\ubc00\ubc88\ud638 \uc5c5\ub370\uc774\ud2b8 \uc624\ub958:",a),l("\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}finally{i(!1)}},children:[(0,vw.jsxs)(DC,{children:[(0,vw.jsx)(RC,{children:"\ud604\uc7ac \ube44\ubc00\ubc88\ud638"}),(0,vw.jsx)(MC,{type:"password",name:"currentPassword",value:u.currentPassword,onChange:h})]}),(0,vw.jsxs)(DC,{children:[(0,vw.jsx)(RC,{children:"\uc0c8 \ube44\ubc00\ubc88\ud638"}),(0,vw.jsx)(MC,{type:"password",name:"newPassword",value:u.newPassword,onChange:h})]}),(0,vw.jsxs)(DC,{children:[(0,vw.jsx)(RC,{children:"\uc0c8 \ube44\ubc00\ubc88\ud638 \ud655\uc778"}),(0,vw.jsx)(MC,{type:"password",name:"confirmPassword",value:u.confirmPassword,onChange:h})]}),(0,vw.jsx)(NC,{type:"submit",disabled:r,children:r?"\ubcc0\uacbd \uc911...":"\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd"}),s&&(0,vw.jsx)(zC,{children:s}),a&&(0,vw.jsx)(VC,{children:a})]})]}),(0,vw.jsxs)(OC,{children:[(0,vw.jsx)(AC,{children:"\uc54c\ub9bc \uc124\uc815"}),(0,vw.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),i(!0),o(""),l("");try{const t=wm(gw,"users",e.uid);await _v(t,{emailNotifications:u.emailNotifications,updatedAt:(new Date).toISOString()}),o("\uc54c\ub9bc \uc124\uc815\uc774 \uc5c5\ub370\uc774\ud2b8\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}catch(a){console.error("\uc54c\ub9bc \uc124\uc815 \uc5c5\ub370\uc774\ud2b8 \uc624\ub958:",a),l("\uc54c\ub9bc \uc124\uc815 \uc5c5\ub370\uc774\ud2b8 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}finally{i(!1)}},children:[(0,vw.jsx)(DC,{children:(0,vw.jsxs)(jC,{children:[(0,vw.jsx)(UC,{type:"checkbox",name:"emailNotifications",checked:u.emailNotifications,onChange:h}),(0,vw.jsx)(FC,{}),"\uc774\uba54\uc77c \uc54c\ub9bc"]})}),(0,vw.jsx)(NC,{type:"submit",disabled:r,children:r?"\uc800\uc7a5 \uc911...":"\uc54c\ub9bc \uc124\uc815 \uc800\uc7a5"}),s&&(0,vw.jsx)(zC,{children:s}),a&&(0,vw.jsx)(VC,{children:a})]})]}),(0,vw.jsxs)(OC,{children:[(0,vw.jsx)(AC,{children:"\ud14c\ub9c8 \uc124\uc815"}),(0,vw.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),i(!0),o(""),l("");try{const t=wm(gw,"users",e.uid);await _v(t,{darkMode:u.darkMode,updatedAt:(new Date).toISOString()}),o("\ud14c\ub9c8 \uc124\uc815\uc774 \uc5c5\ub370\uc774\ud2b8\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}catch(a){console.error("\ud14c\ub9c8 \uc124\uc815 \uc5c5\ub370\uc774\ud2b8 \uc624\ub958:",a),l("\ud14c\ub9c8 \uc124\uc815 \uc5c5\ub370\uc774\ud2b8 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}finally{i(!1)}},children:[(0,vw.jsx)(DC,{children:(0,vw.jsxs)(jC,{children:[(0,vw.jsx)(UC,{type:"checkbox",name:"darkMode",checked:u.darkMode,onChange:h}),(0,vw.jsx)(FC,{}),"\ub2e4\ud06c \ubaa8\ub4dc"]})}),(0,vw.jsx)(NC,{type:"submit",disabled:r,children:r?"\uc800\uc7a5 \uc911...":"\ud14c\ub9c8 \uc124\uc815 \uc800\uc7a5"}),s&&(0,vw.jsx)(zC,{children:s}),a&&(0,vw.jsx)(VC,{children:a})]})]})]})};const $C=yr.div`
  display: flex;
  flex-direction: column;
  height: 100vh;
`,WC=yr.div`
  flex: 1;
  display: flex;
  flex-direction: column;
`,HC=function(){return(0,vw.jsx)(ww,{children:(0,vw.jsx)(xe,{children:(0,vw.jsxs)($C,{children:[(0,vw.jsx)(Aw,{}),(0,vw.jsx)(WC,{children:(0,vw.jsxs)(ye,{children:[(0,vw.jsx)(me,{path:"/",element:(0,vw.jsx)(mC,{})}),(0,vw.jsx)(me,{path:"/login",element:(0,vw.jsx)(qw,{})}),(0,vw.jsx)(me,{path:"/signup",element:(0,vw.jsx)(CC,{})}),(0,vw.jsx)(me,{path:"/dashboard",element:(0,vw.jsx)(Dw,{children:(0,vw.jsx)(dE,{})})}),(0,vw.jsx)(me,{path:"/gallery",element:(0,vw.jsx)(Dw,{children:(0,vw.jsx)(VE,{})})}),(0,vw.jsx)(me,{path:"/map",element:(0,vw.jsx)(Dw,{children:(0,vw.jsx)(wk,{})})}),(0,vw.jsx)(me,{path:"/timeline",element:(0,vw.jsx)(Dw,{children:(0,vw.jsx)(jk,{})})}),(0,vw.jsx)(me,{path:"/messages",element:(0,vw.jsx)(Dw,{children:(0,vw.jsx)(oC,{})})}),(0,vw.jsx)(me,{path:"/settings",element:(0,vw.jsx)(Dw,{children:(0,vw.jsx)(BC,{})})})]})})]})})})},qC=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,vw.jsx)(t.StrictMode,{children:(0,vw.jsx)(HC,{})})),qC()})()})();
//# sourceMappingURL=main.0e7a5be6.js.map